(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();function Ro(t,s){const n=Object.create(null),o=t.split(",");for(let l=0;l<o.length;l++)n[o[l]]=!0;return s?l=>!!n[l.toLowerCase()]:l=>!!n[l]}const id="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cd=Ro(id);function Bc(t){return!!t||t===""}function ot(t){if(re(t)){const s={};for(let n=0;n<t.length;n++){const o=t[n],l=qe(o)?dd(o):ot(o);if(l)for(const r in l)s[r]=l[r]}return s}else{if(qe(t))return t;if(Ie(t))return t}}const pd=/;(?![^(]*\))/g,ud=/:(.+)/;function dd(t){const s={};return t.split(pd).forEach(n=>{if(n){const o=n.split(ud);o.length>1&&(s[o[0].trim()]=o[1].trim())}}),s}function Le(t){let s="";if(qe(t))s=t;else if(re(t))for(let n=0;n<t.length;n++){const o=Le(t[n]);o&&(s+=o+" ")}else if(Ie(t))for(const n in t)t[n]&&(s+=n+" ");return s.trim()}function W(t){if(!t)return null;let{class:s,style:n}=t;return s&&!qe(s)&&(t.class=Le(s)),n&&(t.style=ot(n)),t}const fd="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",yd=Ro(fd),$s=t=>qe(t)?t:t==null?"":re(t)||Ie(t)&&(t.toString===Sc||!ue(t.toString))?JSON.stringify(t,Cc,2):String(t),Cc=(t,s)=>s&&s.__v_isRef?Cc(t,s.value):Ks(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((n,[o,l])=>(n[`${o} =>`]=l,n),{})}:xc(s)?{[`Set(${s.size})`]:[...s.values()]}:Ie(s)&&!re(s)&&!Oc(s)?String(s):s,Fe={},zs=[],St=()=>{},hd=()=>!1,md=/^on[^a-z]/,Lo=t=>md.test(t),vr=t=>t.startsWith("onUpdate:"),lt=Object.assign,Ar=(t,s)=>{const n=t.indexOf(s);n>-1&&t.splice(n,1)},gd=Object.prototype.hasOwnProperty,ve=(t,s)=>gd.call(t,s),re=Array.isArray,Ks=t=>qo(t)==="[object Map]",xc=t=>qo(t)==="[object Set]",ue=t=>typeof t=="function",qe=t=>typeof t=="string",_r=t=>typeof t=="symbol",Ie=t=>t!==null&&typeof t=="object",kc=t=>Ie(t)&&ue(t.then)&&ue(t.catch),Sc=Object.prototype.toString,qo=t=>Sc.call(t),vd=t=>qo(t).slice(8,-1),Oc=t=>qo(t)==="[object Object]",wr=t=>qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yo=Ro(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),No=t=>{const s=Object.create(null);return n=>s[n]||(s[n]=t(n))},Ad=/-(\w)/g,Ht=No(t=>t.replace(Ad,(s,n)=>n?n.toUpperCase():"")),_d=/\B([A-Z])/g,Ps=No(t=>t.replace(_d,"-$1").toLowerCase()),jo=No(t=>t.charAt(0).toUpperCase()+t.slice(1)),sl=No(t=>t?`on${jo(t)}`:""),In=(t,s)=>!Object.is(t,s),Ys=(t,s)=>{for(let n=0;n<t.length;n++)t[n](s)},wo=(t,s,n)=>{Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value:n})},kl=t=>{const s=parseFloat(t);return isNaN(s)?t:s};let ya;const wd=()=>ya||(ya=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let dt;class Fc{constructor(s=!1){this.active=!0,this.effects=[],this.cleanups=[],!s&&dt&&(this.parent=dt,this.index=(dt.scopes||(dt.scopes=[])).push(this)-1)}run(s){if(this.active){const n=dt;try{return dt=this,s()}finally{dt=n}}}on(){dt=this}off(){dt=this.parent}stop(s){if(this.active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(this.parent&&!s){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.active=!1}}}function Ed(t){return new Fc(t)}function bd(t,s=dt){s&&s.active&&s.effects.push(t)}function $c(){return dt}function Tc(t){dt&&dt.cleanups.push(t)}const Er=t=>{const s=new Set(t);return s.w=0,s.n=0,s},Pc=t=>(t.w&is)>0,Mc=t=>(t.n&is)>0,Dd=({deps:t})=>{if(t.length)for(let s=0;s<t.length;s++)t[s].w|=is},Bd=t=>{const{deps:s}=t;if(s.length){let n=0;for(let o=0;o<s.length;o++){const l=s[o];Pc(l)&&!Mc(l)?l.delete(t):s[n++]=l,l.w&=~is,l.n&=~is}s.length=n}},Sl=new WeakMap;let En=0,is=1;const Ol=30;let Ct;const xs=Symbol(""),Fl=Symbol("");class br{constructor(s,n=null,o){this.fn=s,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,bd(this,o)}run(){if(!this.active)return this.fn();let s=Ct,n=ns;for(;s;){if(s===this)return;s=s.parent}try{return this.parent=Ct,Ct=this,ns=!0,is=1<<++En,En<=Ol?Dd(this):ha(this),this.fn()}finally{En<=Ol&&Bd(this),is=1<<--En,Ct=this.parent,ns=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ct===this?this.deferStop=!0:this.active&&(ha(this),this.onStop&&this.onStop(),this.active=!1)}}function ha(t){const{deps:s}=t;if(s.length){for(let n=0;n<s.length;n++)s[n].delete(t);s.length=0}}let ns=!0;const Ic=[];function rn(){Ic.push(ns),ns=!1}function an(){const t=Ic.pop();ns=t===void 0?!0:t}function At(t,s,n){if(ns&&Ct){let o=Sl.get(t);o||Sl.set(t,o=new Map);let l=o.get(n);l||o.set(n,l=Er()),Rc(l)}}function Rc(t,s){let n=!1;En<=Ol?Mc(t)||(t.n|=is,n=!Pc(t)):n=!t.has(Ct),n&&(t.add(Ct),Ct.deps.push(t))}function Yt(t,s,n,o,l,r){const a=Sl.get(t);if(!a)return;let i=[];if(s==="clear")i=[...a.values()];else if(n==="length"&&re(t))a.forEach((p,u)=>{(u==="length"||u>=o)&&i.push(p)});else switch(n!==void 0&&i.push(a.get(n)),s){case"add":re(t)?wr(n)&&i.push(a.get("length")):(i.push(a.get(xs)),Ks(t)&&i.push(a.get(Fl)));break;case"delete":re(t)||(i.push(a.get(xs)),Ks(t)&&i.push(a.get(Fl)));break;case"set":Ks(t)&&i.push(a.get(xs));break}if(i.length===1)i[0]&&$l(i[0]);else{const p=[];for(const u of i)u&&p.push(...u);$l(Er(p))}}function $l(t,s){const n=re(t)?t:[...t];for(const o of n)o.computed&&ma(o);for(const o of n)o.computed||ma(o)}function ma(t,s){(t!==Ct||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Cd=Ro("__proto__,__v_isRef,__isVue"),Lc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(_r)),xd=Dr(),kd=Dr(!1,!0),Sd=Dr(!0),ga=Od();function Od(){const t={};return["includes","indexOf","lastIndexOf"].forEach(s=>{t[s]=function(...n){const o=be(this);for(let r=0,a=this.length;r<a;r++)At(o,"get",r+"");const l=o[s](...n);return l===-1||l===!1?o[s](...n.map(be)):l}}),["push","pop","shift","unshift","splice"].forEach(s=>{t[s]=function(...n){rn();const o=be(this)[s].apply(this,n);return an(),o}}),t}function Dr(t=!1,s=!1){return function(o,l,r){if(l==="__v_isReactive")return!t;if(l==="__v_isReadonly")return t;if(l==="__v_isShallow")return s;if(l==="__v_raw"&&r===(t?s?zd:Vc:s?Hc:jc).get(o))return o;const a=re(o);if(!t&&a&&ve(ga,l))return Reflect.get(ga,l,r);const i=Reflect.get(o,l,r);return(_r(l)?Lc.has(l):Cd(l))||(t||At(o,"get",l),s)?i:De(i)?a&&wr(l)?i:i.value:Ie(i)?t?Us(i):Pe(i):i}}const Fd=qc(),$d=qc(!0);function qc(t=!1){return function(n,o,l,r){let a=n[o];if(en(a)&&De(a)&&!De(l))return!1;if(!t&&(!Eo(l)&&!en(l)&&(a=be(a),l=be(l)),!re(n)&&De(a)&&!De(l)))return a.value=l,!0;const i=re(n)&&wr(o)?Number(o)<n.length:ve(n,o),p=Reflect.set(n,o,l,r);return n===be(r)&&(i?In(l,a)&&Yt(n,"set",o,l):Yt(n,"add",o,l)),p}}function Td(t,s){const n=ve(t,s);t[s];const o=Reflect.deleteProperty(t,s);return o&&n&&Yt(t,"delete",s,void 0),o}function Pd(t,s){const n=Reflect.has(t,s);return(!_r(s)||!Lc.has(s))&&At(t,"has",s),n}function Md(t){return At(t,"iterate",re(t)?"length":xs),Reflect.ownKeys(t)}const Nc={get:xd,set:Fd,deleteProperty:Td,has:Pd,ownKeys:Md},Id={get:Sd,set(t,s){return!0},deleteProperty(t,s){return!0}},Rd=lt({},Nc,{get:kd,set:$d}),Br=t=>t,Ho=t=>Reflect.getPrototypeOf(t);function no(t,s,n=!1,o=!1){t=t.__v_raw;const l=be(t),r=be(s);n||(s!==r&&At(l,"get",s),At(l,"get",r));const{has:a}=Ho(l),i=o?Br:n?kr:Rn;if(a.call(l,s))return i(t.get(s));if(a.call(l,r))return i(t.get(r));t!==l&&t.get(s)}function oo(t,s=!1){const n=this.__v_raw,o=be(n),l=be(t);return s||(t!==l&&At(o,"has",t),At(o,"has",l)),t===l?n.has(t):n.has(t)||n.has(l)}function lo(t,s=!1){return t=t.__v_raw,!s&&At(be(t),"iterate",xs),Reflect.get(t,"size",t)}function va(t){t=be(t);const s=be(this);return Ho(s).has.call(s,t)||(s.add(t),Yt(s,"add",t,t)),this}function Aa(t,s){s=be(s);const n=be(this),{has:o,get:l}=Ho(n);let r=o.call(n,t);r||(t=be(t),r=o.call(n,t));const a=l.call(n,t);return n.set(t,s),r?In(s,a)&&Yt(n,"set",t,s):Yt(n,"add",t,s),this}function _a(t){const s=be(this),{has:n,get:o}=Ho(s);let l=n.call(s,t);l||(t=be(t),l=n.call(s,t)),o&&o.call(s,t);const r=s.delete(t);return l&&Yt(s,"delete",t,void 0),r}function wa(){const t=be(this),s=t.size!==0,n=t.clear();return s&&Yt(t,"clear",void 0,void 0),n}function ro(t,s){return function(o,l){const r=this,a=r.__v_raw,i=be(a),p=s?Br:t?kr:Rn;return!t&&At(i,"iterate",xs),a.forEach((u,d)=>o.call(l,p(u),p(d),r))}}function ao(t,s,n){return function(...o){const l=this.__v_raw,r=be(l),a=Ks(r),i=t==="entries"||t===Symbol.iterator&&a,p=t==="keys"&&a,u=l[t](...o),d=n?Br:s?kr:Rn;return!s&&At(r,"iterate",p?Fl:xs),{next(){const{value:f,done:y}=u.next();return y?{value:f,done:y}:{value:i?[d(f[0]),d(f[1])]:d(f),done:y}},[Symbol.iterator](){return this}}}}function Jt(t){return function(...s){return t==="delete"?!1:this}}function Ld(){const t={get(r){return no(this,r)},get size(){return lo(this)},has:oo,add:va,set:Aa,delete:_a,clear:wa,forEach:ro(!1,!1)},s={get(r){return no(this,r,!1,!0)},get size(){return lo(this)},has:oo,add:va,set:Aa,delete:_a,clear:wa,forEach:ro(!1,!0)},n={get(r){return no(this,r,!0)},get size(){return lo(this,!0)},has(r){return oo.call(this,r,!0)},add:Jt("add"),set:Jt("set"),delete:Jt("delete"),clear:Jt("clear"),forEach:ro(!0,!1)},o={get(r){return no(this,r,!0,!0)},get size(){return lo(this,!0)},has(r){return oo.call(this,r,!0)},add:Jt("add"),set:Jt("set"),delete:Jt("delete"),clear:Jt("clear"),forEach:ro(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=ao(r,!1,!1),n[r]=ao(r,!0,!1),s[r]=ao(r,!1,!0),o[r]=ao(r,!0,!0)}),[t,n,s,o]}const[qd,Nd,jd,Hd]=Ld();function Cr(t,s){const n=s?t?Hd:jd:t?Nd:qd;return(o,l,r)=>l==="__v_isReactive"?!t:l==="__v_isReadonly"?t:l==="__v_raw"?o:Reflect.get(ve(n,l)&&l in o?n:o,l,r)}const Vd={get:Cr(!1,!1)},Ud={get:Cr(!1,!0)},Wd={get:Cr(!0,!1)},jc=new WeakMap,Hc=new WeakMap,Vc=new WeakMap,zd=new WeakMap;function Kd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yd(t){return t.__v_skip||!Object.isExtensible(t)?0:Kd(vd(t))}function Pe(t){return en(t)?t:xr(t,!1,Nc,Vd,jc)}function Zd(t){return xr(t,!1,Rd,Ud,Hc)}function Us(t){return xr(t,!0,Id,Wd,Vc)}function xr(t,s,n,o,l){if(!Ie(t)||t.__v_raw&&!(s&&t.__v_isReactive))return t;const r=l.get(t);if(r)return r;const a=Yd(t);if(a===0)return t;const i=new Proxy(t,a===2?o:n);return l.set(t,i),i}function Zs(t){return en(t)?Zs(t.__v_raw):!!(t&&t.__v_isReactive)}function en(t){return!!(t&&t.__v_isReadonly)}function Eo(t){return!!(t&&t.__v_isShallow)}function Uc(t){return Zs(t)||en(t)}function be(t){const s=t&&t.__v_raw;return s?be(s):t}function Vo(t){return wo(t,"__v_skip",!0),t}const Rn=t=>Ie(t)?Pe(t):t,kr=t=>Ie(t)?Us(t):t;function Sr(t){ns&&Ct&&(t=be(t),Rc(t.dep||(t.dep=Er())))}function Or(t,s){t=be(t),t.dep&&$l(t.dep)}function De(t){return!!(t&&t.__v_isRef===!0)}function K(t){return Wc(t,!1)}function $t(t){return Wc(t,!0)}function Wc(t,s){return De(t)?t:new Qd(t,s)}class Qd{constructor(s,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?s:be(s),this._value=n?s:Rn(s)}get value(){return Sr(this),this._value}set value(s){const n=this.__v_isShallow||Eo(s)||en(s);s=n?s:be(s),In(s,this._rawValue)&&(this._rawValue=s,this._value=n?s:Rn(s),Or(this))}}function E(t){return De(t)?t.value:t}const Gd={get:(t,s,n)=>E(Reflect.get(t,s,n)),set:(t,s,n,o)=>{const l=t[s];return De(l)&&!De(n)?(l.value=n,!0):Reflect.set(t,s,n,o)}};function zc(t){return Zs(t)?t:new Proxy(t,Gd)}class Jd{constructor(s){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:o}=s(()=>Sr(this),()=>Or(this));this._get=n,this._set=o}get value(){return this._get()}set value(s){this._set(s)}}function Kc(t){return new Jd(t)}function Xd(t){const s=re(t)?new Array(t.length):{};for(const n in t)s[n]=tf(t,n);return s}class ef{constructor(s,n,o){this._object=s,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const s=this._object[this._key];return s===void 0?this._defaultValue:s}set value(s){this._object[this._key]=s}}function tf(t,s,n){const o=t[s];return De(o)?o:new ef(t,s,n)}var Yc;class sf{constructor(s,n,o,l){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Yc]=!1,this._dirty=!0,this.effect=new br(s,()=>{this._dirty||(this._dirty=!0,Or(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=o}get value(){const s=be(this);return Sr(s),(s._dirty||!s._cacheable)&&(s._dirty=!1,s._value=s.effect.run()),s._value}set value(s){this._setter(s)}}Yc="__v_isReadonly";function nf(t,s,n=!1){let o,l;const r=ue(t);return r?(o=t,l=St):(o=t.get,l=t.set),new sf(o,l,r||!l,n)}function os(t,s,n,o){let l;try{l=o?t(...o):t()}catch(r){Uo(r,s,n)}return l}function Ot(t,s,n,o){if(ue(t)){const r=os(t,s,n,o);return r&&kc(r)&&r.catch(a=>{Uo(a,s,n)}),r}const l=[];for(let r=0;r<t.length;r++)l.push(Ot(t[r],s,n,o));return l}function Uo(t,s,n,o=!0){const l=s?s.vnode:null;if(s){let r=s.parent;const a=s.proxy,i=n;for(;r;){const u=r.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,a,i)===!1)return}r=r.parent}const p=s.appContext.config.errorHandler;if(p){os(p,null,10,[t,a,i]);return}}of(t,n,l,o)}function of(t,s,n,o=!0){console.error(t)}let Ln=!1,Tl=!1;const Ze=[];let Lt=0;const Qs=[];let Wt=null,As=0;const Zc=Promise.resolve();let Fr=null;function Qe(t){const s=Fr||Zc;return t?s.then(this?t.bind(this):t):s}function lf(t){let s=Lt+1,n=Ze.length;for(;s<n;){const o=s+n>>>1;qn(Ze[o])<t?s=o+1:n=o}return s}function $r(t){(!Ze.length||!Ze.includes(t,Ln&&t.allowRecurse?Lt+1:Lt))&&(t.id==null?Ze.push(t):Ze.splice(lf(t.id),0,t),Qc())}function Qc(){!Ln&&!Tl&&(Tl=!0,Fr=Zc.then(Jc))}function rf(t){const s=Ze.indexOf(t);s>Lt&&Ze.splice(s,1)}function af(t){re(t)?Qs.push(...t):(!Wt||!Wt.includes(t,t.allowRecurse?As+1:As))&&Qs.push(t),Qc()}function Ea(t,s=Ln?Lt+1:0){for(;s<Ze.length;s++){const n=Ze[s];n&&n.pre&&(Ze.splice(s,1),s--,n())}}function Gc(t){if(Qs.length){const s=[...new Set(Qs)];if(Qs.length=0,Wt){Wt.push(...s);return}for(Wt=s,Wt.sort((n,o)=>qn(n)-qn(o)),As=0;As<Wt.length;As++)Wt[As]();Wt=null,As=0}}const qn=t=>t.id==null?1/0:t.id,cf=(t,s)=>{const n=qn(t)-qn(s);if(n===0){if(t.pre&&!s.pre)return-1;if(s.pre&&!t.pre)return 1}return n};function Jc(t){Tl=!1,Ln=!0,Ze.sort(cf);const s=St;try{for(Lt=0;Lt<Ze.length;Lt++){const n=Ze[Lt];n&&n.active!==!1&&os(n,null,14)}}finally{Lt=0,Ze.length=0,Gc(),Ln=!1,Fr=null,(Ze.length||Qs.length)&&Jc()}}function pf(t,s,...n){if(t.isUnmounted)return;const o=t.vnode.props||Fe;let l=n;const r=s.startsWith("update:"),a=r&&s.slice(7);if(a&&a in o){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:y}=o[d]||Fe;y&&(l=n.map(h=>h.trim())),f&&(l=n.map(kl))}let i,p=o[i=sl(s)]||o[i=sl(Ht(s))];!p&&r&&(p=o[i=sl(Ps(s))]),p&&Ot(p,t,6,l);const u=o[i+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[i])return;t.emitted[i]=!0,Ot(u,t,6,l)}}function Xc(t,s,n=!1){const o=s.emitsCache,l=o.get(t);if(l!==void 0)return l;const r=t.emits;let a={},i=!1;if(!ue(t)){const p=u=>{const d=Xc(u,s,!0);d&&(i=!0,lt(a,d))};!n&&s.mixins.length&&s.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}return!r&&!i?(Ie(t)&&o.set(t,null),null):(re(r)?r.forEach(p=>a[p]=null):lt(a,r),Ie(t)&&o.set(t,a),a)}function Wo(t,s){return!t||!Lo(s)?!1:(s=s.slice(2).replace(/Once$/,""),ve(t,s[0].toLowerCase()+s.slice(1))||ve(t,Ps(s))||ve(t,s))}let Ge=null,zo=null;function bo(t){const s=Ge;return Ge=t,zo=t&&t.type.__scopeId||null,s}function c4(t){zo=t}function p4(){zo=null}function $(t,s=Ge,n){if(!s||t._n)return t;const o=(...l)=>{o._d&&Ta(-1);const r=bo(s),a=t(...l);return bo(r),o._d&&Ta(1),a};return o._n=!0,o._c=!0,o._d=!0,o}function nl(t){const{type:s,vnode:n,proxy:o,withProxy:l,props:r,propsOptions:[a],slots:i,attrs:p,emit:u,render:d,renderCache:f,data:y,setupState:h,ctx:m,inheritAttrs:w}=t;let A,C;const B=bo(t);try{if(n.shapeFlag&4){const x=l||o;A=Rt(d.call(x,x,f,r,h,y,m)),C=p}else{const x=s;A=Rt(x.length>1?x(r,{attrs:p,slots:i,emit:u}):x(r,null)),C=s.props?p:uf(p)}}catch(x){Bn.length=0,Uo(x,t,1),A=Z(ps)}let b=A;if(C&&w!==!1){const x=Object.keys(C),{shapeFlag:q}=b;x.length&&q&7&&(a&&x.some(vr)&&(C=df(C,a)),b=Ts(b,C))}return n.dirs&&(b=Ts(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),A=b,bo(B),A}const uf=t=>{let s;for(const n in t)(n==="class"||n==="style"||Lo(n))&&((s||(s={}))[n]=t[n]);return s},df=(t,s)=>{const n={};for(const o in t)(!vr(o)||!(o.slice(9)in s))&&(n[o]=t[o]);return n};function ff(t,s,n){const{props:o,children:l,component:r}=t,{props:a,children:i,patchFlag:p}=s,u=r.emitsOptions;if(s.dirs||s.transition)return!0;if(n&&p>=0){if(p&1024)return!0;if(p&16)return o?ba(o,a,u):!!a;if(p&8){const d=s.dynamicProps;for(let f=0;f<d.length;f++){const y=d[f];if(a[y]!==o[y]&&!Wo(u,y))return!0}}}else return(l||i)&&(!i||!i.$stable)?!0:o===a?!1:o?a?ba(o,a,u):!0:!!a;return!1}function ba(t,s,n){const o=Object.keys(s);if(o.length!==Object.keys(t).length)return!0;for(let l=0;l<o.length;l++){const r=o[l];if(s[r]!==t[r]&&!Wo(n,r))return!0}return!1}function yf({vnode:t,parent:s},n){for(;s&&s.subTree===t;)(t=s.vnode).el=n,s=s.parent}const ep=t=>t.__isSuspense;function hf(t,s){s&&s.pendingBranch?re(t)?s.effects.push(...t):s.effects.push(t):af(t)}function yt(t,s){if(ze){let n=ze.provides;const o=ze.parent&&ze.parent.provides;o===n&&(n=ze.provides=Object.create(o)),n[t]=s}}function S(t,s,n=!1){const o=ze||Ge;if(o){const l=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(l&&t in l)return l[t];if(arguments.length>1)return n&&ue(s)?s.call(o.proxy):s}}function Qn(t,s){return Tr(t,null,s)}const Da={};function ye(t,s,n){return Tr(t,s,n)}function Tr(t,s,{immediate:n,deep:o,flush:l,onTrack:r,onTrigger:a}=Fe){const i=ze;let p,u=!1,d=!1;if(De(t)?(p=()=>t.value,u=Eo(t)):Zs(t)?(p=()=>t,o=!0):re(t)?(d=!0,u=t.some(C=>Zs(C)||Eo(C)),p=()=>t.map(C=>{if(De(C))return C.value;if(Zs(C))return bs(C);if(ue(C))return os(C,i,2)})):ue(t)?s?p=()=>os(t,i,2):p=()=>{if(!(i&&i.isUnmounted))return f&&f(),Ot(t,i,3,[y])}:p=St,s&&o){const C=p;p=()=>bs(C())}let f,y=C=>{f=A.onStop=()=>{os(C,i,4)}};if(jn)return y=St,s?n&&Ot(s,i,3,[p(),d?[]:void 0,y]):p(),St;let h=d?[]:Da;const m=()=>{if(!!A.active)if(s){const C=A.run();(o||u||(d?C.some((B,b)=>In(B,h[b])):In(C,h)))&&(f&&f(),Ot(s,i,3,[C,h===Da?void 0:h,y]),h=C)}else A.run()};m.allowRecurse=!!s;let w;l==="sync"?w=m:l==="post"?w=()=>Ke(m,i&&i.suspense):(m.pre=!0,i&&(m.id=i.uid),w=()=>$r(m));const A=new br(p,w);return s?n?m():h=A.run():l==="post"?Ke(A.run.bind(A),i&&i.suspense):A.run(),()=>{A.stop(),i&&i.scope&&Ar(i.scope.effects,A)}}function mf(t,s,n){const o=this.proxy,l=qe(t)?t.includes(".")?tp(o,t):()=>o[t]:t.bind(o,o);let r;ue(s)?r=s:(r=s.handler,n=s);const a=ze;sn(this);const i=Tr(l,r.bind(o),n);return a?sn(a):ks(),i}function tp(t,s){const n=s.split(".");return()=>{let o=t;for(let l=0;l<n.length&&o;l++)o=o[n[l]];return o}}function bs(t,s){if(!Ie(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),De(t))bs(t.value,s);else if(re(t))for(let n=0;n<t.length;n++)bs(t[n],s);else if(xc(t)||Ks(t))t.forEach(n=>{bs(n,s)});else if(Oc(t))for(const n in t)bs(t[n],s);return t}function sp(t,s){t.shapeFlag&6&&t.component?sp(t.component.subTree,s):t.shapeFlag&128?(t.ssContent.transition=s.clone(t.ssContent),t.ssFallback.transition=s.clone(t.ssFallback)):t.transition=s}function ke(t){return ue(t)?{setup:t,name:t.name}:t}const Gs=t=>!!t.type.__asyncLoader,np=t=>t.type.__isKeepAlive,gf={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:s}){const n=us(),o=n.ctx;if(!o.renderer)return()=>{const B=s.default&&s.default();return B&&B.length===1?B[0]:B};const l=new Map,r=new Set;let a=null;const i=n.suspense,{renderer:{p,m:u,um:d,o:{createElement:f}}}=o,y=f("div");o.activate=(B,b,x,q,R)=>{const V=B.component;u(B,b,x,0,i),p(V.vnode,B,b,x,V,i,q,B.slotScopeIds,R),Ke(()=>{V.isDeactivated=!1,V.a&&Ys(V.a);const ne=B.props&&B.props.onVnodeMounted;ne&&_t(ne,V.parent,B)},i)},o.deactivate=B=>{const b=B.component;u(B,y,null,1,i),Ke(()=>{b.da&&Ys(b.da);const x=B.props&&B.props.onVnodeUnmounted;x&&_t(x,b.parent,B),b.isDeactivated=!0},i)};function h(B){ol(B),d(B,n,i,!0)}function m(B){l.forEach((b,x)=>{const q=Nl(b.type);q&&(!B||!B(q))&&w(x)})}function w(B){const b=l.get(B);!a||b.type!==a.type?h(b):a&&ol(a),l.delete(B),r.delete(B)}ye(()=>[t.include,t.exclude],([B,b])=>{B&&m(x=>bn(B,x)),b&&m(x=>!bn(b,x))},{flush:"post",deep:!0});let A=null;const C=()=>{A!=null&&l.set(A,ll(n.subTree))};return cn(C),Pr(C),Yo(()=>{l.forEach(B=>{const{subTree:b,suspense:x}=n,q=ll(b);if(B.type===q.type){ol(q);const R=q.component.da;R&&Ke(R,x);return}h(B)})}),()=>{if(A=null,!s.default)return null;const B=s.default(),b=B[0];if(B.length>1)return a=null,B;if(!tn(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return a=null,b;let x=ll(b);const q=x.type,R=Nl(Gs(x)?x.type.__asyncResolved||{}:q),{include:V,exclude:ne,max:ie}=t;if(V&&(!R||!bn(V,R))||ne&&R&&bn(ne,R))return a=x,b;const ge=x.key==null?q:x.key,Ae=l.get(ge);return x.el&&(x=Ts(x),b.shapeFlag&128&&(b.ssContent=x)),A=ge,Ae?(x.el=Ae.el,x.component=Ae.component,x.transition&&sp(x,x.transition),x.shapeFlag|=512,r.delete(ge),r.add(ge)):(r.add(ge),ie&&r.size>parseInt(ie,10)&&w(r.values().next().value)),x.shapeFlag|=256,a=x,ep(b.type)?b:x}}},op=gf;function bn(t,s){return re(t)?t.some(n=>bn(n,s)):qe(t)?t.split(",").includes(s):t.test?t.test(s):!1}function vf(t,s){lp(t,"a",s)}function Af(t,s){lp(t,"da",s)}function lp(t,s,n=ze){const o=t.__wdc||(t.__wdc=()=>{let l=n;for(;l;){if(l.isDeactivated)return;l=l.parent}return t()});if(Ko(s,o,n),n){let l=n.parent;for(;l&&l.parent;)np(l.parent.vnode)&&_f(o,s,n,l),l=l.parent}}function _f(t,s,n,o){const l=Ko(s,t,o,!0);Zo(()=>{Ar(o[s],l)},n)}function ol(t){let s=t.shapeFlag;s&256&&(s-=256),s&512&&(s-=512),t.shapeFlag=s}function ll(t){return t.shapeFlag&128?t.ssContent:t}function Ko(t,s,n=ze,o=!1){if(n){const l=n[t]||(n[t]=[]),r=s.__weh||(s.__weh=(...a)=>{if(n.isUnmounted)return;rn(),sn(n);const i=Ot(s,n,t,a);return ks(),an(),i});return o?l.unshift(r):l.push(r),r}}const Qt=t=>(s,n=ze)=>(!jn||t==="sp")&&Ko(t,s,n),rp=Qt("bm"),cn=Qt("m"),wf=Qt("bu"),Pr=Qt("u"),Yo=Qt("bum"),Zo=Qt("um"),Ef=Qt("sp"),bf=Qt("rtg"),Df=Qt("rtc");function Bf(t,s=ze){Ko("ec",t,s)}function Mr(t,s){const n=Ge;if(n===null)return t;const o=Go(n)||n.proxy,l=t.dirs||(t.dirs=[]);for(let r=0;r<s.length;r++){let[a,i,p,u=Fe]=s[r];ue(a)&&(a={mounted:a,updated:a}),a.deep&&bs(i),l.push({dir:a,instance:o,value:i,oldValue:void 0,arg:p,modifiers:u})}return t}function fs(t,s,n,o){const l=t.dirs,r=s&&s.dirs;for(let a=0;a<l.length;a++){const i=l[a];r&&(i.oldValue=r[a].value);let p=i.dir[o];p&&(rn(),Ot(p,n,8,[t.el,i,t,s]),an())}}const ap="components";function Do(t,s){return xf(ap,t,!0,s)||t}const Cf=Symbol();function xf(t,s,n=!0,o=!1){const l=Ge||ze;if(l){const r=l.type;if(t===ap){const i=Nl(r,!1);if(i&&(i===s||i===Ht(s)||i===jo(Ht(s))))return r}const a=Ba(l[t]||r[t],s)||Ba(l.appContext[t],s);return!a&&o?r:a}}function Ba(t,s){return t&&(t[s]||t[Ht(s)]||t[jo(Ht(s))])}function Gn(t,s,n,o){let l;const r=n&&n[o];if(re(t)||qe(t)){l=new Array(t.length);for(let a=0,i=t.length;a<i;a++)l[a]=s(t[a],a,void 0,r&&r[a])}else if(typeof t=="number"){l=new Array(t);for(let a=0;a<t;a++)l[a]=s(a+1,a,void 0,r&&r[a])}else if(Ie(t))if(t[Symbol.iterator])l=Array.from(t,(a,i)=>s(a,i,void 0,r&&r[i]));else{const a=Object.keys(t);l=new Array(a.length);for(let i=0,p=a.length;i<p;i++){const u=a[i];l[i]=s(t[u],u,i,r&&r[i])}}else l=[];return n&&(n[o]=l),l}function cs(t,s,n={},o,l){if(Ge.isCE||Ge.parent&&Gs(Ge.parent)&&Ge.parent.isCE)return Z("slot",s==="default"?null:{name:s},o&&o());let r=t[s];r&&r._c&&(r._d=!1),_();const a=r&&ip(r(n)),i=F(Ce,{key:n.key||a&&a.key||`_${s}`},a||(o?o():[]),a&&t._===1?64:-2);return!l&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),r&&r._c&&(r._d=!0),i}function ip(t){return t.some(s=>tn(s)?!(s.type===ps||s.type===Ce&&!ip(s.children)):!0)?t:null}const Pl=t=>t?vp(t)?Go(t)||t.proxy:Pl(t.parent):null,Bo=lt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Pl(t.parent),$root:t=>Pl(t.root),$emit:t=>t.emit,$options:t=>Ir(t),$forceUpdate:t=>t.f||(t.f=()=>$r(t.update)),$nextTick:t=>t.n||(t.n=Qe.bind(t.proxy)),$watch:t=>mf.bind(t)}),kf={get({_:t},s){const{ctx:n,setupState:o,data:l,props:r,accessCache:a,type:i,appContext:p}=t;let u;if(s[0]!=="$"){const h=a[s];if(h!==void 0)switch(h){case 1:return o[s];case 2:return l[s];case 4:return n[s];case 3:return r[s]}else{if(o!==Fe&&ve(o,s))return a[s]=1,o[s];if(l!==Fe&&ve(l,s))return a[s]=2,l[s];if((u=t.propsOptions[0])&&ve(u,s))return a[s]=3,r[s];if(n!==Fe&&ve(n,s))return a[s]=4,n[s];Ml&&(a[s]=0)}}const d=Bo[s];let f,y;if(d)return s==="$attrs"&&At(t,"get",s),d(t);if((f=i.__cssModules)&&(f=f[s]))return f;if(n!==Fe&&ve(n,s))return a[s]=4,n[s];if(y=p.config.globalProperties,ve(y,s))return y[s]},set({_:t},s,n){const{data:o,setupState:l,ctx:r}=t;return l!==Fe&&ve(l,s)?(l[s]=n,!0):o!==Fe&&ve(o,s)?(o[s]=n,!0):ve(t.props,s)||s[0]==="$"&&s.slice(1)in t?!1:(r[s]=n,!0)},has({_:{data:t,setupState:s,accessCache:n,ctx:o,appContext:l,propsOptions:r}},a){let i;return!!n[a]||t!==Fe&&ve(t,a)||s!==Fe&&ve(s,a)||(i=r[0])&&ve(i,a)||ve(o,a)||ve(Bo,a)||ve(l.config.globalProperties,a)},defineProperty(t,s,n){return n.get!=null?t._.accessCache[s]=0:ve(n,"value")&&this.set(t,s,n.value,null),Reflect.defineProperty(t,s,n)}};let Ml=!0;function Sf(t){const s=Ir(t),n=t.proxy,o=t.ctx;Ml=!1,s.beforeCreate&&Ca(s.beforeCreate,t,"bc");const{data:l,computed:r,methods:a,watch:i,provide:p,inject:u,created:d,beforeMount:f,mounted:y,beforeUpdate:h,updated:m,activated:w,deactivated:A,beforeDestroy:C,beforeUnmount:B,destroyed:b,unmounted:x,render:q,renderTracked:R,renderTriggered:V,errorCaptured:ne,serverPrefetch:ie,expose:ge,inheritAttrs:Ae,components:je,directives:He,filters:Re}=s;if(u&&Of(u,o,null,t.appContext.config.unwrapInjectedRef),a)for(const J in a){const le=a[J];ue(le)&&(o[J]=le.bind(n))}if(l){const J=l.call(n,n);Ie(J)&&(t.data=Pe(J))}if(Ml=!0,r)for(const J in r){const le=r[J],fe=ue(le)?le.bind(n,n):ue(le.get)?le.get.bind(n,n):St,xe=!ue(le)&&ue(le.set)?le.set.bind(n):St,it=k({get:fe,set:xe});Object.defineProperty(o,J,{enumerable:!0,configurable:!0,get:()=>it.value,set:Ye=>it.value=Ye})}if(i)for(const J in i)cp(i[J],o,n,J);if(p){const J=ue(p)?p.call(n):p;Reflect.ownKeys(J).forEach(le=>{yt(le,J[le])})}d&&Ca(d,t,"c");function Me(J,le){re(le)?le.forEach(fe=>J(fe.bind(n))):le&&J(le.bind(n))}if(Me(rp,f),Me(cn,y),Me(wf,h),Me(Pr,m),Me(vf,w),Me(Af,A),Me(Bf,ne),Me(Df,R),Me(bf,V),Me(Yo,B),Me(Zo,x),Me(Ef,ie),re(ge))if(ge.length){const J=t.exposed||(t.exposed={});ge.forEach(le=>{Object.defineProperty(J,le,{get:()=>n[le],set:fe=>n[le]=fe})})}else t.exposed||(t.exposed={});q&&t.render===St&&(t.render=q),Ae!=null&&(t.inheritAttrs=Ae),je&&(t.components=je),He&&(t.directives=He)}function Of(t,s,n=St,o=!1){re(t)&&(t=Il(t));for(const l in t){const r=t[l];let a;Ie(r)?"default"in r?a=S(r.from||l,r.default,!0):a=S(r.from||l):a=S(r),De(a)&&o?Object.defineProperty(s,l,{enumerable:!0,configurable:!0,get:()=>a.value,set:i=>a.value=i}):s[l]=a}}function Ca(t,s,n){Ot(re(t)?t.map(o=>o.bind(s.proxy)):t.bind(s.proxy),s,n)}function cp(t,s,n,o){const l=o.includes(".")?tp(n,o):()=>n[o];if(qe(t)){const r=s[t];ue(r)&&ye(l,r)}else if(ue(t))ye(l,t.bind(n));else if(Ie(t))if(re(t))t.forEach(r=>cp(r,s,n,o));else{const r=ue(t.handler)?t.handler.bind(n):s[t.handler];ue(r)&&ye(l,r,t)}}function Ir(t){const s=t.type,{mixins:n,extends:o}=s,{mixins:l,optionsCache:r,config:{optionMergeStrategies:a}}=t.appContext,i=r.get(s);let p;return i?p=i:!l.length&&!n&&!o?p=s:(p={},l.length&&l.forEach(u=>Co(p,u,a,!0)),Co(p,s,a)),Ie(s)&&r.set(s,p),p}function Co(t,s,n,o=!1){const{mixins:l,extends:r}=s;r&&Co(t,r,n,!0),l&&l.forEach(a=>Co(t,a,n,!0));for(const a in s)if(!(o&&a==="expose")){const i=Ff[a]||n&&n[a];t[a]=i?i(t[a],s[a]):s[a]}return t}const Ff={data:xa,props:gs,emits:gs,methods:gs,computed:gs,beforeCreate:tt,created:tt,beforeMount:tt,mounted:tt,beforeUpdate:tt,updated:tt,beforeDestroy:tt,beforeUnmount:tt,destroyed:tt,unmounted:tt,activated:tt,deactivated:tt,errorCaptured:tt,serverPrefetch:tt,components:gs,directives:gs,watch:Tf,provide:xa,inject:$f};function xa(t,s){return s?t?function(){return lt(ue(t)?t.call(this,this):t,ue(s)?s.call(this,this):s)}:s:t}function $f(t,s){return gs(Il(t),Il(s))}function Il(t){if(re(t)){const s={};for(let n=0;n<t.length;n++)s[t[n]]=t[n];return s}return t}function tt(t,s){return t?[...new Set([].concat(t,s))]:s}function gs(t,s){return t?lt(lt(Object.create(null),t),s):s}function Tf(t,s){if(!t)return s;if(!s)return t;const n=lt(Object.create(null),t);for(const o in s)n[o]=tt(t[o],s[o]);return n}function Pf(t,s,n,o=!1){const l={},r={};wo(r,Qo,1),t.propsDefaults=Object.create(null),pp(t,s,l,r);for(const a in t.propsOptions[0])a in l||(l[a]=void 0);n?t.props=o?l:Zd(l):t.type.props?t.props=l:t.props=r,t.attrs=r}function Mf(t,s,n,o){const{props:l,attrs:r,vnode:{patchFlag:a}}=t,i=be(l),[p]=t.propsOptions;let u=!1;if((o||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let y=d[f];if(Wo(t.emitsOptions,y))continue;const h=s[y];if(p)if(ve(r,y))h!==r[y]&&(r[y]=h,u=!0);else{const m=Ht(y);l[m]=Rl(p,i,m,h,t,!1)}else h!==r[y]&&(r[y]=h,u=!0)}}}else{pp(t,s,l,r)&&(u=!0);let d;for(const f in i)(!s||!ve(s,f)&&((d=Ps(f))===f||!ve(s,d)))&&(p?n&&(n[f]!==void 0||n[d]!==void 0)&&(l[f]=Rl(p,i,f,void 0,t,!0)):delete l[f]);if(r!==i)for(const f in r)(!s||!ve(s,f)&&!0)&&(delete r[f],u=!0)}u&&Yt(t,"set","$attrs")}function pp(t,s,n,o){const[l,r]=t.propsOptions;let a=!1,i;if(s)for(let p in s){if(yo(p))continue;const u=s[p];let d;l&&ve(l,d=Ht(p))?!r||!r.includes(d)?n[d]=u:(i||(i={}))[d]=u:Wo(t.emitsOptions,p)||(!(p in o)||u!==o[p])&&(o[p]=u,a=!0)}if(r){const p=be(n),u=i||Fe;for(let d=0;d<r.length;d++){const f=r[d];n[f]=Rl(l,p,f,u[f],t,!ve(u,f))}}return a}function Rl(t,s,n,o,l,r){const a=t[n];if(a!=null){const i=ve(a,"default");if(i&&o===void 0){const p=a.default;if(a.type!==Function&&ue(p)){const{propsDefaults:u}=l;n in u?o=u[n]:(sn(l),o=u[n]=p.call(null,s),ks())}else o=p}a[0]&&(r&&!i?o=!1:a[1]&&(o===""||o===Ps(n))&&(o=!0))}return o}function up(t,s,n=!1){const o=s.propsCache,l=o.get(t);if(l)return l;const r=t.props,a={},i=[];let p=!1;if(!ue(t)){const d=f=>{p=!0;const[y,h]=up(f,s,!0);lt(a,y),h&&i.push(...h)};!n&&s.mixins.length&&s.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!p)return Ie(t)&&o.set(t,zs),zs;if(re(r))for(let d=0;d<r.length;d++){const f=Ht(r[d]);ka(f)&&(a[f]=Fe)}else if(r)for(const d in r){const f=Ht(d);if(ka(f)){const y=r[d],h=a[f]=re(y)||ue(y)?{type:y}:y;if(h){const m=Fa(Boolean,h.type),w=Fa(String,h.type);h[0]=m>-1,h[1]=w<0||m<w,(m>-1||ve(h,"default"))&&i.push(f)}}}const u=[a,i];return Ie(t)&&o.set(t,u),u}function ka(t){return t[0]!=="$"}function Sa(t){const s=t&&t.toString().match(/^\s*function (\w+)/);return s?s[1]:t===null?"null":""}function Oa(t,s){return Sa(t)===Sa(s)}function Fa(t,s){return re(s)?s.findIndex(n=>Oa(n,t)):ue(s)&&Oa(s,t)?0:-1}const dp=t=>t[0]==="_"||t==="$stable",Rr=t=>re(t)?t.map(Rt):[Rt(t)],If=(t,s,n)=>{if(s._n)return s;const o=$((...l)=>Rr(s(...l)),n);return o._c=!1,o},fp=(t,s,n)=>{const o=t._ctx;for(const l in t){if(dp(l))continue;const r=t[l];if(ue(r))s[l]=If(l,r,o);else if(r!=null){const a=Rr(r);s[l]=()=>a}}},yp=(t,s)=>{const n=Rr(s);t.slots.default=()=>n},Rf=(t,s)=>{if(t.vnode.shapeFlag&32){const n=s._;n?(t.slots=be(s),wo(s,"_",n)):fp(s,t.slots={})}else t.slots={},s&&yp(t,s);wo(t.slots,Qo,1)},Lf=(t,s,n)=>{const{vnode:o,slots:l}=t;let r=!0,a=Fe;if(o.shapeFlag&32){const i=s._;i?n&&i===1?r=!1:(lt(l,s),!n&&i===1&&delete l._):(r=!s.$stable,fp(s,l)),a=s}else s&&(yp(t,s),a={default:1});if(r)for(const i in l)!dp(i)&&!(i in a)&&delete l[i]};function hp(){return{app:null,config:{isNativeTag:hd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qf=0;function Nf(t,s){return function(o,l=null){ue(o)||(o=Object.assign({},o)),l!=null&&!Ie(l)&&(l=null);const r=hp(),a=new Set;let i=!1;const p=r.app={_uid:qf++,_component:o,_props:l,_container:null,_context:r,_instance:null,version:ly,get config(){return r.config},set config(u){},use(u,...d){return a.has(u)||(u&&ue(u.install)?(a.add(u),u.install(p,...d)):ue(u)&&(a.add(u),u(p,...d))),p},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),p},component(u,d){return d?(r.components[u]=d,p):r.components[u]},directive(u,d){return d?(r.directives[u]=d,p):r.directives[u]},mount(u,d,f){if(!i){const y=Z(o,l);return y.appContext=r,d&&s?s(y,u):t(y,u,f),i=!0,p._container=u,u.__vue_app__=p,Go(y.component)||y.component.proxy}},unmount(){i&&(t(null,p._container),delete p._container.__vue_app__)},provide(u,d){return r.provides[u]=d,p}};return p}}function Ll(t,s,n,o,l=!1){if(re(t)){t.forEach((y,h)=>Ll(y,s&&(re(s)?s[h]:s),n,o,l));return}if(Gs(o)&&!l)return;const r=o.shapeFlag&4?Go(o.component)||o.component.proxy:o.el,a=l?null:r,{i,r:p}=t,u=s&&s.r,d=i.refs===Fe?i.refs={}:i.refs,f=i.setupState;if(u!=null&&u!==p&&(qe(u)?(d[u]=null,ve(f,u)&&(f[u]=null)):De(u)&&(u.value=null)),ue(p))os(p,i,12,[a,d]);else{const y=qe(p),h=De(p);if(y||h){const m=()=>{if(t.f){const w=y?d[p]:p.value;l?re(w)&&Ar(w,r):re(w)?w.includes(r)||w.push(r):y?(d[p]=[r],ve(f,p)&&(f[p]=d[p])):(p.value=[r],t.k&&(d[t.k]=p.value))}else y?(d[p]=a,ve(f,p)&&(f[p]=a)):h&&(p.value=a,t.k&&(d[t.k]=a))};a?(m.id=-1,Ke(m,n)):m()}}}const Ke=hf;function jf(t){return Hf(t)}function Hf(t,s){const n=wd();n.__VUE__=!0;const{insert:o,remove:l,patchProp:r,createElement:a,createText:i,createComment:p,setText:u,setElementText:d,parentNode:f,nextSibling:y,setScopeId:h=St,cloneNode:m,insertStaticContent:w}=t,A=(g,v,D,P=null,T=null,N=null,Y=!1,L=null,H=!!v.dynamicChildren)=>{if(g===v)return;g&&!yn(g,v)&&(P=ee(g),rt(g,T,N,!0),g=null),v.patchFlag===-2&&(H=!1,v.dynamicChildren=null);const{type:I,ref:te,shapeFlag:X}=v;switch(I){case qr:C(g,v,D,P);break;case ps:B(g,v,D,P);break;case rl:g==null&&b(v,D,P,Y);break;case Ce:He(g,v,D,P,T,N,Y,L,H);break;default:X&1?R(g,v,D,P,T,N,Y,L,H):X&6?Re(g,v,D,P,T,N,Y,L,H):(X&64||X&128)&&I.process(g,v,D,P,T,N,Y,L,H,me)}te!=null&&T&&Ll(te,g&&g.ref,N,v||g,!v)},C=(g,v,D,P)=>{if(g==null)o(v.el=i(v.children),D,P);else{const T=v.el=g.el;v.children!==g.children&&u(T,v.children)}},B=(g,v,D,P)=>{g==null?o(v.el=p(v.children||""),D,P):v.el=g.el},b=(g,v,D,P)=>{[g.el,g.anchor]=w(g.children,v,D,P,g.el,g.anchor)},x=({el:g,anchor:v},D,P)=>{let T;for(;g&&g!==v;)T=y(g),o(g,D,P),g=T;o(v,D,P)},q=({el:g,anchor:v})=>{let D;for(;g&&g!==v;)D=y(g),l(g),g=D;l(v)},R=(g,v,D,P,T,N,Y,L,H)=>{Y=Y||v.type==="svg",g==null?V(v,D,P,T,N,Y,L,H):ge(g,v,T,N,Y,L,H)},V=(g,v,D,P,T,N,Y,L)=>{let H,I;const{type:te,props:X,shapeFlag:se,transition:ae,patchFlag:_e,dirs:Se}=g;if(g.el&&m!==void 0&&_e===-1)H=g.el=m(g.el);else{if(H=g.el=a(g.type,N,X&&X.is,X),se&8?d(H,g.children):se&16&&ie(g.children,H,null,P,T,N&&te!=="foreignObject",Y,L),Se&&fs(g,null,P,"created"),X){for(const Te in X)Te!=="value"&&!yo(Te)&&r(H,Te,null,X[Te],N,g.children,P,T,j);"value"in X&&r(H,"value",null,X.value),(I=X.onVnodeBeforeMount)&&_t(I,P,g)}ne(H,g,g.scopeId,Y,P)}Se&&fs(g,null,P,"beforeMount");const Oe=(!T||T&&!T.pendingBranch)&&ae&&!ae.persisted;Oe&&ae.beforeEnter(H),o(H,v,D),((I=X&&X.onVnodeMounted)||Oe||Se)&&Ke(()=>{I&&_t(I,P,g),Oe&&ae.enter(H),Se&&fs(g,null,P,"mounted")},T)},ne=(g,v,D,P,T)=>{if(D&&h(g,D),P)for(let N=0;N<P.length;N++)h(g,P[N]);if(T){let N=T.subTree;if(v===N){const Y=T.vnode;ne(g,Y,Y.scopeId,Y.slotScopeIds,T.parent)}}},ie=(g,v,D,P,T,N,Y,L,H=0)=>{for(let I=H;I<g.length;I++){const te=g[I]=L?es(g[I]):Rt(g[I]);A(null,te,v,D,P,T,N,Y,L)}},ge=(g,v,D,P,T,N,Y)=>{const L=v.el=g.el;let{patchFlag:H,dynamicChildren:I,dirs:te}=v;H|=g.patchFlag&16;const X=g.props||Fe,se=v.props||Fe;let ae;D&&ys(D,!1),(ae=se.onVnodeBeforeUpdate)&&_t(ae,D,v,g),te&&fs(v,g,D,"beforeUpdate"),D&&ys(D,!0);const _e=T&&v.type!=="foreignObject";if(I?Ae(g.dynamicChildren,I,L,D,P,_e,N):Y||fe(g,v,L,null,D,P,_e,N,!1),H>0){if(H&16)je(L,v,X,se,D,P,T);else if(H&2&&X.class!==se.class&&r(L,"class",null,se.class,T),H&4&&r(L,"style",X.style,se.style,T),H&8){const Se=v.dynamicProps;for(let Oe=0;Oe<Se.length;Oe++){const Te=Se[Oe],bt=X[Te],Rs=se[Te];(Rs!==bt||Te==="value")&&r(L,Te,bt,Rs,T,g.children,D,P,j)}}H&1&&g.children!==v.children&&d(L,v.children)}else!Y&&I==null&&je(L,v,X,se,D,P,T);((ae=se.onVnodeUpdated)||te)&&Ke(()=>{ae&&_t(ae,D,v,g),te&&fs(v,g,D,"updated")},P)},Ae=(g,v,D,P,T,N,Y)=>{for(let L=0;L<v.length;L++){const H=g[L],I=v[L],te=H.el&&(H.type===Ce||!yn(H,I)||H.shapeFlag&70)?f(H.el):D;A(H,I,te,null,P,T,N,Y,!0)}},je=(g,v,D,P,T,N,Y)=>{if(D!==P){for(const L in P){if(yo(L))continue;const H=P[L],I=D[L];H!==I&&L!=="value"&&r(g,L,I,H,Y,v.children,T,N,j)}if(D!==Fe)for(const L in D)!yo(L)&&!(L in P)&&r(g,L,D[L],null,Y,v.children,T,N,j);"value"in P&&r(g,"value",D.value,P.value)}},He=(g,v,D,P,T,N,Y,L,H)=>{const I=v.el=g?g.el:i(""),te=v.anchor=g?g.anchor:i("");let{patchFlag:X,dynamicChildren:se,slotScopeIds:ae}=v;ae&&(L=L?L.concat(ae):ae),g==null?(o(I,D,P),o(te,D,P),ie(v.children,D,te,T,N,Y,L,H)):X>0&&X&64&&se&&g.dynamicChildren?(Ae(g.dynamicChildren,se,D,T,N,Y,L),(v.key!=null||T&&v===T.subTree)&&Lr(g,v,!0)):fe(g,v,D,te,T,N,Y,L,H)},Re=(g,v,D,P,T,N,Y,L,H)=>{v.slotScopeIds=L,g==null?v.shapeFlag&512?T.ctx.activate(v,D,P,Y,H):$e(v,D,P,T,N,Y,H):Me(g,v,H)},$e=(g,v,D,P,T,N,Y)=>{const L=g.component=Jf(g,P,T);if(np(g)&&(L.ctx.renderer=me),Xf(L),L.asyncDep){if(T&&T.registerDep(L,J),!g.el){const H=L.subTree=Z(ps);B(null,H,v,D)}return}J(L,g,v,D,T,N,Y)},Me=(g,v,D)=>{const P=v.component=g.component;if(ff(g,v,D))if(P.asyncDep&&!P.asyncResolved){le(P,v,D);return}else P.next=v,rf(P.update),P.update();else v.el=g.el,P.vnode=v},J=(g,v,D,P,T,N,Y)=>{const L=()=>{if(g.isMounted){let{next:te,bu:X,u:se,parent:ae,vnode:_e}=g,Se=te,Oe;ys(g,!1),te?(te.el=_e.el,le(g,te,Y)):te=_e,X&&Ys(X),(Oe=te.props&&te.props.onVnodeBeforeUpdate)&&_t(Oe,ae,te,_e),ys(g,!0);const Te=nl(g),bt=g.subTree;g.subTree=Te,A(bt,Te,f(bt.el),ee(bt),g,T,N),te.el=Te.el,Se===null&&yf(g,Te.el),se&&Ke(se,T),(Oe=te.props&&te.props.onVnodeUpdated)&&Ke(()=>_t(Oe,ae,te,_e),T)}else{let te;const{el:X,props:se}=v,{bm:ae,m:_e,parent:Se}=g,Oe=Gs(v);if(ys(g,!1),ae&&Ys(ae),!Oe&&(te=se&&se.onVnodeBeforeMount)&&_t(te,Se,v),ys(g,!0),X&&oe){const Te=()=>{g.subTree=nl(g),oe(X,g.subTree,g,T,null)};Oe?v.type.__asyncLoader().then(()=>!g.isUnmounted&&Te()):Te()}else{const Te=g.subTree=nl(g);A(null,Te,D,P,g,T,N),v.el=Te.el}if(_e&&Ke(_e,T),!Oe&&(te=se&&se.onVnodeMounted)){const Te=v;Ke(()=>_t(te,Se,Te),T)}(v.shapeFlag&256||Se&&Gs(Se.vnode)&&Se.vnode.shapeFlag&256)&&g.a&&Ke(g.a,T),g.isMounted=!0,v=D=P=null}},H=g.effect=new br(L,()=>$r(I),g.scope),I=g.update=()=>H.run();I.id=g.uid,ys(g,!0),I()},le=(g,v,D)=>{v.component=g;const P=g.vnode.props;g.vnode=v,g.next=null,Mf(g,v.props,P,D),Lf(g,v.children,D),rn(),Ea(),an()},fe=(g,v,D,P,T,N,Y,L,H=!1)=>{const I=g&&g.children,te=g?g.shapeFlag:0,X=v.children,{patchFlag:se,shapeFlag:ae}=v;if(se>0){if(se&128){it(I,X,D,P,T,N,Y,L,H);return}else if(se&256){xe(I,X,D,P,T,N,Y,L,H);return}}ae&8?(te&16&&j(I,T,N),X!==I&&d(D,X)):te&16?ae&16?it(I,X,D,P,T,N,Y,L,H):j(I,T,N,!0):(te&8&&d(D,""),ae&16&&ie(X,D,P,T,N,Y,L,H))},xe=(g,v,D,P,T,N,Y,L,H)=>{g=g||zs,v=v||zs;const I=g.length,te=v.length,X=Math.min(I,te);let se;for(se=0;se<X;se++){const ae=v[se]=H?es(v[se]):Rt(v[se]);A(g[se],ae,D,null,T,N,Y,L,H)}I>te?j(g,T,N,!0,!1,X):ie(v,D,P,T,N,Y,L,H,X)},it=(g,v,D,P,T,N,Y,L,H)=>{let I=0;const te=v.length;let X=g.length-1,se=te-1;for(;I<=X&&I<=se;){const ae=g[I],_e=v[I]=H?es(v[I]):Rt(v[I]);if(yn(ae,_e))A(ae,_e,D,null,T,N,Y,L,H);else break;I++}for(;I<=X&&I<=se;){const ae=g[X],_e=v[se]=H?es(v[se]):Rt(v[se]);if(yn(ae,_e))A(ae,_e,D,null,T,N,Y,L,H);else break;X--,se--}if(I>X){if(I<=se){const ae=se+1,_e=ae<te?v[ae].el:P;for(;I<=se;)A(null,v[I]=H?es(v[I]):Rt(v[I]),D,_e,T,N,Y,L,H),I++}}else if(I>se)for(;I<=X;)rt(g[I],T,N,!0),I++;else{const ae=I,_e=I,Se=new Map;for(I=_e;I<=se;I++){const ct=v[I]=H?es(v[I]):Rt(v[I]);ct.key!=null&&Se.set(ct.key,I)}let Oe,Te=0;const bt=se-_e+1;let Rs=!1,ua=0;const fn=new Array(bt);for(I=0;I<bt;I++)fn[I]=0;for(I=ae;I<=X;I++){const ct=g[I];if(Te>=bt){rt(ct,T,N,!0);continue}let It;if(ct.key!=null)It=Se.get(ct.key);else for(Oe=_e;Oe<=se;Oe++)if(fn[Oe-_e]===0&&yn(ct,v[Oe])){It=Oe;break}It===void 0?rt(ct,T,N,!0):(fn[It-_e]=I+1,It>=ua?ua=It:Rs=!0,A(ct,v[It],D,null,T,N,Y,L,H),Te++)}const da=Rs?Vf(fn):zs;for(Oe=da.length-1,I=bt-1;I>=0;I--){const ct=_e+I,It=v[ct],fa=ct+1<te?v[ct+1].el:P;fn[I]===0?A(null,It,D,fa,T,N,Y,L,H):Rs&&(Oe<0||I!==da[Oe]?Ye(It,D,fa,2):Oe--)}}},Ye=(g,v,D,P,T=null)=>{const{el:N,type:Y,transition:L,children:H,shapeFlag:I}=g;if(I&6){Ye(g.component.subTree,v,D,P);return}if(I&128){g.suspense.move(v,D,P);return}if(I&64){Y.move(g,v,D,me);return}if(Y===Ce){o(N,v,D);for(let X=0;X<H.length;X++)Ye(H[X],v,D,P);o(g.anchor,v,D);return}if(Y===rl){x(g,v,D);return}if(P!==2&&I&1&&L)if(P===0)L.beforeEnter(N),o(N,v,D),Ke(()=>L.enter(N),T);else{const{leave:X,delayLeave:se,afterLeave:ae}=L,_e=()=>o(N,v,D),Se=()=>{X(N,()=>{_e(),ae&&ae()})};se?se(N,_e,Se):Se()}else o(N,v,D)},rt=(g,v,D,P=!1,T=!1)=>{const{type:N,props:Y,ref:L,children:H,dynamicChildren:I,shapeFlag:te,patchFlag:X,dirs:se}=g;if(L!=null&&Ll(L,null,D,g,!0),te&256){v.ctx.deactivate(g);return}const ae=te&1&&se,_e=!Gs(g);let Se;if(_e&&(Se=Y&&Y.onVnodeBeforeUnmount)&&_t(Se,v,g),te&6)G(g.component,D,P);else{if(te&128){g.suspense.unmount(D,P);return}ae&&fs(g,null,v,"beforeUnmount"),te&64?g.type.remove(g,v,D,T,me,P):I&&(N!==Ce||X>0&&X&64)?j(I,v,D,!1,!0):(N===Ce&&X&384||!T&&te&16)&&j(H,v,D),P&&ds(g)}(_e&&(Se=Y&&Y.onVnodeUnmounted)||ae)&&Ke(()=>{Se&&_t(Se,v,g),ae&&fs(g,null,v,"unmounted")},D)},ds=g=>{const{type:v,el:D,anchor:P,transition:T}=g;if(v===Ce){O(D,P);return}if(v===rl){q(g);return}const N=()=>{l(D),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(g.shapeFlag&1&&T&&!T.persisted){const{leave:Y,delayLeave:L}=T,H=()=>Y(D,N);L?L(g.el,N,H):H()}else N()},O=(g,v)=>{let D;for(;g!==v;)D=y(g),l(g),g=D;l(v)},G=(g,v,D)=>{const{bum:P,scope:T,update:N,subTree:Y,um:L}=g;P&&Ys(P),T.stop(),N&&(N.active=!1,rt(Y,g,v,D)),L&&Ke(L,v),Ke(()=>{g.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},j=(g,v,D,P=!1,T=!1,N=0)=>{for(let Y=N;Y<g.length;Y++)rt(g[Y],v,D,P,T)},ee=g=>g.shapeFlag&6?ee(g.component.subTree):g.shapeFlag&128?g.suspense.next():y(g.anchor||g.el),we=(g,v,D)=>{g==null?v._vnode&&rt(v._vnode,null,null,!0):A(v._vnode||null,g,v,null,null,null,D),Ea(),Gc(),v._vnode=g},me={p:A,um:rt,m:Ye,r:ds,mt:$e,mc:ie,pc:fe,pbc:Ae,n:ee,o:t};let ce,oe;return s&&([ce,oe]=s(me)),{render:we,hydrate:ce,createApp:Nf(we,ce)}}function ys({effect:t,update:s},n){t.allowRecurse=s.allowRecurse=n}function Lr(t,s,n=!1){const o=t.children,l=s.children;if(re(o)&&re(l))for(let r=0;r<o.length;r++){const a=o[r];let i=l[r];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=l[r]=es(l[r]),i.el=a.el),n||Lr(a,i))}}function Vf(t){const s=t.slice(),n=[0];let o,l,r,a,i;const p=t.length;for(o=0;o<p;o++){const u=t[o];if(u!==0){if(l=n[n.length-1],t[l]<u){s[o]=l,n.push(o);continue}for(r=0,a=n.length-1;r<a;)i=r+a>>1,t[n[i]]<u?r=i+1:a=i;u<t[n[r]]&&(r>0&&(s[o]=n[r-1]),n[r]=o)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=s[a];return n}const Uf=t=>t.__isTeleport,Dn=t=>t&&(t.disabled||t.disabled===""),$a=t=>typeof SVGElement<"u"&&t instanceof SVGElement,ql=(t,s)=>{const n=t&&t.to;return qe(n)?s?s(n):null:n},Wf={__isTeleport:!0,process(t,s,n,o,l,r,a,i,p,u){const{mc:d,pc:f,pbc:y,o:{insert:h,querySelector:m,createText:w,createComment:A}}=u,C=Dn(s.props);let{shapeFlag:B,children:b,dynamicChildren:x}=s;if(t==null){const q=s.el=w(""),R=s.anchor=w("");h(q,n,o),h(R,n,o);const V=s.target=ql(s.props,m),ne=s.targetAnchor=w("");V&&(h(ne,V),a=a||$a(V));const ie=(ge,Ae)=>{B&16&&d(b,ge,Ae,l,r,a,i,p)};C?ie(n,R):V&&ie(V,ne)}else{s.el=t.el;const q=s.anchor=t.anchor,R=s.target=t.target,V=s.targetAnchor=t.targetAnchor,ne=Dn(t.props),ie=ne?n:R,ge=ne?q:V;if(a=a||$a(R),x?(y(t.dynamicChildren,x,ie,l,r,a,i),Lr(t,s,!0)):p||f(t,s,ie,ge,l,r,a,i,!1),C)ne||io(s,n,q,u,1);else if((s.props&&s.props.to)!==(t.props&&t.props.to)){const Ae=s.target=ql(s.props,m);Ae&&io(s,Ae,null,u,0)}else ne&&io(s,R,V,u,1)}},remove(t,s,n,o,{um:l,o:{remove:r}},a){const{shapeFlag:i,children:p,anchor:u,targetAnchor:d,target:f,props:y}=t;if(f&&r(d),(a||!Dn(y))&&(r(u),i&16))for(let h=0;h<p.length;h++){const m=p[h];l(m,s,n,!0,!!m.dynamicChildren)}},move:io,hydrate:zf};function io(t,s,n,{o:{insert:o},m:l},r=2){r===0&&o(t.targetAnchor,s,n);const{el:a,anchor:i,shapeFlag:p,children:u,props:d}=t,f=r===2;if(f&&o(a,s,n),(!f||Dn(d))&&p&16)for(let y=0;y<u.length;y++)l(u[y],s,n,2);f&&o(i,s,n)}function zf(t,s,n,o,l,r,{o:{nextSibling:a,parentNode:i,querySelector:p}},u){const d=s.target=ql(s.props,p);if(d){const f=d._lpa||d.firstChild;if(s.shapeFlag&16)if(Dn(s.props))s.anchor=u(a(t),s,i(t),n,o,l,r),s.targetAnchor=f;else{s.anchor=a(t);let y=f;for(;y;)if(y=a(y),y&&y.nodeType===8&&y.data==="teleport anchor"){s.targetAnchor=y,d._lpa=s.targetAnchor&&a(s.targetAnchor);break}u(f,s,d,n,o,l,r)}}return s.anchor&&a(s.anchor)}const Kf=Wf,Ce=Symbol(void 0),qr=Symbol(void 0),ps=Symbol(void 0),rl=Symbol(void 0),Bn=[];let xt=null;function _(t=!1){Bn.push(xt=t?null:[])}function Yf(){Bn.pop(),xt=Bn[Bn.length-1]||null}let Nn=1;function Ta(t){Nn+=t}function mp(t){return t.dynamicChildren=Nn>0?xt||zs:null,Yf(),Nn>0&&xt&&xt.push(t),t}function Q(t,s,n,o,l,r){return mp(e(t,s,n,o,l,r,!0))}function F(t,s,n,o,l){return mp(Z(t,s,n,o,l,!0))}function tn(t){return t?t.__v_isVNode===!0:!1}function yn(t,s){return t.type===s.type&&t.key===s.key}const Qo="__vInternal",gp=({key:t})=>t!=null?t:null,ho=({ref:t,ref_key:s,ref_for:n})=>t!=null?qe(t)||De(t)||ue(t)?{i:Ge,r:t,k:s,f:!!n}:t:null;function e(t,s=null,n=null,o=0,l=null,r=t===Ce?0:1,a=!1,i=!1){const p={__v_isVNode:!0,__v_skip:!0,type:t,props:s,key:s&&gp(s),ref:s&&ho(s),scopeId:zo,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:l,dynamicChildren:null,appContext:null};return i?(Nr(p,n),r&128&&t.normalize(p)):n&&(p.shapeFlag|=qe(n)?8:16),Nn>0&&!a&&xt&&(p.patchFlag>0||r&6)&&p.patchFlag!==32&&xt.push(p),p}const Z=Zf;function Zf(t,s=null,n=null,o=0,l=null,r=!1){if((!t||t===Cf)&&(t=ps),tn(t)){const i=Ts(t,s,!0);return n&&Nr(i,n),Nn>0&&!r&&xt&&(i.shapeFlag&6?xt[xt.indexOf(t)]=i:xt.push(i)),i.patchFlag|=-2,i}if(sy(t)&&(t=t.__vccOpts),s){s=U(s);let{class:i,style:p}=s;i&&!qe(i)&&(s.class=Le(i)),Ie(p)&&(Uc(p)&&!re(p)&&(p=lt({},p)),s.style=ot(p))}const a=qe(t)?1:ep(t)?128:Uf(t)?64:Ie(t)?4:ue(t)?2:0;return e(t,s,n,o,l,a,r,!0)}function U(t){return t?Uc(t)||Qo in t?lt({},t):t:null}function Ts(t,s,n=!1){const{props:o,ref:l,patchFlag:r,children:a}=t,i=s?Ne(o||{},s):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:i,key:i&&gp(i),ref:s&&s.ref?n&&l?re(l)?l.concat(ho(s)):[l,ho(s)]:ho(s):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:s&&t.type!==Ce?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ts(t.ssContent),ssFallback:t.ssFallback&&Ts(t.ssFallback),el:t.el,anchor:t.anchor}}function c(t=" ",s=0){return Z(qr,null,t,s)}function he(t="",s=!1){return s?(_(),F(ps,null,t)):Z(ps,null,t)}function Rt(t){return t==null||typeof t=="boolean"?Z(ps):re(t)?Z(Ce,null,t.slice()):typeof t=="object"?es(t):Z(qr,null,String(t))}function es(t){return t.el===null||t.memo?t:Ts(t)}function Nr(t,s){let n=0;const{shapeFlag:o}=t;if(s==null)s=null;else if(re(s))n=16;else if(typeof s=="object")if(o&65){const l=s.default;l&&(l._c&&(l._d=!1),Nr(t,l()),l._c&&(l._d=!0));return}else{n=32;const l=s._;!l&&!(Qo in s)?s._ctx=Ge:l===3&&Ge&&(Ge.slots._===1?s._=1:(s._=2,t.patchFlag|=1024))}else ue(s)?(s={default:s,_ctx:Ge},n=32):(s=String(s),o&64?(n=16,s=[c(s)]):n=8);t.children=s,t.shapeFlag|=n}function Ne(...t){const s={};for(let n=0;n<t.length;n++){const o=t[n];for(const l in o)if(l==="class")s.class!==o.class&&(s.class=Le([s.class,o.class]));else if(l==="style")s.style=ot([s.style,o.style]);else if(Lo(l)){const r=s[l],a=o[l];a&&r!==a&&!(re(r)&&r.includes(a))&&(s[l]=r?[].concat(r,a):a)}else l!==""&&(s[l]=o[l])}return s}function _t(t,s,n,o=null){Ot(t,s,7,[n,o])}const Qf=hp();let Gf=0;function Jf(t,s,n){const o=t.type,l=(s?s.appContext:t.appContext)||Qf,r={uid:Gf++,vnode:t,type:o,parent:s,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new Fc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:up(o,l),emitsOptions:Xc(o,l),emit:null,emitted:null,propsDefaults:Fe,inheritAttrs:o.inheritAttrs,ctx:Fe,data:Fe,props:Fe,attrs:Fe,slots:Fe,refs:Fe,setupState:Fe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=s?s.root:r,r.emit=pf.bind(null,r),t.ce&&t.ce(r),r}let ze=null;const us=()=>ze||Ge,sn=t=>{ze=t,t.scope.on()},ks=()=>{ze&&ze.scope.off(),ze=null};function vp(t){return t.vnode.shapeFlag&4}let jn=!1;function Xf(t,s=!1){jn=s;const{props:n,children:o}=t.vnode,l=vp(t);Pf(t,n,l,s),Rf(t,o);const r=l?ey(t,s):void 0;return jn=!1,r}function ey(t,s){const n=t.type;t.accessCache=Object.create(null),t.proxy=Vo(new Proxy(t.ctx,kf));const{setup:o}=n;if(o){const l=t.setupContext=o.length>1?_p(t):null;sn(t),rn();const r=os(o,t,0,[t.props,l]);if(an(),ks(),kc(r)){if(r.then(ks,ks),s)return r.then(a=>{Pa(t,a,s)}).catch(a=>{Uo(a,t,0)});t.asyncDep=r}else Pa(t,r,s)}else Ap(t,s)}function Pa(t,s,n){ue(s)?t.type.__ssrInlineRender?t.ssrRender=s:t.render=s:Ie(s)&&(t.setupState=zc(s)),Ap(t,n)}let Ma;function Ap(t,s,n){const o=t.type;if(!t.render){if(!s&&Ma&&!o.render){const l=o.template||Ir(t).template;if(l){const{isCustomElement:r,compilerOptions:a}=t.appContext.config,{delimiters:i,compilerOptions:p}=o,u=lt(lt({isCustomElement:r,delimiters:i},a),p);o.render=Ma(l,u)}}t.render=o.render||St}sn(t),rn(),Sf(t),an(),ks()}function ty(t){return new Proxy(t.attrs,{get(s,n){return At(t,"get","$attrs"),s[n]}})}function _p(t){const s=o=>{t.exposed=o||{}};let n;return{get attrs(){return n||(n=ty(t))},slots:t.slots,emit:t.emit,expose:s}}function Go(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(zc(Vo(t.exposed)),{get(s,n){if(n in s)return s[n];if(n in Bo)return Bo[n](t)}}))}function Nl(t,s=!0){return ue(t)?t.displayName||t.name:t.name||s&&t.__name}function sy(t){return ue(t)&&"__vccOpts"in t}const k=(t,s)=>nf(t,s,jn);function ny(){return oy().slots}function oy(){const t=us();return t.setupContext||(t.setupContext=_p(t))}function mt(t,s,n){const o=arguments.length;return o===2?Ie(s)&&!re(s)?tn(s)?Z(t,null,[s]):Z(t,s):Z(t,null,s):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&tn(n)&&(n=[n]),Z(t,s,n))}const ly="3.2.39",ry="http://www.w3.org/2000/svg",_s=typeof document<"u"?document:null,Ia=_s&&_s.createElement("template"),ay={insert:(t,s,n)=>{s.insertBefore(t,n||null)},remove:t=>{const s=t.parentNode;s&&s.removeChild(t)},createElement:(t,s,n,o)=>{const l=s?_s.createElementNS(ry,t):_s.createElement(t,n?{is:n}:void 0);return t==="select"&&o&&o.multiple!=null&&l.setAttribute("multiple",o.multiple),l},createText:t=>_s.createTextNode(t),createComment:t=>_s.createComment(t),setText:(t,s)=>{t.nodeValue=s},setElementText:(t,s)=>{t.textContent=s},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>_s.querySelector(t),setScopeId(t,s){t.setAttribute(s,"")},cloneNode(t){const s=t.cloneNode(!0);return"_value"in t&&(s._value=t._value),s},insertStaticContent(t,s,n,o,l,r){const a=n?n.previousSibling:s.lastChild;if(l&&(l===r||l.nextSibling))for(;s.insertBefore(l.cloneNode(!0),n),!(l===r||!(l=l.nextSibling)););else{Ia.innerHTML=o?`<svg>${t}</svg>`:t;const i=Ia.content;if(o){const p=i.firstChild;for(;p.firstChild;)i.appendChild(p.firstChild);i.removeChild(p)}s.insertBefore(i,n)}return[a?a.nextSibling:s.firstChild,n?n.previousSibling:s.lastChild]}};function iy(t,s,n){const o=t._vtc;o&&(s=(s?[s,...o]:[...o]).join(" ")),s==null?t.removeAttribute("class"):n?t.setAttribute("class",s):t.className=s}function cy(t,s,n){const o=t.style,l=qe(n);if(n&&!l){for(const r in n)jl(o,r,n[r]);if(s&&!qe(s))for(const r in s)n[r]==null&&jl(o,r,"")}else{const r=o.display;l?s!==n&&(o.cssText=n):s&&t.removeAttribute("style"),"_vod"in t&&(o.display=r)}}const Ra=/\s*!important$/;function jl(t,s,n){if(re(n))n.forEach(o=>jl(t,s,o));else if(n==null&&(n=""),s.startsWith("--"))t.setProperty(s,n);else{const o=py(t,s);Ra.test(n)?t.setProperty(Ps(o),n.replace(Ra,""),"important"):t[o]=n}}const La=["Webkit","Moz","ms"],al={};function py(t,s){const n=al[s];if(n)return n;let o=Ht(s);if(o!=="filter"&&o in t)return al[s]=o;o=jo(o);for(let l=0;l<La.length;l++){const r=La[l]+o;if(r in t)return al[s]=r}return s}const qa="http://www.w3.org/1999/xlink";function uy(t,s,n,o,l){if(o&&s.startsWith("xlink:"))n==null?t.removeAttributeNS(qa,s.slice(6,s.length)):t.setAttributeNS(qa,s,n);else{const r=cd(s);n==null||r&&!Bc(n)?t.removeAttribute(s):t.setAttribute(s,r?"":n)}}function dy(t,s,n,o,l,r,a){if(s==="innerHTML"||s==="textContent"){o&&a(o,l,r),t[s]=n==null?"":n;return}if(s==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const p=n==null?"":n;(t.value!==p||t.tagName==="OPTION")&&(t.value=p),n==null&&t.removeAttribute(s);return}let i=!1;if(n===""||n==null){const p=typeof t[s];p==="boolean"?n=Bc(n):n==null&&p==="string"?(n="",i=!0):p==="number"&&(n=0,i=!0)}try{t[s]=n}catch{}i&&t.removeAttribute(s)}const[wp,fy]=(()=>{let t=Date.now,s=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);s=!!(n&&Number(n[1])<=53)}return[t,s]})();let Hl=0;const yy=Promise.resolve(),hy=()=>{Hl=0},my=()=>Hl||(yy.then(hy),Hl=wp());function js(t,s,n,o){t.addEventListener(s,n,o)}function gy(t,s,n,o){t.removeEventListener(s,n,o)}function vy(t,s,n,o,l=null){const r=t._vei||(t._vei={}),a=r[s];if(o&&a)a.value=o;else{const[i,p]=Ay(s);if(o){const u=r[s]=_y(o,l);js(t,i,u,p)}else a&&(gy(t,i,a,p),r[s]=void 0)}}const Na=/(?:Once|Passive|Capture)$/;function Ay(t){let s;if(Na.test(t)){s={};let o;for(;o=t.match(Na);)t=t.slice(0,t.length-o[0].length),s[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ps(t.slice(2)),s]}function _y(t,s){const n=o=>{const l=o.timeStamp||wp();(fy||l>=n.attached-1)&&Ot(wy(o,n.value),s,5,[o])};return n.value=t,n.attached=my(),n}function wy(t,s){if(re(s)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},s.map(o=>l=>!l._stopped&&o&&o(l))}else return s}const ja=/^on[a-z]/,Ey=(t,s,n,o,l=!1,r,a,i,p)=>{s==="class"?iy(t,o,l):s==="style"?cy(t,n,o):Lo(s)?vr(s)||vy(t,s,n,o,a):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):by(t,s,o,l))?dy(t,s,o,r,a,i,p):(s==="true-value"?t._trueValue=o:s==="false-value"&&(t._falseValue=o),uy(t,s,o,l))};function by(t,s,n,o){return o?!!(s==="innerHTML"||s==="textContent"||s in t&&ja.test(s)&&ue(n)):s==="spellcheck"||s==="draggable"||s==="translate"||s==="form"||s==="list"&&t.tagName==="INPUT"||s==="type"&&t.tagName==="TEXTAREA"||ja.test(s)&&qe(n)?!1:s in t}const Ha=t=>{const s=t.props["onUpdate:modelValue"]||!1;return re(s)?n=>Ys(s,n):s};function Dy(t){t.target.composing=!0}function Va(t){const s=t.target;s.composing&&(s.composing=!1,s.dispatchEvent(new Event("input")))}const By={created(t,{modifiers:{lazy:s,trim:n,number:o}},l){t._assign=Ha(l);const r=o||l.props&&l.props.type==="number";js(t,s?"change":"input",a=>{if(a.target.composing)return;let i=t.value;n&&(i=i.trim()),r&&(i=kl(i)),t._assign(i)}),n&&js(t,"change",()=>{t.value=t.value.trim()}),s||(js(t,"compositionstart",Dy),js(t,"compositionend",Va),js(t,"change",Va))},mounted(t,{value:s}){t.value=s==null?"":s},beforeUpdate(t,{value:s,modifiers:{lazy:n,trim:o,number:l}},r){if(t._assign=Ha(r),t.composing||document.activeElement===t&&t.type!=="range"&&(n||o&&t.value.trim()===s||(l||t.type==="number")&&kl(t.value)===s))return;const a=s==null?"":s;t.value!==a&&(t.value=a)}},Cy={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ua=(t,s)=>n=>{if(!("key"in n))return;const o=Ps(n.key);if(s.some(l=>l===o||Cy[l]===o))return t(n)},Ep={beforeMount(t,{value:s},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&s?n.beforeEnter(t):hn(t,s)},mounted(t,{value:s},{transition:n}){n&&s&&n.enter(t)},updated(t,{value:s,oldValue:n},{transition:o}){!s!=!n&&(o?s?(o.beforeEnter(t),hn(t,!0),o.enter(t)):o.leave(t,()=>{hn(t,!1)}):hn(t,s))},beforeUnmount(t,{value:s}){hn(t,s)}};function hn(t,s){t.style.display=s?t._vod:"none"}const xy=lt({patchProp:Ey},ay);let Wa;function ky(){return Wa||(Wa=jf(xy))}const Sy=(...t)=>{const s=ky().createApp(...t),{mount:n}=s;return s.mount=o=>{const l=Oy(o);if(!l)return;const r=s._component;!ue(r)&&!r.render&&!r.template&&(r.template=l.innerHTML),l.innerHTML="";const a=n(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),a},s};function Oy(t){return qe(t)?document.querySelector(t):t}var Fy=Object.defineProperty,za=Object.getOwnPropertySymbols,$y=Object.prototype.hasOwnProperty,Ty=Object.prototype.propertyIsEnumerable,Ka=(t,s,n)=>s in t?Fy(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,Py=(t,s)=>{for(var n in s||(s={}))$y.call(s,n)&&Ka(t,n,s[n]);if(za)for(var n of za(s))Ty.call(s,n)&&Ka(t,n,s[n]);return t},bp="usehead",Ya="head:count",il="data-head-attrs",Dp="data-meta-body",My=(t,s,n)=>{const o=n.createElement(t);for(const l of Object.keys(s))if(l==="body"&&s.body===!0)o.setAttribute(Dp,"true");else{let r=s[l];if(l==="key"||r===!1)continue;l==="children"?o.textContent=r:o.setAttribute(l,r)}return o};function Za(t,s){if(t instanceof HTMLElement&&s instanceof HTMLElement){const n=s.getAttribute("nonce");if(n&&!t.getAttribute("nonce")){const o=s.cloneNode(!0);return o.setAttribute("nonce",""),o.nonce=n,n===t.nonce&&t.isEqualNode(o)}}return t.isEqualNode(s)}var Iy=t=>{const s=["key","id","name","property"];for(const n of s){const o=typeof t.getAttribute=="function"?t.hasAttribute(n)?t.getAttribute(n):void 0:t[n];if(o!==void 0)return{name:n,value:o}}},Ry=()=>{const t=S(bp);if(!t)throw new Error("You may forget to apply app.use(head)");return t},Ly=["title","meta","link","base","style","script","noscript","htmlAttrs","bodyAttrs"],qy=(t,s)=>t==null?"":typeof t=="string"?t.replace("%s",s!=null?s:""):t(E(s)),Ny=t=>{const s=[],n=Object.keys(t);for(const o of n)if(t[o]!=null)switch(o){case"title":s.push({tag:o,props:{children:t[o]}});break;case"titleTemplate":break;case"base":s.push({tag:o,props:Py({key:"default"},t[o])});break;default:if(Ly.includes(o)){const l=t[o];Array.isArray(l)?l.forEach(r=>{s.push({tag:o,props:E(r)})}):l&&s.push({tag:o,props:l})}break}return s},Qa=(t,s)=>{const n=t.getAttribute(il);if(n)for(const l of n.split(","))l in s||t.removeAttribute(l);const o=[];for(const l in s){const r=s[l];r!=null&&(r===!1?t.removeAttribute(l):t.setAttribute(l,r),o.push(l))}o.length?t.setAttribute(il,o.join(",")):t.removeAttribute(il)},jy=(t=window.document,s,n)=>{var o,l;const r=t.head,a=t.body;let i=r.querySelector(`meta[name="${Ya}"]`),p=a.querySelectorAll(`[${Dp}]`);const u=i?Number(i.getAttribute("content")):0,d=[],f=[];if(p)for(let h=0;h<p.length;h++)p[h]&&((o=p[h].tagName)==null?void 0:o.toLowerCase())===s&&f.push(p[h]);if(i)for(let h=0,m=i.previousElementSibling;h<u;h++,m=(m==null?void 0:m.previousElementSibling)||null)((l=m==null?void 0:m.tagName)==null?void 0:l.toLowerCase())===s&&d.push(m);else i=t.createElement("meta"),i.setAttribute("name",Ya),i.setAttribute("content","0"),r.append(i);let y=n.map(h=>{var m;return{element:My(h.tag,h.props,t),body:(m=h.props.body)!=null?m:!1}});y=y.filter(h=>{for(let m=0;m<d.length;m++){const w=d[m];if(Za(w,h.element))return d.splice(m,1),!1}for(let m=0;m<f.length;m++){const w=f[m];if(Za(w,h.element))return f.splice(m,1),!1}return!0}),f.forEach(h=>{var m;return(m=h.parentNode)==null?void 0:m.removeChild(h)}),d.forEach(h=>{var m;return(m=h.parentNode)==null?void 0:m.removeChild(h)}),y.forEach(h=>{h.body===!0?a.insertAdjacentElement("beforeend",h.element):r.insertBefore(h.element,i)}),i.setAttribute("content",""+(u-d.length+y.filter(h=>!h.body).length))},Hy=t=>{let s=[],n=new Set;t&&s.push($t(t));const o={install(l){l.config.globalProperties.$head=o,l.provide(bp,o)},get headTags(){const l=[],r=s.map(a=>E(a).titleTemplate).reverse().find(a=>a!=null);return s.forEach(a=>{Ny(E(a)).forEach(p=>{if(p.tag==="meta"||p.tag==="base"||p.tag==="script"){const u=Iy(p.props);if(u){let d=-1;for(let f=0;f<l.length;f++){const y=l[f],h=y.props[u.name],m=p.props[u.name];if(y.tag===p.tag&&h===m){d=f;break}}d!==-1&&l.splice(d,1)}}r&&p.tag==="title"&&(p.props.children=qy(r,p.props.children)),l.push(p)})}),l},addHeadObjs(l){s.push(l)},removeHeadObjs(l){s=s.filter(r=>r!==l)},updateDOM(l=window.document){let r,a={},i={};const p={};for(const d of o.headTags){if(d.tag==="title"){r=d.props.children;continue}if(d.tag==="htmlAttrs"){Object.assign(a,d.props);continue}if(d.tag==="bodyAttrs"){Object.assign(i,d.props);continue}p[d.tag]=p[d.tag]||[],p[d.tag].push(d)}r!==void 0&&(l.title=r),Qa(l.documentElement,a),Qa(l.body,i);const u=new Set([...Object.keys(p),...n]);for(const d of u)jy(l,d,p[d]||[]);n.clear(),Object.keys(p).forEach(d=>n.add(d))}};return o},Vy=typeof window<"u",Uy=t=>{const s=Ry(),n=K(t);s.addHeadObjs(n),Vy&&(Qn(()=>{s.updateDOM()}),Yo(()=>{s.removeHeadObjs(n),s.updateDOM()}))};const Cn=Symbol("v-click-clicks"),ws=Symbol("v-click-clicks-elements"),Vl=Symbol("v-click-clicks-order-map"),xn=Symbol("v-click-clicks-disabled"),Bp=Symbol("slidev-slide-scale"),M=Symbol("slidev-slidev-context"),Wy=Symbol("slidev-route"),zy=Symbol("slidev-slide-context"),vs="slidev-vclick-target",cl="slidev-vclick-hidden",Ky="slidev-vclick-fade",pl="slidev-vclick-hidden-explicitly",mn="slidev-vclick-current",co="slidev-vclick-prior";function Ul(t,s){if(!t)return!1;const n=t.indexOf(s);return n>=0?(t.splice(n,1),!0):!1}function Yy(...t){let s,n,o;t.length===1?(s=0,o=1,[n]=t):[s,n,o=1]=t;const l=[];let r=s;for(;r<n;)l.push(r),r+=o||1;return l}function Zy(t){return t!=null}function Qy(t,s){return Object.fromEntries(Object.entries(t).map(([n,o])=>s(n,o)).filter(Zy))}const Ds={theme:"slidev-theme-nearform",title:"OWASP Top Ten Security Vulnerabilities Workshop",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:"dev",download:!1,info:!1,highlighter:"shiki",lineNumbers:!1,colorSchema:"dark",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Poppins"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:['"Poppins"',"ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"PT Mono"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Poppins","PT Mono"],provider:"google",local:[],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,record:"dev",css:"windicss",layout:"default"},Ee=Ds;var bc;const ls=(bc=Ee.aspectRatio)!=null?bc:16/9;var Dc;const Ss=(Dc=Ee.canvasWidth)!=null?Dc:980,Cp=Math.round(Ss/ls),xp=k(()=>Qy(Ee.themeConfig||{},(t,s)=>[`--slidev-theme-${t}`,s]));function Et(t,s,n){Object.defineProperty(t,s,{value:n,writable:!0,enumerable:!1})}const Ms=Pe({page:0,clicks:0});let Gy=[],Jy=[];Et(Ms,"$syncUp",!0);Et(Ms,"$syncDown",!0);Et(Ms,"$paused",!1);Et(Ms,"$onSet",t=>Gy.push(t));Et(Ms,"$onPatch",t=>Jy.push(t));Et(Ms,"$patch",async()=>!1);function kp(t,s,n=!1){const o=[];let l=!1,r=!1,a,i;const p=Pe(s);function u(h){o.push(h)}function d(h,m){clearTimeout(a),l=!0,p[h]=m,a=setTimeout(()=>l=!1,0)}function f(h){l||(clearTimeout(i),r=!0,Object.entries(h).forEach(([m,w])=>{p[m]=w}),i=setTimeout(()=>r=!1,0))}function y(h){let m;n?n&&window.addEventListener("storage",A=>{A&&A.key===h&&A.newValue&&f(JSON.parse(A.newValue))}):(m=new BroadcastChannel(h),m.addEventListener("message",A=>f(A.data)));function w(){!n&&m&&!r?m.postMessage(be(p)):n&&!r&&window.localStorage.setItem(h,JSON.stringify(p)),l||o.forEach(A=>A(p))}if(ye(p,w,{deep:!0}),n){const A=window.localStorage.getItem(h);A&&f(JSON.parse(A))}}return{init:y,onPatch:u,patch:d,state:p}}const{init:Xy,onPatch:eh,patch:Ga,state:ul}=kp(Ms,{page:1,clicks:0}),Is=Pe({});let th=[],sh=[];Et(Is,"$syncUp",!0);Et(Is,"$syncDown",!0);Et(Is,"$paused",!1);Et(Is,"$onSet",t=>th.push(t));Et(Is,"$onPatch",t=>sh.push(t));Et(Is,"$patch",async()=>!1);const{init:nh,onPatch:oh,patch:Sp,state:xo}=kp(Is,{},!1),lh="modulepreload",rh=function(t){return"/owasp-top-ten-workshop/"+t},Ja={},pn=function(s,n,o){return!n||n.length===0?s():Promise.all(n.map(l=>{if(l=rh(l),l in Ja)return;Ja[l]=!0;const r=l.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${a}`))return;const i=document.createElement("link");if(i.rel=r?"stylesheet":lh,r||(i.as="script",i.crossOrigin=""),i.href=l,document.head.appendChild(i),r)return new Promise((p,u)=>{i.addEventListener("load",p),i.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>s())};var Xa;const Tt=typeof window<"u",ah=t=>typeof t<"u",ih=Object.prototype.toString,ko=t=>typeof t=="function",ch=t=>typeof t=="number",Op=t=>typeof t=="string",Wl=t=>ih.call(t)==="[object Object]",zl=()=>+Date.now(),Os=()=>{};Tt&&((Xa=window==null?void 0:window.navigator)==null?void 0:Xa.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ht(t){return typeof t=="function"?t():E(t)}function ph(t,s){function n(...o){t(()=>s.apply(this,o),{fn:s,thisArg:this,args:o})}return n}const Fp=t=>t();function uh(t=Fp){const s=K(!0);function n(){s.value=!1}function o(){s.value=!0}return{isActive:s,pause:n,resume:o,eventFilter:(...r)=>{s.value&&t(...r)}}}function dh(t){return t}function fh(t,s){var n;if(typeof t=="number")return t+s;const o=((n=t.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:n[0])||"",l=t.slice(o.length),r=parseFloat(o)+s;return Number.isNaN(r)?t:r+l}function yh(t,s){let n,o,l;const r=K(!0),a=()=>{r.value=!0,l()};ye(t,a,{flush:"sync"});const i=ko(s)?s:s.get,p=ko(s)?void 0:s.set,u=Kc((d,f)=>(o=d,l=f,{get(){return r.value&&(n=i(),r.value=!1),o(),n},set(y){p==null||p(y)}}));return Object.isExtensible(u)&&(u.trigger=a),u}function Zt(t){return $c()?(Tc(t),!0):!1}function hh(t){if(!De(t))return Pe(t);const s=new Proxy({},{get(n,o,l){return E(Reflect.get(t.value,o,l))},set(n,o,l){return De(t.value[o])&&!De(l)?t.value[o].value=l:t.value[o]=l,!0},deleteProperty(n,o){return Reflect.deleteProperty(t.value,o)},has(n,o){return Reflect.has(t.value,o)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return Pe(s)}function mh(t){return typeof t=="function"?k(t):K(t)}var gh=Object.defineProperty,vh=Object.defineProperties,Ah=Object.getOwnPropertyDescriptors,ei=Object.getOwnPropertySymbols,_h=Object.prototype.hasOwnProperty,wh=Object.prototype.propertyIsEnumerable,ti=(t,s,n)=>s in t?gh(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,Eh=(t,s)=>{for(var n in s||(s={}))_h.call(s,n)&&ti(t,n,s[n]);if(ei)for(var n of ei(s))wh.call(s,n)&&ti(t,n,s[n]);return t},bh=(t,s)=>vh(t,Ah(s));function Dh(t){if(!De(t))return Xd(t);const s=Array.isArray(t.value)?new Array(t.value.length):{};for(const n in t.value)s[n]=Kc(()=>({get(){return t.value[n]},set(o){if(Array.isArray(t.value)){const l=[...t.value];l[n]=o,t.value=l}else{const l=bh(Eh({},t.value),{[n]:o});Object.setPrototypeOf(l,t.value),t.value=l}}}));return s}function Bh(t,s=!0){us()?rp(t):s?t():Qe(t)}function $p(t,s=!0){us()?cn(t):s?t():Qe(t)}function Ch(t,s=1e3,n={}){const{immediate:o=!0,immediateCallback:l=!1}=n;let r=null;const a=K(!1);function i(){r&&(clearInterval(r),r=null)}function p(){a.value=!1,i()}function u(){E(s)<=0||(a.value=!0,l&&t(),i(),r=setInterval(t,ht(s)))}if(o&&Tt&&u(),De(s)){const d=ye(s,()=>{a.value&&Tt&&u()});Zt(d)}return Zt(p),{isActive:a,pause:p,resume:u}}function xh(t,s,n={}){const{immediate:o=!0}=n,l=K(!1);let r=null;function a(){r&&(clearTimeout(r),r=null)}function i(){l.value=!1,a()}function p(...u){a(),l.value=!0,r=setTimeout(()=>{l.value=!1,r=null,t(...u)},ht(s))}return o&&(l.value=!0,Tt&&p()),Zt(i),{isPending:l,start:p,stop:i}}function Tp(t=!1,s={}){const{truthyValue:n=!0,falsyValue:o=!1}=s,l=De(t),r=K(t);function a(i){if(arguments.length)return r.value=i,r.value;{const p=ht(n);return r.value=r.value===p?ht(o):p,r.value}}return l?a:[r,a]}var si=Object.getOwnPropertySymbols,kh=Object.prototype.hasOwnProperty,Sh=Object.prototype.propertyIsEnumerable,Oh=(t,s)=>{var n={};for(var o in t)kh.call(t,o)&&s.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&si)for(var o of si(t))s.indexOf(o)<0&&Sh.call(t,o)&&(n[o]=t[o]);return n};function Fh(t,s,n={}){const o=n,{eventFilter:l=Fp}=o,r=Oh(o,["eventFilter"]);return ye(t,ph(l,s),r)}var $h=Object.defineProperty,Th=Object.defineProperties,Ph=Object.getOwnPropertyDescriptors,So=Object.getOwnPropertySymbols,Pp=Object.prototype.hasOwnProperty,Mp=Object.prototype.propertyIsEnumerable,ni=(t,s,n)=>s in t?$h(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,Mh=(t,s)=>{for(var n in s||(s={}))Pp.call(s,n)&&ni(t,n,s[n]);if(So)for(var n of So(s))Mp.call(s,n)&&ni(t,n,s[n]);return t},Ih=(t,s)=>Th(t,Ph(s)),Rh=(t,s)=>{var n={};for(var o in t)Pp.call(t,o)&&s.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&So)for(var o of So(t))s.indexOf(o)<0&&Mp.call(t,o)&&(n[o]=t[o]);return n};function Lh(t,s,n={}){const o=n,{eventFilter:l}=o,r=Rh(o,["eventFilter"]),{eventFilter:a,pause:i,resume:p,isActive:u}=uh(l);return{stop:Fh(t,s,Ih(Mh({},r),{eventFilter:a})),pause:i,resume:p,isActive:u}}function kt(t){var s;const n=ht(t);return(s=n==null?void 0:n.$el)!=null?s:n}const Xe=Tt?window:void 0,qh=Tt?window.document:void 0,Nh=Tt?window.navigator:void 0;function de(...t){let s,n,o,l;if(Op(t[0])?([n,o,l]=t,s=Xe):[s,n,o,l]=t,!s)return Os;let r=Os;const a=ye(()=>kt(s),p=>{r(),p&&(p.addEventListener(n,o,l),r=()=>{p.removeEventListener(n,o,l),r=Os})},{immediate:!0,flush:"post"}),i=()=>{a(),r()};return Zt(i),i}function jh(t,s,n={}){const{window:o=Xe,ignore:l,capture:r=!0,detectIframe:a=!1}=n;if(!o)return;const i=K(!0);let p;const u=y=>{o.clearTimeout(p);const h=kt(t),m=y.composedPath();!h||h===y.target||m.includes(h)||!i.value||l&&l.length>0&&l.some(w=>{const A=kt(w);return A&&(y.target===A||m.includes(A))})||s(y)},d=[de(o,"click",u,{passive:!0,capture:r}),de(o,"pointerdown",y=>{const h=kt(t);i.value=!!h&&!y.composedPath().includes(h)},{passive:!0}),de(o,"pointerup",y=>{if(y.button===0){const h=y.composedPath();y.composedPath=()=>h,p=o.setTimeout(()=>u(y),50)}},{passive:!0}),a&&de(o,"blur",y=>{var h;const m=kt(t);((h=document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(m!=null&&m.contains(document.activeElement))&&s(y)})].filter(Boolean);return()=>d.forEach(y=>y())}const Hh=t=>typeof t=="function"?t:typeof t=="string"?s=>s.key===t:Array.isArray(t)?s=>t.includes(s.key):t?()=>!0:()=>!1;function Vh(t,s,n={}){const{target:o=Xe,eventName:l="keydown",passive:r=!1}=n,a=Hh(t);return de(o,l,p=>{a(p)&&s(p)},r)}function Uh(t={}){const{window:s=Xe}=t,n=yh(()=>null,()=>s==null?void 0:s.document.activeElement);return s&&(de(s,"blur",n.trigger,!0),de(s,"focus",n.trigger,!0)),n}function Jn(t,s=!1){const n=K(),o=()=>n.value=Boolean(t());return o(),$p(o,s),n}function Hs(t,s={}){const{window:n=Xe}=s,o=Jn(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let l;const r=K(!1),a=()=>{!o.value||(l||(l=n.matchMedia(t)),r.value=l.matches)};return Bh(()=>{a(),l&&("addEventListener"in l?l.addEventListener("change",a):l.addListener(a),Zt(()=>{"removeEventListener"in l?l.removeEventListener("change",a):l.removeListener(a)}))}),r}const Wh={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};var zh=Object.defineProperty,oi=Object.getOwnPropertySymbols,Kh=Object.prototype.hasOwnProperty,Yh=Object.prototype.propertyIsEnumerable,li=(t,s,n)=>s in t?zh(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,Zh=(t,s)=>{for(var n in s||(s={}))Kh.call(s,n)&&li(t,n,s[n]);if(oi)for(var n of oi(s))Yh.call(s,n)&&li(t,n,s[n]);return t};function Qh(t,s={}){function n(i,p){let u=t[i];return p!=null&&(u=fh(u,p)),typeof u=="number"&&(u=`${u}px`),u}const{window:o=Xe}=s;function l(i){return o?o.matchMedia(i).matches:!1}const r=i=>Hs(`(min-width: ${n(i)})`,s),a=Object.keys(t).reduce((i,p)=>(Object.defineProperty(i,p,{get:()=>r(p),enumerable:!0,configurable:!0}),i),{});return Zh({greater(i){return Hs(`(min-width: ${n(i,.1)})`,s)},greaterOrEqual:r,smaller(i){return Hs(`(max-width: ${n(i,-.1)})`,s)},smallerOrEqual(i){return Hs(`(max-width: ${n(i)})`,s)},between(i,p){return Hs(`(min-width: ${n(i)}) and (max-width: ${n(p,-.1)})`,s)},isGreater(i){return l(`(min-width: ${n(i,.1)})`)},isGreaterOrEqual(i){return l(`(min-width: ${n(i)})`)},isSmaller(i){return l(`(max-width: ${n(i,-.1)})`)},isSmallerOrEqual(i){return l(`(max-width: ${n(i)})`)},isInBetween(i,p){return l(`(min-width: ${n(i)}) and (max-width: ${n(p,-.1)})`)}},a)}function Gh(t={}){const{navigator:s=Nh,read:n=!1,source:o,copiedDuring:l=1500}=t,r=["copy","cut"],a=Jn(()=>s&&"clipboard"in s),i=K(""),p=K(!1),u=xh(()=>p.value=!1,l);function d(){s.clipboard.readText().then(y=>{i.value=y})}if(a.value&&n)for(const y of r)de(y,d);async function f(y=ht(o)){a.value&&y!=null&&(await s.clipboard.writeText(y),i.value=y,p.value=!0,u.start())}return{isSupported:a,text:i,copied:p,copy:f}}function Jh(t){return JSON.parse(JSON.stringify(t))}const Kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yl="__vueuse_ssr_handlers__";Kl[Yl]=Kl[Yl]||{};const Xh=Kl[Yl];function e9(t,s){return Xh[t]||s}function t9(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"||Array.isArray(t)?"object":Number.isNaN(t)?"any":"number"}var s9=Object.defineProperty,ri=Object.getOwnPropertySymbols,n9=Object.prototype.hasOwnProperty,o9=Object.prototype.propertyIsEnumerable,ai=(t,s,n)=>s in t?s9(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,ii=(t,s)=>{for(var n in s||(s={}))n9.call(s,n)&&ai(t,n,s[n]);if(ri)for(var n of ri(s))o9.call(s,n)&&ai(t,n,s[n]);return t};const l9={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}};function Mt(t,s,n,o={}){var l;const{flush:r="pre",deep:a=!0,listenToStorageChanges:i=!0,writeDefaults:p=!0,mergeDefaults:u=!1,shallow:d,window:f=Xe,eventFilter:y,onError:h=V=>{console.error(V)}}=o,m=(d?$t:K)(s);if(!n)try{n=e9("getDefaultStorage",()=>{var V;return(V=Xe)==null?void 0:V.localStorage})()}catch(V){h(V)}if(!n)return m;const w=ht(s),A=t9(w),C=(l=o.serializer)!=null?l:l9[A],{pause:B,resume:b}=Lh(m,()=>x(m.value),{flush:r,deep:a,eventFilter:y});return f&&i&&de(f,"storage",R),R(),m;function x(V){try{V==null?n.removeItem(t):n.setItem(t,C.write(V))}catch(ne){h(ne)}}function q(V){if(!(V&&V.key!==t)){B();try{const ne=V?V.newValue:n.getItem(t);if(ne==null)return p&&w!==null&&n.setItem(t,C.write(w)),w;if(!V&&u){const ie=C.read(ne);return ko(u)?u(ie,w):A==="object"&&!Array.isArray(ie)?ii(ii({},w),ie):ie}else return typeof ne!="string"?ne:C.read(ne)}catch(ne){h(ne)}finally{b()}}}function R(V){V&&V.key!==t||(m.value=q(V))}}function r9(t){return Hs("(prefers-color-scheme: dark)",t)}var a9=Object.defineProperty,i9=Object.defineProperties,c9=Object.getOwnPropertyDescriptors,ci=Object.getOwnPropertySymbols,p9=Object.prototype.hasOwnProperty,u9=Object.prototype.propertyIsEnumerable,pi=(t,s,n)=>s in t?a9(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,d9=(t,s)=>{for(var n in s||(s={}))p9.call(s,n)&&pi(t,n,s[n]);if(ci)for(var n of ci(s))u9.call(s,n)&&pi(t,n,s[n]);return t},f9=(t,s)=>i9(t,c9(s));function u4(t,s={}){var n,o,l;const r=(n=s.draggingElement)!=null?n:Xe,a=(o=s.handle)!=null?o:t,i=K((l=ht(s.initialValue))!=null?l:{x:0,y:0}),p=K(),u=m=>s.pointerTypes?s.pointerTypes.includes(m.pointerType):!0,d=m=>{ht(s.preventDefault)&&m.preventDefault(),ht(s.stopPropagation)&&m.stopPropagation()},f=m=>{var w;if(!u(m)||ht(s.exact)&&m.target!==ht(t))return;const A=ht(t).getBoundingClientRect(),C={x:m.pageX-A.left,y:m.pageY-A.top};((w=s.onStart)==null?void 0:w.call(s,C,m))!==!1&&(p.value=C,d(m))},y=m=>{var w;!u(m)||!p.value||(i.value={x:m.pageX-p.value.x,y:m.pageY-p.value.y},(w=s.onMove)==null||w.call(s,i.value,m),d(m))},h=m=>{var w;!u(m)||!p.value||(p.value=void 0,(w=s.onEnd)==null||w.call(s,i.value,m),d(m))};return Tt&&(de(a,"pointerdown",f,!0),de(r,"pointermove",y,!0),de(r,"pointerup",h,!0)),f9(d9({},Dh(i)),{position:i,isDragging:k(()=>!!p.value),style:k(()=>`left:${i.value.x}px;top:${i.value.y}px;`)})}var ui=Object.getOwnPropertySymbols,y9=Object.prototype.hasOwnProperty,h9=Object.prototype.propertyIsEnumerable,m9=(t,s)=>{var n={};for(var o in t)y9.call(t,o)&&s.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&ui)for(var o of ui(t))s.indexOf(o)<0&&h9.call(t,o)&&(n[o]=t[o]);return n};function g9(t,s,n={}){const o=n,{window:l=Xe}=o,r=m9(o,["window"]);let a;const i=Jn(()=>l&&"ResizeObserver"in l),p=()=>{a&&(a.disconnect(),a=void 0)},u=ye(()=>kt(t),f=>{p(),i.value&&l&&f&&(a=new ResizeObserver(s),a.observe(f,r))},{immediate:!0,flush:"post"}),d=()=>{p(),u()};return Zt(d),{isSupported:i,stop:d}}function v9(t,s={}){const{immediate:n=!0,window:o=Xe}=s,l=K(!1);let r=null;function a(){!l.value||!o||(t(),r=o.requestAnimationFrame(a))}function i(){!l.value&&o&&(l.value=!0,a())}function p(){l.value=!1,r!=null&&o&&(o.cancelAnimationFrame(r),r=null)}return n&&i(),Zt(p),{isActive:l,pause:p,resume:i}}function A9(t,s={width:0,height:0},n={}){const{box:o="content-box"}=n,l=K(s.width),r=K(s.height);return g9(t,([a])=>{const i=o==="border-box"?a.borderBoxSize:o==="content-box"?a.contentBoxSize:a.devicePixelContentBoxSize;i?(l.value=i.reduce((p,{inlineSize:u})=>p+u,0),r.value=i.reduce((p,{blockSize:u})=>p+u,0)):(l.value=a.contentRect.width,r.value=a.contentRect.height)},n),ye(()=>kt(t),a=>{l.value=a?s.width:0,r.value=a?s.height:0}),{width:l,height:r}}const di=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function _9(t,s={}){const{document:n=qh,autoExit:o=!1}=s,l=t||(n==null?void 0:n.querySelector("html")),r=K(!1);let a=di[0];const i=Jn(()=>{if(n){for(const w of di)if(w[1]in n)return a=w,!0}else return!1;return!1}),[p,u,d,,f]=a;async function y(){!i.value||(n!=null&&n[d]&&await n[u](),r.value=!1)}async function h(){if(!i.value)return;await y();const w=kt(l);w&&(await w[p](),r.value=!0)}async function m(){r.value?await y():await h()}return n&&de(n,f,()=>{r.value=!!(n!=null&&n[d])},!1),o&&Zt(y),{isSupported:i,isFullscreen:r,enter:h,exit:y,toggle:m}}function w9(t,s,n={}){const{root:o,rootMargin:l="0px",threshold:r=.1,window:a=Xe}=n,i=Jn(()=>a&&"IntersectionObserver"in a);let p=Os;const u=i.value?ye(()=>({el:kt(t),root:kt(o)}),({el:f,root:y})=>{if(p(),!f)return;const h=new IntersectionObserver(s,{root:y,rootMargin:l,threshold:r});h.observe(f),p=()=>{h.disconnect(),p=Os}},{immediate:!0,flush:"post"}):Os,d=()=>{p(),u()};return Zt(d),{isSupported:i,stop:d}}const E9={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function b9(t={}){const{reactive:s=!1,target:n=Xe,aliasMap:o=E9,passive:l=!0,onEventFired:r=Os}=t,a=Pe(new Set),i={toJSON(){return{}},current:a},p=s?Pe(i):i,u=new Set,d=new Set;function f(w,A){w in p&&(s?p[w]=A:p[w].value=A)}function y(){for(const w of d)f(w,!1)}function h(w,A){var C,B;const b=(C=w.key)==null?void 0:C.toLowerCase(),q=[(B=w.code)==null?void 0:B.toLowerCase(),b].filter(Boolean);b&&(A?a.add(b):a.delete(b));for(const R of q)d.add(R),f(R,A);b==="meta"&&!A?(u.forEach(R=>{a.delete(R),f(R,!1)}),u.clear()):typeof w.getModifierState=="function"&&w.getModifierState("Meta")&&A&&[...a,...q].forEach(R=>u.add(R))}de(n,"keydown",w=>(h(w,!0),r(w)),{passive:l}),de(n,"keyup",w=>(h(w,!1),r(w)),{passive:l}),de("blur",y,{passive:!0}),de("focus",y,{passive:!0});const m=new Proxy(p,{get(w,A,C){if(typeof A!="string")return Reflect.get(w,A,C);if(A=A.toLowerCase(),A in o&&(A=o[A]),!(A in p))if(/[+_-]/.test(A)){const b=A.split(/[+_-]/g).map(x=>x.trim());p[A]=k(()=>b.every(x=>E(m[x])))}else p[A]=K(!1);const B=Reflect.get(w,A,C);return s?E(B):B}});return m}function d4(t={}){const{type:s="page",touch:n=!0,resetOnTouchEnds:o=!1,initialValue:l={x:0,y:0},window:r=Xe,eventFilter:a}=t,i=K(l.x),p=K(l.y),u=K(null),d=w=>{s==="page"?(i.value=w.pageX,p.value=w.pageY):s==="client"&&(i.value=w.clientX,p.value=w.clientY),u.value="mouse"},f=()=>{i.value=l.x,p.value=l.y},y=w=>{if(w.touches.length>0){const A=w.touches[0];s==="page"?(i.value=A.pageX,p.value=A.pageY):s==="client"&&(i.value=A.clientX,p.value=A.clientY),u.value="touch"}},h=w=>a===void 0?d(w):a(()=>d(w),{}),m=w=>a===void 0?y(w):a(()=>y(w),{});return r&&(de(r,"mousemove",h,{passive:!0}),de(r,"dragover",h,{passive:!0}),n&&(de(r,"touchstart",m,{passive:!0}),de(r,"touchmove",m,{passive:!0}),o&&de(r,"touchend",f,{passive:!0}))),{x:i,y:p,sourceType:u}}var Kt;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(Kt||(Kt={}));function D9(t,s={}){const n=mh(t),{threshold:o=50,onSwipe:l,onSwipeEnd:r,onSwipeStart:a}=s,i=Pe({x:0,y:0}),p=(R,V)=>{i.x=R,i.y=V},u=Pe({x:0,y:0}),d=(R,V)=>{u.x=R,u.y=V},f=k(()=>i.x-u.x),y=k(()=>i.y-u.y),{max:h,abs:m}=Math,w=k(()=>h(m(f.value),m(y.value))>=o),A=K(!1),C=K(!1),B=k(()=>w.value?m(f.value)>m(y.value)?f.value>0?Kt.LEFT:Kt.RIGHT:y.value>0?Kt.UP:Kt.DOWN:Kt.NONE),b=R=>s.pointerTypes?s.pointerTypes.includes(R.pointerType):!0,x=[de(t,"pointerdown",R=>{var V,ne;if(!b(R))return;C.value=!0,(ne=(V=n.value)==null?void 0:V.style)==null||ne.setProperty("touch-action","none");const ie=R.target;ie==null||ie.setPointerCapture(R.pointerId);const{clientX:ge,clientY:Ae}=R;p(ge,Ae),d(ge,Ae),a==null||a(R)}),de(t,"pointermove",R=>{if(!b(R)||!C.value)return;const{clientX:V,clientY:ne}=R;d(V,ne),!A.value&&w.value&&(A.value=!0),A.value&&(l==null||l(R))}),de(t,"pointerup",R=>{var V,ne;!b(R)||(A.value&&(r==null||r(R,B.value)),C.value=!1,A.value=!1,(ne=(V=n.value)==null?void 0:V.style)==null||ne.setProperty("touch-action","initial"))})],q=()=>x.forEach(R=>R());return{isSwiping:Us(A),direction:Us(B),posStart:Us(i),posEnd:Us(u),distanceX:f,distanceY:y,stop:q}}var B9=Object.defineProperty,fi=Object.getOwnPropertySymbols,C9=Object.prototype.hasOwnProperty,x9=Object.prototype.propertyIsEnumerable,yi=(t,s,n)=>s in t?B9(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,k9=(t,s)=>{for(var n in s||(s={}))C9.call(s,n)&&yi(t,n,s[n]);if(fi)for(var n of fi(s))x9.call(s,n)&&yi(t,n,s[n]);return t};function f4(t={}){const{controls:s=!1,offset:n=0,immediate:o=!0,interval:l="requestAnimationFrame"}=t,r=K(zl()+n),a=()=>r.value=zl()+n,i=l==="requestAnimationFrame"?v9(a,{immediate:o}):Ch(a,l,{immediate:o});return s?k9({timestamp:r},i):r}var S9=Object.defineProperty,hi=Object.getOwnPropertySymbols,O9=Object.prototype.hasOwnProperty,F9=Object.prototype.propertyIsEnumerable,mi=(t,s,n)=>s in t?S9(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,$9=(t,s)=>{for(var n in s||(s={}))O9.call(s,n)&&mi(t,n,s[n]);if(hi)for(var n of hi(s))F9.call(s,n)&&mi(t,n,s[n]);return t};const T9={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};$9({linear:dh},T9);function Nt(t,s,n,o={}){var l,r,a;const{clone:i=!1,passive:p=!1,eventName:u,deep:d=!1,defaultValue:f}=o,y=us(),h=n||(y==null?void 0:y.emit)||((l=y==null?void 0:y.$emit)==null?void 0:l.bind(y))||((a=(r=y==null?void 0:y.proxy)==null?void 0:r.$emit)==null?void 0:a.bind(y==null?void 0:y.proxy));let m=u;s||(s="modelValue"),m=u||m||`update:${s.toString()}`;const w=C=>i?ko(i)?i(C):Jh(C):C,A=()=>ah(t[s])?w(t[s]):f;if(p){const C=A(),B=K(C);return ye(()=>t[s],b=>B.value=w(b)),ye(B,b=>{(b!==t[s]||d)&&h(m,b)},{deep:d}),B}else return k({get(){return A()},set(C){h(m,C)}})}function y4({window:t=Xe}={}){if(!t)return K(!1);const s=K(t.document.hasFocus());return de(t,"blur",()=>{s.value=!1}),de(t,"focus",()=>{s.value=!0}),s}function P9(t={}){const{window:s=Xe,initialWidth:n=1/0,initialHeight:o=1/0,listenOrientation:l=!0,includeScrollbar:r=!0}=t,a=K(n),i=K(o),p=()=>{s&&(r?(a.value=s.innerWidth,i.value=s.innerHeight):(a.value=s.document.documentElement.clientWidth,i.value=s.document.documentElement.clientHeight))};return p(),$p(p),de("resize",p,{passive:!0}),l&&de("orientationchange",p,{passive:!0}),{width:a,height:i}}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Vs=typeof window<"u";function M9(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Be=Object.assign;function dl(t,s){const n={};for(const o in s){const l=s[o];n[o]=Pt(l)?l.map(t):t(l)}return n}const kn=()=>{},Pt=Array.isArray,I9=/\/$/,R9=t=>t.replace(I9,"");function fl(t,s,n="/"){let o,l={},r="",a="";const i=s.indexOf("#");let p=s.indexOf("?");return i<p&&i>=0&&(p=-1),p>-1&&(o=s.slice(0,p),r=s.slice(p+1,i>-1?i:s.length),l=t(r)),i>-1&&(o=o||s.slice(0,i),a=s.slice(i,s.length)),o=j9(o!=null?o:s,n),{fullPath:o+(r&&"?")+r+a,path:o,query:l,hash:a}}function L9(t,s){const n=s.query?t(s.query):"";return s.path+(n&&"?")+n+(s.hash||"")}function gi(t,s){return!s||!t.toLowerCase().startsWith(s.toLowerCase())?t:t.slice(s.length)||"/"}function q9(t,s,n){const o=s.matched.length-1,l=n.matched.length-1;return o>-1&&o===l&&nn(s.matched[o],n.matched[l])&&Ip(s.params,n.params)&&t(s.query)===t(n.query)&&s.hash===n.hash}function nn(t,s){return(t.aliasOf||t)===(s.aliasOf||s)}function Ip(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(!N9(t[n],s[n]))return!1;return!0}function N9(t,s){return Pt(t)?vi(t,s):Pt(s)?vi(s,t):t===s}function vi(t,s){return Pt(s)?t.length===s.length&&t.every((n,o)=>n===s[o]):t.length===1&&t[0]===s}function j9(t,s){if(t.startsWith("/"))return t;if(!t)return s;const n=s.split("/"),o=t.split("/");let l=n.length-1,r,a;for(r=0;r<o.length;r++)if(a=o[r],a!==".")if(a==="..")l>1&&l--;else break;return n.slice(0,l).join("/")+"/"+o.slice(r-(r===o.length?1:0)).join("/")}var Hn;(function(t){t.pop="pop",t.push="push"})(Hn||(Hn={}));var Sn;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Sn||(Sn={}));function H9(t){if(!t)if(Vs){const s=document.querySelector("base");t=s&&s.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),R9(t)}const V9=/^[^#]+#/;function U9(t,s){return t.replace(V9,"#")+s}function W9(t,s){const n=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:s.behavior,left:o.left-n.left-(s.left||0),top:o.top-n.top-(s.top||0)}}const Jo=()=>({left:window.pageXOffset,top:window.pageYOffset});function z9(t){let s;if("el"in t){const n=t.el,o=typeof n=="string"&&n.startsWith("#"),l=typeof n=="string"?o?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!l)return;s=W9(l,t)}else s=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(s):window.scrollTo(s.left!=null?s.left:window.pageXOffset,s.top!=null?s.top:window.pageYOffset)}function Ai(t,s){return(history.state?history.state.position-s:-1)+t}const Zl=new Map;function K9(t,s){Zl.set(t,s)}function Y9(t){const s=Zl.get(t);return Zl.delete(t),s}let Z9=()=>location.protocol+"//"+location.host;function Rp(t,s){const{pathname:n,search:o,hash:l}=s,r=t.indexOf("#");if(r>-1){let i=l.includes(t.slice(r))?t.slice(r).length:1,p=l.slice(i);return p[0]!=="/"&&(p="/"+p),gi(p,"")}return gi(n,t)+o+l}function Q9(t,s,n,o){let l=[],r=[],a=null;const i=({state:y})=>{const h=Rp(t,location),m=n.value,w=s.value;let A=0;if(y){if(n.value=h,s.value=y,a&&a===m){a=null;return}A=w?y.position-w.position:0}else o(h);l.forEach(C=>{C(n.value,m,{delta:A,type:Hn.pop,direction:A?A>0?Sn.forward:Sn.back:Sn.unknown})})};function p(){a=n.value}function u(y){l.push(y);const h=()=>{const m=l.indexOf(y);m>-1&&l.splice(m,1)};return r.push(h),h}function d(){const{history:y}=window;!y.state||y.replaceState(Be({},y.state,{scroll:Jo()}),"")}function f(){for(const y of r)y();r=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",d),{pauseListeners:p,listen:u,destroy:f}}function _i(t,s,n,o=!1,l=!1){return{back:t,current:s,forward:n,replaced:o,position:window.history.length,scroll:l?Jo():null}}function G9(t){const{history:s,location:n}=window,o={value:Rp(t,n)},l={value:s.state};l.value||r(o.value,{back:null,current:o.value,forward:null,position:s.length-1,replaced:!0,scroll:null},!0);function r(p,u,d){const f=t.indexOf("#"),y=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+p:Z9()+t+p;try{s[d?"replaceState":"pushState"](u,"",y),l.value=u}catch(h){console.error(h),n[d?"replace":"assign"](y)}}function a(p,u){const d=Be({},s.state,_i(l.value.back,p,l.value.forward,!0),u,{position:l.value.position});r(p,d,!0),o.value=p}function i(p,u){const d=Be({},l.value,s.state,{forward:p,scroll:Jo()});r(d.current,d,!0);const f=Be({},_i(o.value,p,null),{position:d.position+1},u);r(p,f,!1),o.value=p}return{location:o,state:l,push:i,replace:a}}function J9(t){t=H9(t);const s=G9(t),n=Q9(t,s.state,s.location,s.replace);function o(r,a=!0){a||n.pauseListeners(),history.go(r)}const l=Be({location:"",base:t,go:o,createHref:U9.bind(null,t)},s,n);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>s.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>s.state.value}),l}function X9(t){return typeof t=="string"||t&&typeof t=="object"}function Lp(t){return typeof t=="string"||typeof t=="symbol"}const Xt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},qp=Symbol("");var wi;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(wi||(wi={}));function on(t,s){return Be(new Error,{type:t,[qp]:!0},s)}function Vt(t,s){return t instanceof Error&&qp in t&&(s==null||!!(t.type&s))}const Ei="[^/]+?",e6={sensitive:!1,strict:!1,start:!0,end:!0},t6=/[.+*?^${}()[\]/\\]/g;function s6(t,s){const n=Be({},e6,s),o=[];let l=n.start?"^":"";const r=[];for(const u of t){const d=u.length?[]:[90];n.strict&&!u.length&&(l+="/");for(let f=0;f<u.length;f++){const y=u[f];let h=40+(n.sensitive?.25:0);if(y.type===0)f||(l+="/"),l+=y.value.replace(t6,"\\$&"),h+=40;else if(y.type===1){const{value:m,repeatable:w,optional:A,regexp:C}=y;r.push({name:m,repeatable:w,optional:A});const B=C||Ei;if(B!==Ei){h+=10;try{new RegExp(`(${B})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${m}" (${B}): `+x.message)}}let b=w?`((?:${B})(?:/(?:${B}))*)`:`(${B})`;f||(b=A&&u.length<2?`(?:/${b})`:"/"+b),A&&(b+="?"),l+=b,h+=20,A&&(h+=-8),w&&(h+=-20),B===".*"&&(h+=-50)}d.push(h)}o.push(d)}if(n.strict&&n.end){const u=o.length-1;o[u][o[u].length-1]+=.7000000000000001}n.strict||(l+="/?"),n.end?l+="$":n.strict&&(l+="(?:/|$)");const a=new RegExp(l,n.sensitive?"":"i");function i(u){const d=u.match(a),f={};if(!d)return null;for(let y=1;y<d.length;y++){const h=d[y]||"",m=r[y-1];f[m.name]=h&&m.repeatable?h.split("/"):h}return f}function p(u){let d="",f=!1;for(const y of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const h of y)if(h.type===0)d+=h.value;else if(h.type===1){const{value:m,repeatable:w,optional:A}=h,C=m in u?u[m]:"";if(Pt(C)&&!w)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const B=Pt(C)?C.join("/"):C;if(!B)if(A)y.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);d+=B}}return d||"/"}return{re:a,score:o,keys:r,parse:i,stringify:p}}function n6(t,s){let n=0;for(;n<t.length&&n<s.length;){const o=s[n]-t[n];if(o)return o;n++}return t.length<s.length?t.length===1&&t[0]===40+40?-1:1:t.length>s.length?s.length===1&&s[0]===40+40?1:-1:0}function o6(t,s){let n=0;const o=t.score,l=s.score;for(;n<o.length&&n<l.length;){const r=n6(o[n],l[n]);if(r)return r;n++}if(Math.abs(l.length-o.length)===1){if(bi(o))return 1;if(bi(l))return-1}return l.length-o.length}function bi(t){const s=t[t.length-1];return t.length>0&&s[s.length-1]<0}const l6={type:0,value:""},r6=/[a-zA-Z0-9_]/;function a6(t){if(!t)return[[]];if(t==="/")return[[l6]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function s(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,o=n;const l=[];let r;function a(){r&&l.push(r),r=[]}let i=0,p,u="",d="";function f(){!u||(n===0?r.push({type:0,value:u}):n===1||n===2||n===3?(r.length>1&&(p==="*"||p==="+")&&s(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:d,repeatable:p==="*"||p==="+",optional:p==="*"||p==="?"})):s("Invalid state to consume buffer"),u="")}function y(){u+=p}for(;i<t.length;){if(p=t[i++],p==="\\"&&n!==2){o=n,n=4;continue}switch(n){case 0:p==="/"?(u&&f(),a()):p===":"?(f(),n=1):y();break;case 4:y(),n=o;break;case 1:p==="("?n=2:r6.test(p)?y():(f(),n=0,p!=="*"&&p!=="?"&&p!=="+"&&i--);break;case 2:p===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+p:n=3:d+=p;break;case 3:f(),n=0,p!=="*"&&p!=="?"&&p!=="+"&&i--,d="";break;default:s("Unknown state");break}}return n===2&&s(`Unfinished custom RegExp for param "${u}"`),f(),a(),l}function i6(t,s,n){const o=s6(a6(t.path),n),l=Be(o,{record:t,parent:s,children:[],alias:[]});return s&&!l.record.aliasOf==!s.record.aliasOf&&s.children.push(l),l}function c6(t,s){const n=[],o=new Map;s=Ci({strict:!1,end:!0,sensitive:!1},s);function l(d){return o.get(d)}function r(d,f,y){const h=!y,m=p6(d);m.aliasOf=y&&y.record;const w=Ci(s,d),A=[m];if("alias"in d){const b=typeof d.alias=="string"?[d.alias]:d.alias;for(const x of b)A.push(Be({},m,{components:y?y.record.components:m.components,path:x,aliasOf:y?y.record:m}))}let C,B;for(const b of A){const{path:x}=b;if(f&&x[0]!=="/"){const q=f.record.path,R=q[q.length-1]==="/"?"":"/";b.path=f.record.path+(x&&R+x)}if(C=i6(b,f,w),y?y.alias.push(C):(B=B||C,B!==C&&B.alias.push(C),h&&d.name&&!Bi(C)&&a(d.name)),m.children){const q=m.children;for(let R=0;R<q.length;R++)r(q[R],C,y&&y.children[R])}y=y||C,p(C)}return B?()=>{a(B)}:kn}function a(d){if(Lp(d)){const f=o.get(d);f&&(o.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&o.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function i(){return n}function p(d){let f=0;for(;f<n.length&&o6(d,n[f])>=0&&(d.record.path!==n[f].record.path||!Np(d,n[f]));)f++;n.splice(f,0,d),d.record.name&&!Bi(d)&&o.set(d.record.name,d)}function u(d,f){let y,h={},m,w;if("name"in d&&d.name){if(y=o.get(d.name),!y)throw on(1,{location:d});w=y.record.name,h=Be(Di(f.params,y.keys.filter(B=>!B.optional).map(B=>B.name)),d.params&&Di(d.params,y.keys.map(B=>B.name))),m=y.stringify(h)}else if("path"in d)m=d.path,y=n.find(B=>B.re.test(m)),y&&(h=y.parse(m),w=y.record.name);else{if(y=f.name?o.get(f.name):n.find(B=>B.re.test(f.path)),!y)throw on(1,{location:d,currentLocation:f});w=y.record.name,h=Be({},f.params,d.params),m=y.stringify(h)}const A=[];let C=y;for(;C;)A.unshift(C.record),C=C.parent;return{name:w,path:m,params:h,matched:A,meta:d6(A)}}return t.forEach(d=>r(d)),{addRoute:r,resolve:u,removeRoute:a,getRoutes:i,getRecordMatcher:l}}function Di(t,s){const n={};for(const o of s)o in t&&(n[o]=t[o]);return n}function p6(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:u6(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function u6(t){const s={},n=t.props||!1;if("component"in t)s.default=n;else for(const o in t.components)s[o]=typeof n=="boolean"?n:n[o];return s}function Bi(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function d6(t){return t.reduce((s,n)=>Be(s,n.meta),{})}function Ci(t,s){const n={};for(const o in t)n[o]=o in s?s[o]:t[o];return n}function Np(t,s){return s.children.some(n=>n===t||Np(t,n))}const jp=/#/g,f6=/&/g,y6=/\//g,h6=/=/g,m6=/\?/g,Hp=/\+/g,g6=/%5B/g,v6=/%5D/g,Vp=/%5E/g,A6=/%60/g,Up=/%7B/g,_6=/%7C/g,Wp=/%7D/g,w6=/%20/g;function jr(t){return encodeURI(""+t).replace(_6,"|").replace(g6,"[").replace(v6,"]")}function E6(t){return jr(t).replace(Up,"{").replace(Wp,"}").replace(Vp,"^")}function Ql(t){return jr(t).replace(Hp,"%2B").replace(w6,"+").replace(jp,"%23").replace(f6,"%26").replace(A6,"`").replace(Up,"{").replace(Wp,"}").replace(Vp,"^")}function b6(t){return Ql(t).replace(h6,"%3D")}function D6(t){return jr(t).replace(jp,"%23").replace(m6,"%3F")}function B6(t){return t==null?"":D6(t).replace(y6,"%2F")}function Oo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function C6(t){const s={};if(t===""||t==="?")return s;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let l=0;l<o.length;++l){const r=o[l].replace(Hp," "),a=r.indexOf("="),i=Oo(a<0?r:r.slice(0,a)),p=a<0?null:Oo(r.slice(a+1));if(i in s){let u=s[i];Pt(u)||(u=s[i]=[u]),u.push(p)}else s[i]=p}return s}function xi(t){let s="";for(let n in t){const o=t[n];if(n=b6(n),o==null){o!==void 0&&(s+=(s.length?"&":"")+n);continue}(Pt(o)?o.map(r=>r&&Ql(r)):[o&&Ql(o)]).forEach(r=>{r!==void 0&&(s+=(s.length?"&":"")+n,r!=null&&(s+="="+r))})}return s}function x6(t){const s={};for(const n in t){const o=t[n];o!==void 0&&(s[n]=Pt(o)?o.map(l=>l==null?null:""+l):o==null?o:""+o)}return s}const k6=Symbol(""),ki=Symbol(""),Hr=Symbol(""),zp=Symbol(""),Gl=Symbol("");function gn(){let t=[];function s(o){return t.push(o),()=>{const l=t.indexOf(o);l>-1&&t.splice(l,1)}}function n(){t=[]}return{add:s,list:()=>t,reset:n}}function ts(t,s,n,o,l){const r=o&&(o.enterCallbacks[l]=o.enterCallbacks[l]||[]);return()=>new Promise((a,i)=>{const p=f=>{f===!1?i(on(4,{from:n,to:s})):f instanceof Error?i(f):X9(f)?i(on(2,{from:s,to:f})):(r&&o.enterCallbacks[l]===r&&typeof f=="function"&&r.push(f),a())},u=t.call(o&&o.instances[l],s,n,p);let d=Promise.resolve(u);t.length<3&&(d=d.then(p)),d.catch(f=>i(f))})}function yl(t,s,n,o){const l=[];for(const r of t)for(const a in r.components){let i=r.components[a];if(!(s!=="beforeRouteEnter"&&!r.instances[a]))if(S6(i)){const u=(i.__vccOpts||i)[s];u&&l.push(ts(u,n,o,r,a))}else{let p=i();l.push(()=>p.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${r.path}"`));const d=M9(u)?u.default:u;r.components[a]=d;const y=(d.__vccOpts||d)[s];return y&&ts(y,n,o,r,a)()}))}}return l}function S6(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Si(t){const s=S(Hr),n=S(zp),o=k(()=>s.resolve(E(t.to))),l=k(()=>{const{matched:p}=o.value,{length:u}=p,d=p[u-1],f=n.matched;if(!d||!f.length)return-1;const y=f.findIndex(nn.bind(null,d));if(y>-1)return y;const h=Oi(p[u-2]);return u>1&&Oi(d)===h&&f[f.length-1].path!==h?f.findIndex(nn.bind(null,p[u-2])):y}),r=k(()=>l.value>-1&&T6(n.params,o.value.params)),a=k(()=>l.value>-1&&l.value===n.matched.length-1&&Ip(n.params,o.value.params));function i(p={}){return $6(p)?s[E(t.replace)?"replace":"push"](E(t.to)).catch(kn):Promise.resolve()}return{route:o,href:k(()=>o.value.href),isActive:r,isExactActive:a,navigate:i}}const O6=ke({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Si,setup(t,{slots:s}){const n=Pe(Si(t)),{options:o}=S(Hr),l=k(()=>({[Fi(t.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Fi(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=s.default&&s.default(n);return t.custom?r:mt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:l.value},r)}}}),F6=O6;function $6(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const s=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(s))return}return t.preventDefault&&t.preventDefault(),!0}}function T6(t,s){for(const n in s){const o=s[n],l=t[n];if(typeof o=="string"){if(o!==l)return!1}else if(!Pt(l)||l.length!==o.length||o.some((r,a)=>r!==l[a]))return!1}return!0}function Oi(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Fi=(t,s,n)=>t!=null?t:s!=null?s:n,P6=ke({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:s,slots:n}){const o=S(Gl),l=k(()=>t.route||o.value),r=S(ki,0),a=k(()=>{let u=E(r);const{matched:d}=l.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),i=k(()=>l.value.matched[a.value]);yt(ki,k(()=>a.value+1)),yt(k6,i),yt(Gl,l);const p=K();return ye(()=>[p.value,i.value,t.name],([u,d,f],[y,h,m])=>{d&&(d.instances[f]=u,h&&h!==d&&u&&u===y&&(d.leaveGuards.size||(d.leaveGuards=h.leaveGuards),d.updateGuards.size||(d.updateGuards=h.updateGuards))),u&&d&&(!h||!nn(d,h)||!y)&&(d.enterCallbacks[f]||[]).forEach(w=>w(u))},{flush:"post"}),()=>{const u=l.value,d=t.name,f=i.value,y=f&&f.components[d];if(!y)return $i(n.default,{Component:y,route:u});const h=f.props[d],m=h?h===!0?u.params:typeof h=="function"?h(u):h:null,A=mt(y,Be({},m,s,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(f.instances[d]=null)},ref:p}));return $i(n.default,{Component:A,route:u})||A}}});function $i(t,s){if(!t)return null;const n=t(s);return n.length===1?n[0]:n}const M6=P6;function I6(t){const s=c6(t.routes,t),n=t.parseQuery||C6,o=t.stringifyQuery||xi,l=t.history,r=gn(),a=gn(),i=gn(),p=$t(Xt);let u=Xt;Vs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=dl.bind(null,O=>""+O),f=dl.bind(null,B6),y=dl.bind(null,Oo);function h(O,G){let j,ee;return Lp(O)?(j=s.getRecordMatcher(O),ee=G):ee=O,s.addRoute(ee,j)}function m(O){const G=s.getRecordMatcher(O);G&&s.removeRoute(G)}function w(){return s.getRoutes().map(O=>O.record)}function A(O){return!!s.getRecordMatcher(O)}function C(O,G){if(G=Be({},G||p.value),typeof O=="string"){const oe=fl(n,O,G.path),g=s.resolve({path:oe.path},G),v=l.createHref(oe.fullPath);return Be(oe,g,{params:y(g.params),hash:Oo(oe.hash),redirectedFrom:void 0,href:v})}let j;if("path"in O)j=Be({},O,{path:fl(n,O.path,G.path).path});else{const oe=Be({},O.params);for(const g in oe)oe[g]==null&&delete oe[g];j=Be({},O,{params:f(O.params)}),G.params=f(G.params)}const ee=s.resolve(j,G),we=O.hash||"";ee.params=d(y(ee.params));const me=L9(o,Be({},O,{hash:E6(we),path:ee.path})),ce=l.createHref(me);return Be({fullPath:me,hash:we,query:o===xi?x6(O.query):O.query||{}},ee,{redirectedFrom:void 0,href:ce})}function B(O){return typeof O=="string"?fl(n,O,p.value.path):Be({},O)}function b(O,G){if(u!==O)return on(8,{from:G,to:O})}function x(O){return V(O)}function q(O){return x(Be(B(O),{replace:!0}))}function R(O){const G=O.matched[O.matched.length-1];if(G&&G.redirect){const{redirect:j}=G;let ee=typeof j=="function"?j(O):j;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=B(ee):{path:ee},ee.params={}),Be({query:O.query,hash:O.hash,params:"path"in ee?{}:O.params},ee)}}function V(O,G){const j=u=C(O),ee=p.value,we=O.state,me=O.force,ce=O.replace===!0,oe=R(j);if(oe)return V(Be(B(oe),{state:typeof oe=="object"?Be({},we,oe.state):we,force:me,replace:ce}),G||j);const g=j;g.redirectedFrom=G;let v;return!me&&q9(o,ee,j)&&(v=on(16,{to:g,from:ee}),xe(ee,ee,!0,!1)),(v?Promise.resolve(v):ie(g,ee)).catch(D=>Vt(D)?Vt(D,2)?D:fe(D):J(D,g,ee)).then(D=>{if(D){if(Vt(D,2))return V(Be({replace:ce},B(D.to),{state:typeof D.to=="object"?Be({},we,D.to.state):we,force:me}),G||g)}else D=Ae(g,ee,!0,ce,we);return ge(g,ee,D),D})}function ne(O,G){const j=b(O,G);return j?Promise.reject(j):Promise.resolve()}function ie(O,G){let j;const[ee,we,me]=R6(O,G);j=yl(ee.reverse(),"beforeRouteLeave",O,G);for(const oe of ee)oe.leaveGuards.forEach(g=>{j.push(ts(g,O,G))});const ce=ne.bind(null,O,G);return j.push(ce),Ls(j).then(()=>{j=[];for(const oe of r.list())j.push(ts(oe,O,G));return j.push(ce),Ls(j)}).then(()=>{j=yl(we,"beforeRouteUpdate",O,G);for(const oe of we)oe.updateGuards.forEach(g=>{j.push(ts(g,O,G))});return j.push(ce),Ls(j)}).then(()=>{j=[];for(const oe of O.matched)if(oe.beforeEnter&&!G.matched.includes(oe))if(Pt(oe.beforeEnter))for(const g of oe.beforeEnter)j.push(ts(g,O,G));else j.push(ts(oe.beforeEnter,O,G));return j.push(ce),Ls(j)}).then(()=>(O.matched.forEach(oe=>oe.enterCallbacks={}),j=yl(me,"beforeRouteEnter",O,G),j.push(ce),Ls(j))).then(()=>{j=[];for(const oe of a.list())j.push(ts(oe,O,G));return j.push(ce),Ls(j)}).catch(oe=>Vt(oe,8)?oe:Promise.reject(oe))}function ge(O,G,j){for(const ee of i.list())ee(O,G,j)}function Ae(O,G,j,ee,we){const me=b(O,G);if(me)return me;const ce=G===Xt,oe=Vs?history.state:{};j&&(ee||ce?l.replace(O.fullPath,Be({scroll:ce&&oe&&oe.scroll},we)):l.push(O.fullPath,we)),p.value=O,xe(O,G,j,ce),fe()}let je;function He(){je||(je=l.listen((O,G,j)=>{if(!ds.listening)return;const ee=C(O),we=R(ee);if(we){V(Be(we,{replace:!0}),ee).catch(kn);return}u=ee;const me=p.value;Vs&&K9(Ai(me.fullPath,j.delta),Jo()),ie(ee,me).catch(ce=>Vt(ce,12)?ce:Vt(ce,2)?(V(ce.to,ee).then(oe=>{Vt(oe,20)&&!j.delta&&j.type===Hn.pop&&l.go(-1,!1)}).catch(kn),Promise.reject()):(j.delta&&l.go(-j.delta,!1),J(ce,ee,me))).then(ce=>{ce=ce||Ae(ee,me,!1),ce&&(j.delta&&!Vt(ce,8)?l.go(-j.delta,!1):j.type===Hn.pop&&Vt(ce,20)&&l.go(-1,!1)),ge(ee,me,ce)}).catch(kn)}))}let Re=gn(),$e=gn(),Me;function J(O,G,j){fe(O);const ee=$e.list();return ee.length?ee.forEach(we=>we(O,G,j)):console.error(O),Promise.reject(O)}function le(){return Me&&p.value!==Xt?Promise.resolve():new Promise((O,G)=>{Re.add([O,G])})}function fe(O){return Me||(Me=!O,He(),Re.list().forEach(([G,j])=>O?j(O):G()),Re.reset()),O}function xe(O,G,j,ee){const{scrollBehavior:we}=t;if(!Vs||!we)return Promise.resolve();const me=!j&&Y9(Ai(O.fullPath,0))||(ee||!j)&&history.state&&history.state.scroll||null;return Qe().then(()=>we(O,G,me)).then(ce=>ce&&z9(ce)).catch(ce=>J(ce,O,G))}const it=O=>l.go(O);let Ye;const rt=new Set,ds={currentRoute:p,listening:!0,addRoute:h,removeRoute:m,hasRoute:A,getRoutes:w,resolve:C,options:t,push:x,replace:q,go:it,back:()=>it(-1),forward:()=>it(1),beforeEach:r.add,beforeResolve:a.add,afterEach:i.add,onError:$e.add,isReady:le,install(O){const G=this;O.component("RouterLink",F6),O.component("RouterView",M6),O.config.globalProperties.$router=G,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>E(p)}),Vs&&!Ye&&p.value===Xt&&(Ye=!0,x(l.location).catch(we=>{}));const j={};for(const we in Xt)j[we]=k(()=>p.value[we]);O.provide(Hr,G),O.provide(zp,Pe(j)),O.provide(Gl,p);const ee=O.unmount;rt.add(O),O.unmount=function(){rt.delete(O),rt.size<1&&(u=Xt,je&&je(),je=null,p.value=Xt,Ye=!1,Me=!1),ee()}}};return ds}function Ls(t){return t.reduce((s,n)=>s.then(()=>n()),Promise.resolve())}function R6(t,s){const n=[],o=[],l=[],r=Math.max(s.matched.length,t.matched.length);for(let a=0;a<r;a++){const i=s.matched[a];i&&(t.matched.find(u=>nn(u,i))?o.push(i):n.push(i));const p=t.matched[a];p&&(s.matched.find(u=>nn(u,p))||l.push(p))}return[n,o,l]}const hl=K(!1),On=K(!1),Ws=K(!1),L6=K(!0),Jl=Qh({xs:460,...Wh}),Fs=P9(),Kp=b9(),q6=k(()=>Fs.height.value-Fs.width.value/ls>180),Yp=_9(Tt?document.body:null),Js=Uh(),N6=k(()=>{var t,s;return["INPUT","TEXTAREA"].includes(((t=Js.value)==null?void 0:t.tagName)||"")||((s=Js.value)==null?void 0:s.classList.contains("CodeMirror-code"))}),j6=k(()=>{var t;return["BUTTON","A"].includes(((t=Js.value)==null?void 0:t.tagName)||"")});Mt("slidev-camera","default");Mt("slidev-mic","default");const mo=Mt("slidev-scale",0),st=Mt("slidev-show-overview",!1),ml=Mt("slidev-presenter-cursor",!0),Ti=Mt("slidev-show-editor",!1);Mt("slidev-editor-width",Tt?window.innerWidth*.4:100);const Zp=Tp(st);function Pi(t,s,n,o=l=>l){return t*o(.5-s*(.5-n))}function H6(t){return[-t[0],-t[1]]}function Bt(t,s){return[t[0]+s[0],t[1]+s[1]]}function wt(t,s){return[t[0]-s[0],t[1]-s[1]]}function Dt(t,s){return[t[0]*s,t[1]*s]}function V6(t,s){return[t[0]/s,t[1]/s]}function vn(t){return[t[1],-t[0]]}function Mi(t,s){return t[0]*s[0]+t[1]*s[1]}function U6(t,s){return t[0]===s[0]&&t[1]===s[1]}function W6(t){return Math.hypot(t[0],t[1])}function z6(t){return t[0]*t[0]+t[1]*t[1]}function Ii(t,s){return z6(wt(t,s))}function Qp(t){return V6(t,W6(t))}function K6(t,s){return Math.hypot(t[1]-s[1],t[0]-s[0])}function An(t,s,n){let o=Math.sin(n),l=Math.cos(n),r=t[0]-s[0],a=t[1]-s[1],i=r*l-a*o,p=r*o+a*l;return[i+s[0],p+s[1]]}function Xl(t,s,n){return Bt(t,Dt(wt(s,t),n))}function Ri(t,s,n){return Bt(t,Dt(s,n))}var{min:qs,PI:Y6}=Math,Li=.275,_n=Y6+1e-4;function Z6(t,s={}){let{size:n=16,smoothing:o=.5,thinning:l=.5,simulatePressure:r=!0,easing:a=J=>J,start:i={},end:p={},last:u=!1}=s,{cap:d=!0,easing:f=J=>J*(2-J)}=i,{cap:y=!0,easing:h=J=>--J*J*J+1}=p;if(t.length===0||n<=0)return[];let m=t[t.length-1].runningLength,w=i.taper===!1?0:i.taper===!0?Math.max(n,m):i.taper,A=p.taper===!1?0:p.taper===!0?Math.max(n,m):p.taper,C=Math.pow(n*o,2),B=[],b=[],x=t.slice(0,10).reduce((J,le)=>{let fe=le.pressure;if(r){let xe=qs(1,le.distance/n),it=qs(1,1-xe);fe=qs(1,J+(it-J)*(xe*Li))}return(J+fe)/2},t[0].pressure),q=Pi(n,l,t[t.length-1].pressure,a),R,V=t[0].vector,ne=t[0].point,ie=ne,ge=ne,Ae=ie,je=!1;for(let J=0;J<t.length;J++){let{pressure:le}=t[J],{point:fe,vector:xe,distance:it,runningLength:Ye}=t[J];if(J<t.length-1&&m-Ye<3)continue;if(l){if(r){let me=qs(1,it/n),ce=qs(1,1-me);le=qs(1,x+(ce-x)*(me*Li))}q=Pi(n,l,le,a)}else q=n/2;R===void 0&&(R=q);let rt=Ye<w?f(Ye/w):1,ds=m-Ye<A?h((m-Ye)/A):1;q=Math.max(.01,q*Math.min(rt,ds));let O=(J<t.length-1?t[J+1]:t[J]).vector,G=J<t.length-1?Mi(xe,O):1,j=Mi(xe,V)<0&&!je,ee=G!==null&&G<0;if(j||ee){let me=Dt(vn(V),q);for(let ce=1/13,oe=0;oe<=1;oe+=ce)ge=An(wt(fe,me),fe,_n*oe),B.push(ge),Ae=An(Bt(fe,me),fe,_n*-oe),b.push(Ae);ne=ge,ie=Ae,ee&&(je=!0);continue}if(je=!1,J===t.length-1){let me=Dt(vn(xe),q);B.push(wt(fe,me)),b.push(Bt(fe,me));continue}let we=Dt(vn(Xl(O,xe,G)),q);ge=wt(fe,we),(J<=1||Ii(ne,ge)>C)&&(B.push(ge),ne=ge),Ae=Bt(fe,we),(J<=1||Ii(ie,Ae)>C)&&(b.push(Ae),ie=Ae),x=le,V=xe}let He=t[0].point.slice(0,2),Re=t.length>1?t[t.length-1].point.slice(0,2):Bt(t[0].point,[1,1]),$e=[],Me=[];if(t.length===1){if(!(w||A)||u){let J=Ri(He,Qp(vn(wt(He,Re))),-(R||q)),le=[];for(let fe=1/13,xe=fe;xe<=1;xe+=fe)le.push(An(J,He,_n*2*xe));return le}}else{if(!(w||A&&t.length===1))if(d)for(let le=1/13,fe=le;fe<=1;fe+=le){let xe=An(b[0],He,_n*fe);$e.push(xe)}else{let le=wt(B[0],b[0]),fe=Dt(le,.5),xe=Dt(le,.51);$e.push(wt(He,fe),wt(He,xe),Bt(He,xe),Bt(He,fe))}let J=vn(H6(t[t.length-1].vector));if(A||w&&t.length===1)Me.push(Re);else if(y){let le=Ri(Re,J,q);for(let fe=1/29,xe=fe;xe<1;xe+=fe)Me.push(An(le,Re,_n*3*xe))}else Me.push(Bt(Re,Dt(J,q)),Bt(Re,Dt(J,q*.99)),wt(Re,Dt(J,q*.99)),wt(Re,Dt(J,q)))}return B.concat(Me,b.reverse(),$e)}function Q6(t,s={}){var n;let{streamline:o=.5,size:l=16,last:r=!1}=s;if(t.length===0)return[];let a=.15+(1-o)*.85,i=Array.isArray(t[0])?t:t.map(({x:h,y:m,pressure:w=.5})=>[h,m,w]);if(i.length===2){let h=i[1];i=i.slice(0,-1);for(let m=1;m<5;m++)i.push(Xl(i[0],h,m/4))}i.length===1&&(i=[...i,[...Bt(i[0],[1,1]),...i[0].slice(2)]]);let p=[{point:[i[0][0],i[0][1]],pressure:i[0][2]>=0?i[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],u=!1,d=0,f=p[0],y=i.length-1;for(let h=1;h<i.length;h++){let m=r&&h===y?i[h].slice(0,2):Xl(f.point,i[h],a);if(U6(f.point,m))continue;let w=K6(m,f.point);if(d+=w,h<y&&!u){if(d<l)continue;u=!0}f={point:m,pressure:i[h][2]>=0?i[h][2]:.5,vector:Qp(wt(f.point,m)),distance:w,runningLength:d},p.push(f)}return p[0].vector=((n=p[1])==null?void 0:n.vector)||[0,0],p}function G6(t,s={}){return Z6(Q6(t,s),s)}var J6=()=>({events:{},emit(t,...s){let n=this.events[t]||[];for(let o=0,l=n.length;o<l;o++)n[o](...s)},on(t,s){var n;return(n=this.events[t])!=null&&n.push(s)||(this.events[t]=[s]),()=>{var o;this.events[t]=(o=this.events[t])==null?void 0:o.filter(l=>s!==l)}}});function Fo(t,s){return t-s}function X6(t){return t<0?-1:1}function $o(t){return[Math.abs(t),X6(t)]}function Gp(){const t=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${t()+t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`}var em=2,zt=em,un=class{constructor(t){this.drauu=t,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(t){}onUnselected(){}onStart(t){}onMove(t){return!1}onEnd(t){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(t){var l;var s;const n=this.drauu.el,o=(l=this.drauu.options.coordinateScale)!=null?l:1;if(this.drauu.options.coordinateTransform===!1){const r=this.drauu.el.getBoundingClientRect();return{x:(t.pageX-r.left)*o,y:(t.pageY-r.top)*o,pressure:t.pressure}}else{const r=this.drauu.svgPoint;r.x=t.clientX,r.y=t.clientY;const a=r.matrixTransform((s=n.getScreenCTM())==null?void 0:s.inverse());return{x:a.x*o,y:a.y*o,pressure:t.pressure}}}createElement(t,s){var l;const n=document.createElementNS("http://www.w3.org/2000/svg",t),o=s?{...this.brush,...s}:this.brush;return n.setAttribute("fill",(l=o.fill)!=null?l:"transparent"),n.setAttribute("stroke",o.color),n.setAttribute("stroke-width",o.size.toString()),n.setAttribute("stroke-linecap","round"),o.dasharray&&n.setAttribute("stroke-dasharray",o.dasharray),n}attr(t,s){this.el.setAttribute(t,typeof s=="string"?s:s.toFixed(zt))}_setEvent(t){this.event=t,this.point=this.getMousePosition(t)}_eventDown(t){return this._setEvent(t),this.start=this.point,this.onStart(this.point)}_eventMove(t){return this._setEvent(t),this.onMove(this.point)}_eventUp(t){return this._setEvent(t),this.onEnd(this.point)}},tm=class extends un{constructor(){super(...arguments),this.points=[]}onStart(t){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[t],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&this.points.push(t),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!!t}getSvgData(t){const s=G6(t,{size:this.brush.size*2,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5},...this.brush.stylusOptions});if(!s.length)return"";const n=s.reduce((o,[l,r],a,i)=>{const[p,u]=i[(a+1)%i.length];return o.push(l,r,(l+p)/2,(r+u)/2),o},["M",...s[0],"Q"]);return n.push("Z"),n.map(o=>typeof o=="number"?o.toFixed(2):o).join(" ")}},sm=class extends un{onStart(t){return this.el=this.createElement("ellipse"),this.attr("cx",t.x),this.attr("cy",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[s,n]=$o(t.x-this.start.x),[o,l]=$o(t.y-this.start.y);if(this.shiftPressed){const r=Math.min(s,o);s=r,o=r}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",s),this.attr("ry",o);else{const[r,a]=[this.start.x,this.start.x+s*n].sort(Fo),[i,p]=[this.start.y,this.start.y+o*l].sort(Fo);this.attr("cx",(r+a)/2),this.attr("cy",(i+p)/2),this.attr("rx",(a-r)/2),this.attr("ry",(p-i)/2)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function Jp(t,s){const n=document.createElementNS("http://www.w3.org/2000/svg","defs"),o=document.createElementNS("http://www.w3.org/2000/svg","marker"),l=document.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("fill",s),o.setAttribute("id",t),o.setAttribute("viewBox","0 -5 10 10"),o.setAttribute("refX","5"),o.setAttribute("refY","0"),o.setAttribute("markerWidth","4"),o.setAttribute("markerHeight","4"),o.setAttribute("orient","auto"),l.setAttribute("d","M0,-5L10,0L0,5"),o.appendChild(l),n.appendChild(o),n}var nm=class extends un{onStart(t){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",t.x),this.attr("y1",t.y),this.attr("x2",t.x),this.attr("y2",t.y),this.brush.arrowEnd){const s=Gp(),n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.append(Jp(s,this.brush.color)),n.append(this.el),this.attr("marker-end",`url(#${s})`),n}return this.el}onMove(t){if(!this.el)return!1;let{x:s,y:n}=t;if(this.shiftPressed){const o=t.x-this.start.x,l=t.y-this.start.y;if(l!==0){let r=o/l;r=Math.round(r),Math.abs(r)<=1?(s=this.start.x+l*r,n=this.start.y+l):(s=this.start.x+o,n=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-s),this.attr("y1",this.start.y*2-n),this.attr("x2",s),this.attr("y2",n)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",s),this.attr("y2",n)),!0}onEnd(){const t=this.el;return this.el=null,!(!t||t.getTotalLength()<5)}},om=class extends un{onStart(t){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",t.x),this.attr("y",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[s,n]=$o(t.x-this.start.x),[o,l]=$o(t.y-this.start.y);if(this.shiftPressed){const r=Math.min(s,o);s=r,o=r}if(this.altPressed)this.attr("x",this.start.x-s),this.attr("y",this.start.y-o),this.attr("width",s*2),this.attr("height",o*2);else{const[r,a]=[this.start.x,this.start.x+s*n].sort(Fo),[i,p]=[this.start.y,this.start.y+o*l].sort(Fo);this.attr("x",r),this.attr("y",i),this.attr("width",a-r),this.attr("height",p-i)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function lm(t,s){const n=t.x-s.x,o=t.y-s.y;return n*n+o*o}function rm(t,s,n){let o=s.x,l=s.y,r=n.x-o,a=n.y-l;if(r!==0||a!==0){const i=((t.x-o)*r+(t.y-l)*a)/(r*r+a*a);i>1?(o=n.x,l=n.y):i>0&&(o+=r*i,l+=a*i)}return r=t.x-o,a=t.y-l,r*r+a*a}function am(t,s){let n=t[0];const o=[n];let l;for(let r=1,a=t.length;r<a;r++)l=t[r],lm(l,n)>s&&(o.push(l),n=l);return n!==l&&l&&o.push(l),o}function er(t,s,n,o,l){let r=o,a=0;for(let i=s+1;i<n;i++){const p=rm(t[i],t[s],t[n]);p>r&&(a=i,r=p)}r>o&&(a-s>1&&er(t,s,a,o,l),l.push(t[a]),n-a>1&&er(t,a,n,o,l))}function im(t,s){const n=t.length-1,o=[t[0]];return er(t,0,n,s,o),o.push(t[n]),o}function qi(t,s,n=!1){if(t.length<=2)return t;const o=s!==void 0?s*s:1;return t=n?t:am(t,o),t=im(t,o),t}var cm=class extends un{constructor(){super(...arguments),this.points=[],this.count=0}onStart(t){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[t],this.brush.arrowEnd){this.arrowId=Gp();const s=Jp(this.arrowId,this.brush.color);this.el.appendChild(s)}return this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&(this.points.push(t),this.count+=1),this.count>5&&(this.points=qi(this.points,1,!0),this.count=0),this.attr("d",ji(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!(!t||(t.setAttribute("d",ji(qi(this.points,1,!0))),!t.getTotalLength()))}};function pm(t,s){const n=s.x-t.x,o=s.y-t.y;return{length:Math.sqrt(Math.pow(n,2)+Math.pow(o,2)),angle:Math.atan2(o,n)}}function Ni(t,s,n,o){const l=s||t,r=n||t,a=.2,i=pm(l,r),p=i.angle+(o?Math.PI:0),u=i.length*a,d=t.x+Math.cos(p)*u,f=t.y+Math.sin(p)*u;return{x:d,y:f}}function um(t,s,n){const o=Ni(n[s-1],n[s-2],t),l=Ni(t,n[s-1],n[s+1],!0);return`C ${o.x.toFixed(zt)},${o.y.toFixed(zt)} ${l.x.toFixed(zt)},${l.y.toFixed(zt)} ${t.x.toFixed(zt)},${t.y.toFixed(zt)}`}function ji(t){return t.reduce((s,n,o,l)=>o===0?`M ${n.x.toFixed(zt)},${n.y.toFixed(zt)}`:`${s} ${um(n,o,l)}`,"")}var dm=class extends un{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[]}onSelected(t){const s=(n,o)=>{if(n&&n.length)for(let l=0;l<n.length;l++){const r=n[l];if(r.getTotalLength){const a=r.getTotalLength();for(let i=0;i<this.pathSubFactor;i++){const p=r.getPointAtLength(a*i/this.pathSubFactor),u=r.getPointAtLength(a*(i+1)/this.pathSubFactor);this.pathFragments.push({x1:p.x,x2:u.x,y1:p.y,y2:u.y,segment:i,element:o||r})}}else r.children&&s(r.children,r)}};t&&s(t.children)}onUnselected(){this.pathFragments=[]}onStart(t){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=t.x,this.svgPointPrevious.y=t.y}onMove(t){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=t.x,this.svgPointCurrent.y=t.y;const s=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,s}onEnd(){return this.svgPointPrevious=void 0,this.svgPointCurrent=void 0,!0}checkAndEraseElement(){const t=[];if(this.pathFragments.length)for(let s=0;s<this.pathFragments.length;s++){const n=this.pathFragments[s],o={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(n,o)&&(n.element.remove(),t.push(s))}return t.length&&(this.pathFragments=this.pathFragments.filter((s,n)=>!t.includes(n))),t.length>0}lineLineIntersect(t,s){const n=t.x1,o=t.x2,l=s.x1,r=s.x2,a=t.y1,i=t.y2,p=s.y1,u=s.y2,d=(n-o)*(p-u)-(a-i)*(l-r),f=(n*i-a*o)*(l-r)-(n-o)*(l*u-p*r),y=(n*i-a*o)*(p-u)-(a-i)*(l*u-p*r),h=(m,w,A)=>m>=w&&m<=A?!0:m>=A&&m<=w;if(d===0)return!1;{const m={x:f/d,y:y/d};return h(m.x,n,o)&&h(m.y,a,i)&&h(m.x,l,r)&&h(m.y,p,u)}}};function fm(t){return{draw:new cm(t),stylus:new tm(t),line:new nm(t),rectangle:new om(t),ellipse:new sm(t),eraseLine:new dm(t)}}var ym=class{constructor(t={}){this.options=t,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=J6(),this._models=fm(this),this._undoStack=[],this._disposables=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),t.el&&this.mount(t.el,t.eventTarget)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(t){this._models[this.mode].onUnselected(),this.options.brush.mode=t,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(t){this.options.brush=t}resolveSelector(t){return typeof t=="string"?document.querySelector(t):t||null}mount(t,s){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(t),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const n=this.resolveSelector(s)||this.el,o=this.eventStart.bind(this),l=this.eventMove.bind(this),r=this.eventEnd.bind(this),a=this.eventKeyboard.bind(this);n.addEventListener("pointerdown",o,{passive:!1}),window.addEventListener("pointermove",l,{passive:!1}),window.addEventListener("pointerup",r,{passive:!1}),window.addEventListener("pointercancel",r,{passive:!1}),window.addEventListener("keydown",a,!1),window.addEventListener("keyup",a,!1),this._disposables.push(()=>{n.removeEventListener("pointerdown",o),window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",r),window.removeEventListener("pointercancel",r),window.removeEventListener("keydown",a,!1),window.removeEventListener("keyup",a,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(t=>t()),this._disposables.length=0,this.el=null,this._emitter.emit("unmounted")}on(t,s){return this._emitter.on(t,s)}undo(){const t=this.el;return t.lastElementChild?(this._undoStack.push(t.lastElementChild.cloneNode(!0)),t.lastElementChild.remove(),this._emitter.emit("changed"),!0):!1}redo(){return this._undoStack.length?(this.el.appendChild(this._undoStack.pop()),this._emitter.emit("changed"),!0):!1}canRedo(){return!!this._undoStack.length}canUndo(){var t;return!!((t=this.el)!=null&&t.lastElementChild)}eventMove(t){!this.acceptsInput(t)||!this.drawing||this.model._eventMove(t)&&(t.stopPropagation(),t.preventDefault(),this._emitter.emit("changed"))}eventStart(t){!this.acceptsInput(t)||(t.stopPropagation(),t.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._emitter.emit("start"),this._currentNode=this.model._eventDown(t),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(t){if(!this.acceptsInput(t)||!this.drawing)return;const s=this.model._eventUp(t);s?(s instanceof Element&&s!==this._currentNode&&(this._currentNode=s),this.commit()):this.cancel(),this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed")}acceptsInput(t){return!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(t.pointerType)}eventKeyboard(t){this.shiftPressed===t.shiftKey&&this.altPressed===t.altKey||(this.shiftPressed=t.shiftKey,this.altPressed=t.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(){this._undoStack.length=0;const t=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",t)}clear(){this._undoStack.length=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(t){this.clear(),this.el.innerHTML=t}};function hm(t){return new ym(t)}const tr=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],jt=Mt("slidev-drawing-enabled",!1),h4=Mt("slidev-drawing-pinned",!1),mm=K(!1),gm=K(!1),vm=K(!1),Vn=K(!1),Bs=hh(Mt("slidev-drawing-brush",{color:tr[0],size:4,mode:"stylus"})),Hi=K("stylus"),Xp=k(()=>Ee.drawings.syncAll||qt.value);let Un=!1;const wn=k({get(){return Hi.value},set(t){Hi.value=t,t==="arrow"?(Bs.mode="line",Bs.arrowEnd=!0):(Bs.mode=t,Bs.arrowEnd=!1)}}),Am=Pe({brush:Bs,acceptsInputTypes:k(()=>jt.value?void 0:["pen"]),coordinateTransform:!1}),nt=Vo(hm(Am));function _m(){nt.clear(),Xp.value&&Sp(We.value,"")}function eu(){var t;gm.value=nt.canRedo(),mm.value=nt.canUndo(),vm.value=!!((t=nt.el)!=null&&t.children.length)}function wm(t){Un=!0;const s=xo[t||We.value];s!=null?nt.load(s):nt.clear(),Un=!1}nt.on("changed",()=>{if(eu(),!Un){const t=nt.dump(),s=We.value;(xo[s]||"")!==t&&Xp.value&&Sp(s,nt.dump())}});oh(t=>{Un=!0,t[We.value]!=null&&nt.load(t[We.value]||""),Un=!1,eu()});Qe(()=>{ye(We,()=>{!nt.mounted||wm()},{immediate:!0})});nt.on("start",()=>Vn.value=!0);nt.on("end",()=>Vn.value=!1);window.addEventListener("keydown",t=>{if(!jt.value)return;const s=!t.ctrlKey&&!t.altKey&&!t.shiftKey&&!t.metaKey;let n=!0;t.code==="KeyZ"&&(t.ctrlKey||t.metaKey)?t.shiftKey?nt.redo():nt.undo():t.code==="Escape"?jt.value=!1:t.code==="KeyL"&&s?wn.value="line":t.code==="KeyA"&&s?wn.value="arrow":t.code==="KeyS"&&s?wn.value="stylus":t.code==="KeyR"&&s?wn.value="rectangle":t.code==="KeyE"&&s?wn.value="ellipse":t.code==="KeyC"&&s?_m():t.code.startsWith("Digit")&&s&&+t.code[5]<=tr.length?Bs.color=tr[+t.code[5]-1]:n=!1,n&&(t.preventDefault(),t.stopPropagation())},!1);var Vi;const Em=typeof window<"u";Em&&((Vi=window==null?void 0:window.navigator)==null?void 0:Vi.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function tu(t){return typeof t=="function"?t():E(t)}function Ve(...t){return k(()=>t.every(s=>tu(s)))}function ut(t){return k(()=>!tu(t))}const Ui=r9(),gl=Mt("slidev-color-schema","auto"),sr=k(()=>Ee.colorSchema!=="auto"),Vr=k({get(){return sr.value?Ee.colorSchema==="dark":gl.value==="auto"?Ui.value:gl.value==="dark"},set(t){sr.value||(gl.value=t===Ui.value?"auto":t?"dark":"light")}}),su=Tp(Vr);Tt&&ye(Vr,t=>{const s=document.querySelector("html");s.classList.toggle("dark",t),s.classList.toggle("light",!t)},{immediate:!0});const go=K(1),vo=k(()=>Ue.length-1),gt=K(0),Ur=K(0);function bm(){gt.value>go.value&&(gt.value-=1)}function Dm(){gt.value<vo.value&&(gt.value+=1)}function Bm(){if(gt.value>go.value){let t=gt.value-Ur.value;t<go.value&&(t=go.value),gt.value=t}}function Cm(){if(gt.value<vo.value){let t=gt.value+Ur.value;t>vo.value&&(t=vo.value),gt.value=t}}function xm(){const{escape:t,space:s,shift:n,left:o,right:l,up:r,down:a,enter:i,d:p,g:u,o:d}=Kp;let f=[{name:"next_space",key:Ve(s,ut(n)),fn:rs,autoRepeat:!0},{name:"prev_space",key:Ve(s,n),fn:as,autoRepeat:!0},{name:"next_right",key:Ve(l,ut(n),ut(st)),fn:rs,autoRepeat:!0},{name:"prev_left",key:Ve(o,ut(n),ut(st)),fn:as,autoRepeat:!0},{name:"next_page_key",key:"pageDown",fn:rs,autoRepeat:!0},{name:"prev_page_key",key:"pageUp",fn:as,autoRepeat:!0},{name:"next_down",key:Ve(a,ut(st)),fn:zn,autoRepeat:!0},{name:"prev_up",key:Ve(r,ut(st)),fn:()=>Kn(!1),autoRepeat:!0},{name:"next_shift",key:Ve(l,n),fn:zn,autoRepeat:!0},{name:"prev_shift",key:Ve(o,n),fn:()=>Kn(!1),autoRepeat:!0},{name:"toggle_dark",key:Ve(p,ut(jt)),fn:su},{name:"toggle_overview",key:Ve(d,ut(jt)),fn:Zp},{name:"hide_overview",key:Ve(t,ut(jt)),fn:()=>st.value=!1},{name:"goto",key:Ve(u,ut(jt)),fn:()=>Ws.value=!Ws.value},{name:"next_overview",key:Ve(l,st),fn:Dm},{name:"prev_overview",key:Ve(o,st),fn:bm},{name:"up_overview",key:Ve(r,st),fn:Bm},{name:"down_overview",key:Ve(a,st),fn:Cm},{name:"goto_from_overview",key:Ve(i,st),fn:()=>{ln(gt.value),st.value=!1}}];const y=new Set(f.map(m=>m.name));if(f.filter(m=>m.name&&y.has(m.name)).length===0){const m=["========== WARNING ==========","defineShortcutsSetup did not return any of the base shortcuts.","See https://sli.dev/custom/config-shortcuts.html for migration.",'If it is intentional, return at least one shortcut with one of the base names (e.g. name:"goto").'].join(`

`);alert(m),console.warn(m)}return f}const nu=Ve(ut(N6),ut(j6),L6);function km(t,s,n=!1){typeof t=="string"&&(t=Kp[t]);const o=Ve(t,nu);let l=0,r;const a=()=>{if(clearTimeout(r),!o.value){l=0;return}n&&(r=setTimeout(a,Math.max(1e3-l*250,150)),l++),s()};return ye(o,a,{flush:"sync"})}function Sm(t,s){return Vh(t,n=>{!nu.value||n.repeat||s()})}function Om(){const t=xm();new Map(t.map(n=>[n.key,n])).forEach(n=>{n.fn&&km(n.key,n.fn,n.autoRepeat)}),Sm("f",()=>Yp.toggle())}const Fm={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},$m=e("path",{fill:"currentColor",d:"M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z"},null,-1),Tm=[$m];function Pm(t,s){return _(),Q("svg",Fm,Tm)}const Mm={name:"carbon-close",render:Pm};function Wr(t){var n,o;const s=(o=(n=t==null?void 0:t.meta)==null?void 0:n.slide)==null?void 0:o.no;return s!=null?`slidev-page-${s}`:""}const ou=ke({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},scale:{type:[Number,String]}},setup(t){const s=t;S(M);const n=K(),o=A9(n),l=k(()=>s.width?s.width:o.width.value),r=k(()=>s.width?s.width/ls:o.height.value);s.width&&Qn(()=>{n.value&&(n.value.style.width=`${l.value}px`,n.value.style.height=`${r.value}px`)});const a=k(()=>l.value/r.value),i=k(()=>s.scale?s.scale:a.value<ls?l.value/Ss:r.value*ls/Ss),p=k(()=>({height:`${Cp}px`,width:`${Ss}px`,transform:`translate(-50%, -50%) scale(${i.value})`})),u=k(()=>({"select-none":!Ee.selectable,"slidev-code-line-numbers":Ee.lineNumbers}));return yt(Bp,i),(d,f)=>(_(),Q("div",{id:"slide-container",ref_key:"root",ref:n,class:Le(E(u))},[e("div",{id:"slide-content",style:ot(E(p))},[cs(d.$slots,"default")],4),cs(d.$slots,"controls")],2))}});const zr=ke({props:{clicks:{type:[Number,String],default:0},clicksElements:{type:Array,default:()=>[]},clicksOrderMap:{type:Map,default:()=>new Map},clicksDisabled:{type:Boolean,default:!1},context:{type:String,default:"main"},is:{type:Object,default:void 0},route:{type:Object,default:void 0}},setup(t,{emit:s}){const n=Nt(t,"clicks",s),o=Nt(t,"clicksElements",s),l=Nt(t,"clicksDisabled",s),r=Nt(t,"clicksOrderMap",s);o.value.length=0,yt(Wy,t.route),yt(zy,t.context),yt(Cn,n),yt(xn,l),yt(ws,o),yt(Vl,r)},render(){var t,s;return this.$props.is?mt(this.$props.is):(s=(t=this.$slots)==null?void 0:t.default)==null?void 0:s.call(t)}}),Im=["innerHTML"],Rm=ke({__name:"DrawingPreview",props:{page:null},setup(t){return S(M),(s,n)=>E(xo)[t.page]?(_(),Q("svg",{key:0,ref:"svg",class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:E(xo)[t.page]},null,8,Im)):he("v-if",!0)}}),Lm={class:"slides-overview bg-main !bg-opacity-75 p-16 overflow-y-auto"},qm=["onClick"],Nm=ke({__name:"SlidesOverview",props:{modelValue:{type:Boolean}},emits:[],setup(t,{emit:s}){const n=t;S(M);const o=Nt(n,"modelValue",s);function l(){o.value=!1}function r(h){ln(h),l()}function a(h){return h===gt.value}const i=Jl.smaller("xs"),p=Jl.smaller("sm"),u=4*16*2,d=2*16,f=k(()=>i.value?Fs.width.value-u:p.value?(Fs.width.value-u-d)/2:300),y=k(()=>Math.floor((Fs.width.value-u)/(f.value+d)));return Qn(()=>{gt.value=We.value,Ur.value=y.value}),(h,m)=>{const w=Mm;return _(),Q(Ce,null,[Mr(e("div",Lm,[e("div",{class:"grid gap-y-4 gap-x-8 w-full",style:ot(`grid-template-columns: repeat(auto-fit,minmax(${E(f)}px,1fr))`)},[(_(!0),Q(Ce,null,Gn(E(Ue).slice(0,-1),(A,C)=>(_(),Q("div",{key:A.path,class:"relative"},[e("div",{class:Le(["inline-block border border-gray-400 rounded border-opacity-50 overflow-hidden bg-main hover:border-$slidev-theme-primary",{"border-$slidev-theme-primary":a(C+1)}]),onClick:B=>r(+A.path)},[(_(),F(ou,{key:A.path,width:E(f),"clicks-disabled":!0,class:"pointer-events-none"},{default:$(()=>[Z(E(zr),{is:A==null?void 0:A.component,"clicks-disabled":!0,class:Le(E(Wr)(A)),route:A,context:"overview"},null,8,["is","class","route"]),Z(Rm,{page:+A.path},null,8,["page"])]),_:2},1032,["width"]))],10,qm),e("div",{class:"absolute top-0 opacity-50",style:ot(`left: ${E(f)+5}px`)},$s(C+1),5)]))),128))],4)],512),[[Ep,E(o)]]),E(o)?(_(),Q("button",{key:0,class:"fixed text-2xl top-4 right-4 icon-btn text-gray-400",onClick:l},[Z(w)])):he("v-if",!0)],64)}}});const jm="/owasp-top-ten-workshop/assets/logo.b72bde5d.png",Hm={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-20"},Vm=ke({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["modelValue"],setup(t,{emit:s}){const n=t;S(M);const o=Nt(n,"modelValue",s);function l(){o.value=!1}return(r,a)=>(_(),F(op,null,[E(o)?(_(),Q("div",Hm,[e("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:a[0]||(a[0]=i=>l())}),e("div",{class:Le(["m-auto rounded-md bg-main shadow",n.class]),"dark:border":"~ gray-400 opacity-10"},[cs(r.$slots,"default")],2)])):he("v-if",!0)],1024))}}),Um={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},Wm=["innerHTML"],zm=e("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[e("div",{class:"flex gap-1 children:my-auto"},[e("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),e("img",{class:"w-5 h-5",src:jm,alt:"Slidev"}),e("div",{style:{color:"#2082A6"}},[e("b",null,"Sli"),c("dev ")])])],-1),Km=ke({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["modelValue"],setup(t,{emit:s}){const n=t;S(M);const o=Nt(n,"modelValue",s),l=k(()=>typeof Ee.info=="string");return(r,a)=>(_(),F(Vm,{modelValue:E(o),"onUpdate:modelValue":a[0]||(a[0]=i=>De(o)?o.value=i:null),class:"px-6 py-4"},{default:$(()=>[e("div",Um,[E(l)?(_(),Q("div",{key:0,class:"mb-4",innerHTML:E(Ee).info},null,8,Wm)):he("v-if",!0),zm])]),_:1},8,["modelValue"]))}});const Ym=["disabled","onKeydown"],Zm=ke({__name:"Goto",setup(t){S(M);const s=K(),n=K(""),o=k(()=>{if(n.value.startsWith("/"))return!!Ue.find(a=>a.path===n.value.substring(1));{const a=+n.value;return!isNaN(a)&&a>0&&a<=mu.value}});function l(){o.value&&(n.value.startsWith("/")?ln(n.value.substring(1)):ln(+n.value)),r()}function r(){Ws.value=!1}return ye(Ws,async a=>{var i,p;a?(await Qe(),n.value="",(i=s.value)==null||i.focus()):(p=s.value)==null||p.blur()}),ye(n,a=>{a.match(/^[^0-9/]/)&&(n.value=n.value.substring(1))}),(a,i)=>(_(),Q("div",{id:"slidev-goto-dialog",class:Le(["fixed right-5 bg-main transform transition-all",E(Ws)?"top-5":"-top-20"]),shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:gray-400 dark:opacity-25"},[Mr(e("input",{ref_key:"input",ref:s,"onUpdate:modelValue":i[0]||(i[0]=p=>n.value=p),type:"text",disabled:!E(Ws),class:Le(["outline-none bg-transparent",{"text-red-400":!E(o)&&n.value}]),placeholder:"Goto...",onKeydown:[Ua(l,["enter"]),Ua(r,["escape"])],onBlur:r},null,42,Ym),[[By,n.value]])],2))}}),Qm=ke({__name:"Controls",setup(t){S(M);const s=$t(),n=$t();return(o,l)=>(_(),Q(Ce,null,[Z(Nm,{modelValue:E(st),"onUpdate:modelValue":l[0]||(l[0]=r=>De(st)?st.value=r:null)},null,8,["modelValue"]),Z(Zm),E(s)?(_(),F(E(s),{key:0})):he("v-if",!0),E(n)?(_(),F(E(n),{key:1,modelValue:E(hl),"onUpdate:modelValue":l[1]||(l[1]=r=>De(hl)?hl.value=r:null)},null,8,["modelValue"])):he("v-if",!0),E(Ee).info?(_(),F(Km,{key:2,modelValue:E(On),"onUpdate:modelValue":l[2]||(l[2]=r=>De(On)?On.value=r:null)},null,8,["modelValue"])):he("v-if",!0)],64))}}),Gm={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Jm=e("path",{fill:"currentColor",d:"M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3s3 1.3 3 3s-1.3 3-3 3zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3s-3-1.3-3-3s1.3-3 3-3z"},null,-1),Xm=[Jm];function eg(t,s){return _(),Q("svg",Gm,Xm)}const tg={name:"carbon-settings-adjust",render:eg},sg={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ng=e("path",{fill:"currentColor",d:"M17 22v-8h-4v2h2v6h-3v2h8v-2h-3zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8z"},null,-1),og=e("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14Zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4Z"},null,-1),lg=[ng,og];function rg(t,s){return _(),Q("svg",sg,lg)}const ag={name:"carbon-information",render:rg},ig={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},cg=e("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),pg=[cg];function ug(t,s){return _(),Q("svg",ig,pg)}const dg={name:"carbon-download",render:ug},fg={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},yg=e("path",{fill:"currentColor",d:"M29.415 19L27.7 17.285A2.97 2.97 0 0 0 28 16a3 3 0 1 0-3 3a2.97 2.97 0 0 0 1.286-.3L28 20.414V28h-6v-3a7.008 7.008 0 0 0-7-7H9a7.008 7.008 0 0 0-7 7v5h28v-9.586A1.988 1.988 0 0 0 29.415 19ZM4 25a5.006 5.006 0 0 1 5-5h6a5.006 5.006 0 0 1 5 5v3H4Z"},null,-1),hg=e("path",{fill:"currentColor",d:"M12 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7Z"},null,-1),mg=[yg,hg];function gg(t,s){return _(),Q("svg",fg,mg)}const vg={name:"carbon-user-speaker",render:gg},Ag={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},_g=e("path",{fill:"currentColor",d:"M15 10h2v8h-2zm5 4h2v4h-2zm-10-2h2v6h-2z"},null,-1),wg=e("path",{fill:"currentColor",d:"M25 4h-8V2h-2v2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8v6h-4v2h10v-2h-4v-6h8a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 16H7V6h18Z"},null,-1),Eg=[_g,wg];function bg(t,s){return _(),Q("svg",Ag,Eg)}const Dg={name:"carbon-presentation-file",render:bg},Bg={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Cg=e("path",{fill:"currentColor",d:"M27.307 6.107L30 3.414L28.586 2l-2.693 2.693L24.8 3.6a1.933 1.933 0 0 0-2.8 0l-18 18V28h6.4l18-18a1.933 1.933 0 0 0 0-2.8ZM9.6 26H6v-3.6L23.4 5L27 8.6ZM9 11.586L16.586 4L18 5.414L10.414 13z"},null,-1),xg=[Cg];function kg(t,s){return _(),Q("svg",Bg,xg)}const Sg={name:"carbon-pen",render:kg},Og={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Fg=e("path",{fill:"currentColor",d:"m38.2 48.5l58.2 155.2a8 8 0 0 0 15-.1l23.3-64.1a8.1 8.1 0 0 1 4.8-4.8l64.1-23.3a8 8 0 0 0 .1-15L48.5 38.2a8 8 0 0 0-10.3 10.3Z",opacity:".2"},null,-1),$g=e("path",{fill:"currentColor",d:"m150.5 139.2l55.9-20.3a16 16 0 0 0 .1-30L51.3 30.7a16 16 0 0 0-20.6 20.6l58.2 155.2a15.9 15.9 0 0 0 15 10.4h.1a15.9 15.9 0 0 0 14.9-10.5l20.3-55.9l63.1 63.2a8.5 8.5 0 0 0 5.7 2.3a8.3 8.3 0 0 0 5.7-2.3a8.1 8.1 0 0 0 0-11.4Zm-46.6 61.7L45.7 45.7l155.2 58.2l-64.1 23.3a15.7 15.7 0 0 0-9.6 9.6Z"},null,-1),Tg=[Fg,$g];function Pg(t,s){return _(),Q("svg",Og,Tg)}const Mg={name:"ph-cursor-duotone",render:Pg},Ig={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},Rg=e("path",{fill:"currentColor",d:"M213.7 202.3a8.1 8.1 0 0 1 0 11.4a8.3 8.3 0 0 1-5.7 2.3a8.5 8.5 0 0 1-5.7-2.3l-63.1-63.2l-20.3 55.9a15.9 15.9 0 0 1-14.9 10.5h-.1a15.9 15.9 0 0 1-15-10.4L30.7 51.3a16 16 0 0 1 20.6-20.6l155.2 58.2a16 16 0 0 1-.1 30l-55.9 20.3Z"},null,-1),Lg=[Rg];function qg(t,s){return _(),Q("svg",Ig,Lg)}const lu={name:"ph-cursor-fill",render:qg},Ng={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},jg=e("path",{fill:"currentColor",d:"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"},null,-1),Hg=[jg];function Vg(t,s){return _(),Q("svg",Ng,Hg)}const Ug={name:"carbon-sun",render:Vg},Wg={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},zg=e("path",{fill:"currentColor",d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"},null,-1),Kg=[zg];function Yg(t,s){return _(),Q("svg",Wg,Kg)}const Zg={name:"carbon-moon",render:Yg},Qg={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Gg=e("path",{fill:"currentColor",d:"M8 4v4H4V4Zm2-2H2v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8ZM8 14v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8ZM8 24v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Z"},null,-1),Jg=[Gg];function Xg(t,s){return _(),Q("svg",Qg,Jg)}const ev={name:"carbon-apps",render:Xg},tv={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},sv=e("path",{fill:"currentColor",d:"m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"},null,-1),nv=[sv];function ov(t,s){return _(),Q("svg",tv,nv)}const lv={name:"carbon-arrow-right",render:ov},rv={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},av=e("path",{fill:"currentColor",d:"m14 26l1.41-1.41L7.83 17H28v-2H7.83l7.58-7.59L14 6L4 16l10 10z"},null,-1),iv=[av];function cv(t,s){return _(),Q("svg",rv,iv)}const pv={name:"carbon-arrow-left",render:cv},uv={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},dv=e("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z"},null,-1),fv=[dv];function yv(t,s){return _(),Q("svg",uv,fv)}const hv={name:"carbon-maximize",render:yv},mv={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},gv=e("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z"},null,-1),vv=[gv];function Av(t,s){return _(),Q("svg",mv,vv)}const _v={name:"carbon-minimize",render:Av},wv={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ev=e("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"},null,-1),bv=[Ev];function Dv(t,s){return _(),Q("svg",wv,bv)}const Bv={name:"carbon-checkmark",render:Dv},Cv={class:"select-list"},xv={class:"title"},kv={class:"items"},Sv=["onClick"],Ov=ke({__name:"SelectList",props:{modelValue:{type:[Object,String,Number]},title:{type:String},items:{type:Array}},setup(t,{emit:s}){const n=t;S(M);const o=Nt(n,"modelValue",s,{passive:!0});return(l,r)=>{const a=Bv;return _(),Q("div",Cv,[e("div",xv,$s(t.title),1),e("div",kv,[(_(!0),Q(Ce,null,Gn(t.items,i=>(_(),Q("div",{key:i.value,class:Le(["item",{active:E(o)===i.value}]),onClick:()=>{var p;o.value=i.value,(p=i.onClick)==null||p.call(i)}},[Z(a,{class:Le(["text-green-500",{"opacity-0":E(o)!==i.value}])},null,8,["class"]),c(" "+$s(i.display||i.value),1)],10,Sv))),128))])])}}});const ru=(t,s)=>{const n=t.__vccOpts||t;for(const[o,l]of s)n[o]=l;return n},Fv=ru(Ov,[["__scopeId","data-v-7dd0eaca"]]),$v={class:"text-sm"},Tv=ke({__name:"Settings",setup(t){S(M);const s=[{display:"Fit",value:0},{display:"1:1",value:1}];return(n,o)=>(_(),Q("div",$v,[Z(Fv,{modelValue:E(mo),"onUpdate:modelValue":o[0]||(o[0]=l=>De(mo)?mo.value=l:null),title:"Scale",items:s},null,8,["modelValue"])]))}}),Pv={key:0,class:"rounded-md bg-main shadow absolute bottom-10 left-0 z-20","dark:border":"~ gray-400 opacity-10"},Mv=ke({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(t,{emit:s}){const n=t;S(M);const o=Nt(n,"modelValue",s,{passive:!0}),l=K();return jh(l,()=>{o.value=!1}),(r,a)=>(_(),Q("div",{ref_key:"el",ref:l,class:"flex relative"},[e("button",{class:Le({disabled:t.disabled}),onClick:a[0]||(a[0]=i=>o.value=!E(o))},[cs(r.$slots,"button",{class:Le({disabled:t.disabled})})],2),(_(),F(op,null,[E(o)?(_(),Q("div",Pv,[cs(r.$slots,"menu")])):he("v-if",!0)],1024))],512))}}),Iv={class:"w-1px opacity-10 bg-current m-1 lg:m-2"},po={__name:"VerticalDivider",setup(t){return S(M),(s,n)=>(_(),Q("div",Iv))}},Rv={render(){return[]}},Lv={class:"icon-btn"},qv={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},Nv={class:"my-auto"},jv={class:"opacity-50"},Hv=ke({__name:"NavControls",props:{persist:{default:!1}},setup(t){const s=t;S(M);const n=Jl.smaller("md"),{isFullscreen:o,toggle:l}=Yp,r=k(()=>or.value?`?password=${or.value}`:""),a=k(()=>`/presenter/${We.value}${r.value}`),i=k(()=>`/${We.value}${r.value}`),p=K(),u=()=>{p.value&&Js.value&&p.value.contains(Js.value)&&Js.value.blur()},d=k(()=>s.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow dark:border dark:border-gray-400 dark:border-opacity-10"),f=$t(),y=$t();return pn(()=>import("./DrawingControls.87634886.js"),["assets/DrawingControls.87634886.js","assets/DrawingControls.vue_vue_type_script_setup_true_lang.02452415.js"]).then(h=>y.value=h.default),(h,m)=>{const w=_v,A=hv,C=pv,B=lv,b=ev,x=Zg,q=Ug,R=lu,V=Mg,ne=Sg,ie=Dg,ge=Do("RouterLink"),Ae=vg,je=dg,He=ag,Re=tg;return _(),Q("nav",{ref_key:"root",ref:p,class:"flex flex-col"},[e("div",{class:Le(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:gap-1 lg:p-2",E(d)]),onMouseleave:u},[E(Ut)?he("v-if",!0):(_(),Q("button",{key:0,class:"icon-btn",onClick:m[0]||(m[0]=(...$e)=>E(l)&&E(l)(...$e))},[E(o)?(_(),F(w,{key:0})):(_(),F(A,{key:1}))])),e("button",{class:Le(["icon-btn",{disabled:!E(PE)}]),onClick:m[1]||(m[1]=(...$e)=>E(as)&&E(as)(...$e))},[Z(C)],2),e("button",{class:Le(["icon-btn",{disabled:!E(TE)}]),title:"Next",onClick:m[2]||(m[2]=(...$e)=>E(rs)&&E(rs)(...$e))},[Z(B)],2),E(Ut)?he("v-if",!0):(_(),Q("button",{key:1,class:"icon-btn",title:"Slides overview",onClick:m[3]||(m[3]=$e=>E(Zp)())},[Z(b)])),E(sr)?he("v-if",!0):(_(),Q("button",{key:2,class:"icon-btn",title:"Toggle dark mode",onClick:m[4]||(m[4]=$e=>E(su)())},[E(Vr)?(_(),F(x,{key:0})):(_(),F(q,{key:1}))])),Z(po),E(Ut)?he("v-if",!0):(_(),Q(Ce,{key:3},[!E(qt)&&!E(n)&&E(f)?(_(),Q(Ce,{key:0},[Z(E(f)),Z(po)],64)):he("v-if",!0),E(qt)?(_(),Q("button",{key:1,class:"icon-btn",title:"Show presenter cursor",onClick:m[5]||(m[5]=$e=>ml.value=!E(ml))},[E(ml)?(_(),F(R,{key:0})):(_(),F(V,{key:1,class:"opacity-50"}))])):he("v-if",!0)],64)),!E(Ee).drawings.presenterOnly&&!E(Ut)?(_(),Q(Ce,{key:4},[e("button",{class:"icon-btn relative",title:"Drawing",onClick:m[6]||(m[6]=$e=>jt.value=!E(jt))},[Z(ne),E(jt)?(_(),Q("div",{key:0,class:"absolute left-1 right-1 bottom-0 h-0.7 rounded-full",style:ot({background:E(Bs).color})},null,4)):he("v-if",!0)]),Z(po)],64)):he("v-if",!0),E(Ut)?he("v-if",!0):(_(),Q(Ce,{key:5},[E(qt)?(_(),F(ge,{key:0,to:E(i),class:"icon-btn",title:"Play Mode"},{default:$(()=>[Z(ie)]),_:1},8,["to"])):he("v-if",!0),E(OE)?(_(),F(ge,{key:1,to:E(a),class:"icon-btn",title:"Presenter Mode"},{default:$(()=>[Z(Ae)]),_:1},8,["to"])):he("v-if",!0),he("v-if",!0)],64)),(_(),Q(Ce,{key:6},[E(Ee).download?(_(),Q("button",{key:0,class:"icon-btn",onClick:m[8]||(m[8]=(...$e)=>E(lr)&&E(lr)(...$e))},[Z(je)])):he("v-if",!0)],64)),!E(qt)&&E(Ee).info&&!E(Ut)?(_(),Q("button",{key:7,class:"icon-btn",onClick:m[9]||(m[9]=$e=>On.value=!E(On))},[Z(He)])):he("v-if",!0),!E(qt)&&!E(Ut)?(_(),F(Mv,{key:8},{button:$(()=>[e("button",Lv,[Z(Re)])]),menu:$(()=>[Z(Tv)]),_:1})):he("v-if",!0),E(Ut)?he("v-if",!0):(_(),F(po,{key:9})),e("div",qv,[e("div",Nv,[c($s(E(We))+" ",1),e("span",jv,"/ "+$s(E(mu)),1)])]),Z(E(Rv))],34)],512)}}}),au={render(){return[]}},iu={render(){return[]}},Vv={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},Uv=ke({__name:"PresenterMouse",setup(t){return S(M),(s,n)=>{const o=lu;return E(ul).cursor?(_(),Q("div",Vv,[Z(o,{class:"absolute",style:ot({left:`${E(ul).cursor.x}%`,top:`${E(ul).cursor.y}%`})},null,8,["style"])])):he("v-if",!0)}}}),Wv=ke({__name:"SlidesShow",props:{context:null},setup(t){S(M),ye(ft,()=>{var n,o;((n=ft.value)==null?void 0:n.meta)&&ft.value.meta.preload!==!1&&(ft.value.meta.__preloaded=!0),((o=vl.value)==null?void 0:o.meta)&&vl.value.meta.preload!==!1&&(vl.value.meta.__preloaded=!0)},{immediate:!0});const s=$t();return pn(()=>import("./DrawingLayer.2f69dc37.js"),[]).then(n=>s.value=n.default),(n,o)=>(_(),Q(Ce,null,[he(" Global Bottom "),Z(E(iu)),he(" Slides "),(_(!0),Q(Ce,null,Gn(E(Ue),l=>{var r,a;return _(),Q(Ce,{key:l.path},[((r=l.meta)==null?void 0:r.__preloaded)||l===E(ft)?Mr((_(),F(E(zr),{key:0,is:l==null?void 0:l.component,clicks:l===E(ft)?E(Ft):0,"clicks-elements":((a=l.meta)==null?void 0:a.__clicksElements)||[],"clicks-disabled":!1,class:Le(E(Wr)(l)),route:l,context:t.context},null,8,["is","clicks","clicks-elements","class","route","context"])),[[Ep,l===E(ft)]]):he("v-if",!0)],64)}),128)),he(" Global Top "),Z(E(au)),E(s)?(_(),F(E(s),{key:0})):he("v-if",!0),E(qt)?he("v-if",!0):(_(),F(Uv,{key:1}))],64))}}),zv=ke({__name:"Play",setup(t){S(M),Om();const s=K();function n(r){var a;Ti.value||((a=r.target)==null?void 0:a.id)==="slide-container"&&(r.screenX/window.innerWidth>.6?rs():as())}RE(s);const o=k(()=>q6.value||Ti.value);$t();const l=$t();return pn(()=>import("./DrawingControls.87634886.js"),["assets/DrawingControls.87634886.js","assets/DrawingControls.vue_vue_type_script_setup_true_lang.02452415.js"]).then(r=>l.value=r.default),(r,a)=>(_(),Q(Ce,null,[e("div",{id:"page-root",ref_key:"root",ref:s,class:"grid grid-cols-[1fr_max-content]",style:ot(E(xp))},[Z(ou,{class:"w-full h-full",style:ot({background:"var(--slidev-slide-container-background, black)"}),width:E(Zr)?E(Fs).width.value:void 0,scale:E(mo),onPointerdown:n},{default:$(()=>[Z(Wv,{context:"slide"})]),controls:$(()=>[e("div",{class:Le(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100",[E(o)?"opacity-100 right-0":"opacity-0 p-2",E(Vn)?"pointer-events-none":""]])},[Z(Hv,{class:"m-auto",persist:E(o)},null,8,["persist"])],2),!E(Ee).drawings.presenterOnly&&!E(Ut)&&E(l)?(_(),F(E(l),{key:0,class:"ml-0"})):he("v-if",!0)]),_:1},8,["style","width","scale"]),he("v-if",!0)],4),Z(Qm)],64))}});function cu(t){const s=k(()=>t.value.path),n=k(()=>Ue.length-1),o=k(()=>parseInt(s.value.split(/\//g).slice(-1)[0])||1),l=k(()=>Xo(o.value)),r=k(()=>Ue.find(y=>y.path===`${o.value}`)),a=k(()=>{var y,h,m;return(m=(h=(y=r.value)==null?void 0:y.meta)==null?void 0:h.slide)==null?void 0:m.id}),i=k(()=>{var y,h;return(h=(y=r.value)==null?void 0:y.meta)==null?void 0:h.layout}),p=k(()=>Ue.find(y=>y.path===`${Math.min(Ue.length,o.value+1)}`)),u=k(()=>Ue.filter(y=>{var h,m;return(m=(h=y.meta)==null?void 0:h.slide)==null?void 0:m.title}).reduce((y,h)=>(Qr(y,h),y),[])),d=k(()=>Gr(u.value,r.value)),f=k(()=>Jr(d.value));return{route:t,path:s,total:n,currentPage:o,currentPath:l,currentRoute:r,currentSlideId:a,currentLayout:i,nextRoute:p,rawTree:u,treeWithActiveStatuses:d,tree:f}}function pu(t,s,n){const o=K(0);Qe(()=>{vt.afterEach(async()=>{await Qe(),o.value+=1})});const l=k(()=>{var p,u;return o.value,((u=(p=s.value)==null?void 0:p.meta)==null?void 0:u.__clicksElements)||[]}),r=k(()=>{var p,u,d;return+((d=(u=(p=s.value)==null?void 0:p.meta)==null?void 0:u.clicks)!=null?d:l.value.length)}),a=k(()=>n.value<Ue.length-1||t.value<r.value),i=k(()=>n.value>1||t.value>0);return{clicks:t,clicksElements:l,clicksTotal:r,hasNext:a,hasPrev:i}}const Kv=["id"],Wi=ke({__name:"PrintSlideClick",props:{clicks:null,clicksElements:null,nav:null,route:null},emits:["update:clicksElements"],setup(t,{emit:s}){const n=t,o=Nt(n,"clicksElements",s),l=k(()=>({height:`${Cp}px`,width:`${Ss}px`})),r=$t();pn(()=>import("./DrawingPreview.eeca46d0.js"),[]).then(u=>r.value=u.default);const a=k(()=>n.clicks),i=pu(a,n.nav.currentRoute,n.nav.currentPage),p=k(()=>`${n.route.path.toString().padStart(3,"0")}-${(a.value+1).toString().padStart(2,"0")}`);return yt(M,Pe({nav:{...n.nav,...i},configs:Ee,themeConfigs:k(()=>Ee.themeConfig)})),(u,d)=>{var f;return _(),Q("div",{id:E(p),class:"slide-container",style:ot(E(l))},[Z(E(iu)),Z(E(zr),{is:(f=t.route)==null?void 0:f.component,"clicks-elements":E(o),"onUpdate:clicks-elements":d[0]||(d[0]=y=>De(o)?o.value=y:null),clicks:E(a),"clicks-disabled":!1,class:Le(E(Wr)(t.route)),route:t.route},null,8,["is","clicks-elements","clicks","class","route"]),E(r)?(_(),F(E(r),{key:0,page:+t.route.path},null,8,["page"])):he("v-if",!0),Z(E(au))],12,Kv)}}}),Yv=ke({__name:"PrintSlide",props:{route:null},setup(t){var r;const s=t;S(M);const n=Pe(((r=s.route.meta)==null?void 0:r.__clicksElements)||[]),o=k(()=>s.route),l=cu(o);return(a,i)=>(_(),Q(Ce,null,[Z(Wi,{"clicks-elements":n,"onUpdate:clicks-elements":i[0]||(i[0]=p=>De(n)?n.value=p:null),clicks:0,nav:E(l),route:E(o)},null,8,["clicks-elements","nav","route"]),E(Fn)?he("v-if",!0):(_(!0),Q(Ce,{key:0},Gn(n.length,p=>(_(),F(Wi,{key:p,clicks:p,nav:E(l),route:E(o)},null,8,["clicks","nav","route"]))),128))],64))}}),Zv={id:"print-content"},Qv=ke({__name:"PrintContainer",props:{width:null},setup(t){const s=t;S(M);const n=k(()=>s.width),o=k(()=>s.width/ls),l=k(()=>n.value/o.value),r=k(()=>l.value<ls?n.value/Ss:o.value*ls/Ss),a=Ue.slice(0,-1),i=k(()=>({"select-none":!Ee.selectable,"slidev-code-line-numbers":Ee.lineNumbers}));return yt(Bp,r),(p,u)=>(_(),Q("div",{id:"print-container",class:Le(E(i))},[e("div",Zv,[(_(!0),Q(Ce,null,Gn(E(a),d=>(_(),F(Yv,{key:d.path,route:d},null,8,["route"]))),128))]),cs(p.$slots,"controls")],2))}});const Gv=ke({__name:"Print",setup(t){S(M);const s=Ds.canvasWidth,n=Math.round(s/Ds.aspectRatio)+1;function o(l,{slots:r}){if(r.default)return mt("style",r.default())}return Qn(()=>{Zr?document.body.parentNode.classList.add("print"):document.body.parentNode.classList.remove("print")}),(l,r)=>(_(),Q(Ce,null,[Z(o,null,{default:$(()=>[c(" @page { size: "+$s(E(s))+"px "+$s(n)+"px; margin: 0px; } ",1)]),_:1}),e("div",{id:"page-root",class:"grid grid-cols-[1fr_max-content]",style:ot(E(xp))},[Z(Qv,{class:"w-full h-full",style:ot({background:"var(--slidev-slide-container-background, black)"}),width:E(Fs).width.value},null,8,["style","width"])],4)],64))}});const Jv={class:"slidev-layout end"},Xv={__name:"end",setup(t){return S(M),(s,n)=>(_(),Q("div",Jv," END "))}},eA=ru(Xv,[["__scopeId","data-v-ab32435f"]]),tA="/owasp-top-ten-workshop/images/nearform.svg",sA="/owasp-top-ten-workshop/assets/owasp.8902e583.png",nA={class:"slidev-layout default"},z={__name:"default",setup(t){return S(M),(s,n)=>(_(),Q("div",nA,[cs(s.$slots,"default")]))}},oA=e("img",{class:"logo",src:tA},null,-1),lA=e("h1",null,"OWASP Top Ten Security Vulnerabilities Workshop",-1),rA=e("img",{src:sA,style:{width:"30%"}},null,-1),aA=e("div",{class:"copyright"},[e("p",null,"\xA9 Copyright 2022 NearForm Ltd. All Rights Reserved.")],-1),iA={__name:"1",setup(t){const s={theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[oA,lA,rA,aA]),_:1},16))}},cA=e("h1",null,"Introduction: OWASP",-1),pA=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("p",null,"The Open Web Application Security Project (OWASP) is a nonprofit foundation that works to improve the security of software")]),e("li",null,[e("p",null,"OWASP has community-led open-source software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences")])])],-1),uA={__name:"2",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[cA,pA]),_:1},16))}},dA=e("h1",null,"Introduction: OWASP Top Ten",-1),fA=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("The "),e("a",{href:"https://owasp.org/Top10/",target:"_blank",rel:"noopener"},"OWASP Top Ten"),c(" is a standard awareness document for developers and web application security")]),e("li",null,"It represents a broad consensus about the most critical security risks to web applications")])],-1),yA={__name:"3",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[dA,fA]),_:1},16))}},hA=e("h1",null,"Workshop Setup",-1),mA=e("div",{class:"dense"},[e("ul",null,[e("li",null,"This workshop will explain each of the 10 vulnerabilities"),e("li",null,"There is a Fastify node.js server demonstrating the security issues"),e("li",null,"At each step you are asked to fix the vulnerability in the server"),e("li",null,[c("You will find the solution to each step in the "),e("code",null,"src/a{n}-{name}"),c(" folder")]),e("li",null,"The \u{1F4A1} icon indicates hints")])],-1),gA={__name:"4",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[hA,mA]),_:1},16))}},vA={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},AA=e("path",{fill:"currentColor",d:"M200 32h-36.3a47.8 47.8 0 0 0-71.4 0H56a16 16 0 0 0-16 16v168a16 16 0 0 0 16 16h144a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Zm-72 0a32.1 32.1 0 0 1 32 32H96a32.1 32.1 0 0 1 32-32Zm72 184H56V48h26.8A47.2 47.2 0 0 0 80 64v8a8 8 0 0 0 8 8h80a8 8 0 0 0 8-8v-8a47.2 47.2 0 0 0-2.8-16H200Z"},null,-1),_A=[AA];function wA(t,s){return _(),Q("svg",vA,_A)}const EA={name:"ph-clipboard",render:wA},bA={class:"slidev-icon",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},DA=e("path",{fill:"currentColor",d:"M177.8 98.5a8 8 0 0 1-.3 11.3l-58.6 56a8.1 8.1 0 0 1-5.6 2.2a7.9 7.9 0 0 1-5.5-2.2l-29.3-28a8 8 0 1 1 11-11.6l23.8 22.7l53.2-50.7a8 8 0 0 1 11.3.3ZM232 128A104 104 0 1 1 128 24a104.2 104.2 0 0 1 104 104Zm-16 0a88 88 0 1 0-88 88a88.1 88.1 0 0 0 88-88Z"},null,-1),BA=[DA];function CA(t,s){return _(),Q("svg",bA,BA)}const xA={name:"ph-check-circle",render:CA};/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function uu(t){return typeof t>"u"||t===null}function kA(t){return typeof t=="object"&&t!==null}function SA(t){return Array.isArray(t)?t:uu(t)?[]:[t]}function OA(t,s){var n,o,l,r;if(s)for(r=Object.keys(s),n=0,o=r.length;n<o;n+=1)l=r[n],t[l]=s[l];return t}function FA(t,s){var n="",o;for(o=0;o<s;o+=1)n+=t;return n}function $A(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var TA=uu,PA=kA,MA=SA,IA=FA,RA=$A,LA=OA,Kr={isNothing:TA,isObject:PA,toArray:MA,repeat:IA,isNegativeZero:RA,extend:LA};function du(t,s){var n="",o=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!s&&t.mark.snippet&&(n+=`

`+t.mark.snippet),o+" "+n):o}function Wn(t,s){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=s,this.message=du(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Wn.prototype=Object.create(Error.prototype);Wn.prototype.constructor=Wn;Wn.prototype.toString=function(s){return this.name+": "+du(this,s)};var Es=Wn,qA=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],NA=["scalar","sequence","mapping"];function jA(t){var s={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(o){s[String(o)]=n})}),s}function HA(t,s){if(s=s||{},Object.keys(s).forEach(function(n){if(qA.indexOf(n)===-1)throw new Es('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=s,this.tag=t,this.kind=s.kind||null,this.resolve=s.resolve||function(){return!0},this.construct=s.construct||function(n){return n},this.instanceOf=s.instanceOf||null,this.predicate=s.predicate||null,this.represent=s.represent||null,this.representName=s.representName||null,this.defaultStyle=s.defaultStyle||null,this.multi=s.multi||!1,this.styleAliases=jA(s.styleAliases||null),NA.indexOf(this.kind)===-1)throw new Es('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Je=HA;function zi(t,s){var n=[];return t[s].forEach(function(o){var l=n.length;n.forEach(function(r,a){r.tag===o.tag&&r.kind===o.kind&&r.multi===o.multi&&(l=a)}),n[l]=o}),n}function VA(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},s,n;function o(l){l.multi?(t.multi[l.kind].push(l),t.multi.fallback.push(l)):t[l.kind][l.tag]=t.fallback[l.tag]=l}for(s=0,n=arguments.length;s<n;s+=1)arguments[s].forEach(o);return t}function nr(t){return this.extend(t)}nr.prototype.extend=function(s){var n=[],o=[];if(s instanceof Je)o.push(s);else if(Array.isArray(s))o=o.concat(s);else if(s&&(Array.isArray(s.implicit)||Array.isArray(s.explicit)))s.implicit&&(n=n.concat(s.implicit)),s.explicit&&(o=o.concat(s.explicit));else throw new Es("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(r){if(!(r instanceof Je))throw new Es("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(r.loadKind&&r.loadKind!=="scalar")throw new Es("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(r.multi)throw new Es("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(r){if(!(r instanceof Je))throw new Es("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var l=Object.create(nr.prototype);return l.implicit=(this.implicit||[]).concat(n),l.explicit=(this.explicit||[]).concat(o),l.compiledImplicit=zi(l,"implicit"),l.compiledExplicit=zi(l,"explicit"),l.compiledTypeMap=VA(l.compiledImplicit,l.compiledExplicit),l};var UA=nr,WA=new Je("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),zA=new Je("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),KA=new Je("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),YA=new UA({explicit:[WA,zA,KA]});function ZA(t){if(t===null)return!0;var s=t.length;return s===1&&t==="~"||s===4&&(t==="null"||t==="Null"||t==="NULL")}function QA(){return null}function GA(t){return t===null}var JA=new Je("tag:yaml.org,2002:null",{kind:"scalar",resolve:ZA,construct:QA,predicate:GA,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function XA(t){if(t===null)return!1;var s=t.length;return s===4&&(t==="true"||t==="True"||t==="TRUE")||s===5&&(t==="false"||t==="False"||t==="FALSE")}function e0(t){return t==="true"||t==="True"||t==="TRUE"}function t0(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var s0=new Je("tag:yaml.org,2002:bool",{kind:"scalar",resolve:XA,construct:e0,predicate:t0,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function n0(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function o0(t){return 48<=t&&t<=55}function l0(t){return 48<=t&&t<=57}function r0(t){if(t===null)return!1;var s=t.length,n=0,o=!1,l;if(!s)return!1;if(l=t[n],(l==="-"||l==="+")&&(l=t[++n]),l==="0"){if(n+1===s)return!0;if(l=t[++n],l==="b"){for(n++;n<s;n++)if(l=t[n],l!=="_"){if(l!=="0"&&l!=="1")return!1;o=!0}return o&&l!=="_"}if(l==="x"){for(n++;n<s;n++)if(l=t[n],l!=="_"){if(!n0(t.charCodeAt(n)))return!1;o=!0}return o&&l!=="_"}if(l==="o"){for(n++;n<s;n++)if(l=t[n],l!=="_"){if(!o0(t.charCodeAt(n)))return!1;o=!0}return o&&l!=="_"}}if(l==="_")return!1;for(;n<s;n++)if(l=t[n],l!=="_"){if(!l0(t.charCodeAt(n)))return!1;o=!0}return!(!o||l==="_")}function a0(t){var s=t,n=1,o;if(s.indexOf("_")!==-1&&(s=s.replace(/_/g,"")),o=s[0],(o==="-"||o==="+")&&(o==="-"&&(n=-1),s=s.slice(1),o=s[0]),s==="0")return 0;if(o==="0"){if(s[1]==="b")return n*parseInt(s.slice(2),2);if(s[1]==="x")return n*parseInt(s.slice(2),16);if(s[1]==="o")return n*parseInt(s.slice(2),8)}return n*parseInt(s,10)}function i0(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Kr.isNegativeZero(t)}var c0=new Je("tag:yaml.org,2002:int",{kind:"scalar",resolve:r0,construct:a0,predicate:i0,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),p0=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function u0(t){return!(t===null||!p0.test(t)||t[t.length-1]==="_")}function d0(t){var s,n;return s=t.replace(/_/g,"").toLowerCase(),n=s[0]==="-"?-1:1,"+-".indexOf(s[0])>=0&&(s=s.slice(1)),s===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:s===".nan"?NaN:n*parseFloat(s,10)}var f0=/^[-+]?[0-9]+e/;function y0(t,s){var n;if(isNaN(t))switch(s){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(s){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(s){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Kr.isNegativeZero(t))return"-0.0";return n=t.toString(10),f0.test(n)?n.replace("e",".e"):n}function h0(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Kr.isNegativeZero(t))}var m0=new Je("tag:yaml.org,2002:float",{kind:"scalar",resolve:u0,construct:d0,predicate:h0,represent:y0,defaultStyle:"lowercase"}),g0=YA.extend({implicit:[JA,s0,c0,m0]}),v0=g0,fu=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),yu=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function A0(t){return t===null?!1:fu.exec(t)!==null||yu.exec(t)!==null}function _0(t){var s,n,o,l,r,a,i,p=0,u=null,d,f,y;if(s=fu.exec(t),s===null&&(s=yu.exec(t)),s===null)throw new Error("Date resolve error");if(n=+s[1],o=+s[2]-1,l=+s[3],!s[4])return new Date(Date.UTC(n,o,l));if(r=+s[4],a=+s[5],i=+s[6],s[7]){for(p=s[7].slice(0,3);p.length<3;)p+="0";p=+p}return s[9]&&(d=+s[10],f=+(s[11]||0),u=(d*60+f)*6e4,s[9]==="-"&&(u=-u)),y=new Date(Date.UTC(n,o,l,r,a,i,p)),u&&y.setTime(y.getTime()-u),y}function w0(t){return t.toISOString()}var E0=new Je("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:A0,construct:_0,instanceOf:Date,represent:w0});function b0(t){return t==="<<"||t===null}var D0=new Je("tag:yaml.org,2002:merge",{kind:"scalar",resolve:b0}),Yr=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function B0(t){if(t===null)return!1;var s,n,o=0,l=t.length,r=Yr;for(n=0;n<l;n++)if(s=r.indexOf(t.charAt(n)),!(s>64)){if(s<0)return!1;o+=6}return o%8===0}function C0(t){var s,n,o=t.replace(/[\r\n=]/g,""),l=o.length,r=Yr,a=0,i=[];for(s=0;s<l;s++)s%4===0&&s&&(i.push(a>>16&255),i.push(a>>8&255),i.push(a&255)),a=a<<6|r.indexOf(o.charAt(s));return n=l%4*6,n===0?(i.push(a>>16&255),i.push(a>>8&255),i.push(a&255)):n===18?(i.push(a>>10&255),i.push(a>>2&255)):n===12&&i.push(a>>4&255),new Uint8Array(i)}function x0(t){var s="",n=0,o,l,r=t.length,a=Yr;for(o=0;o<r;o++)o%3===0&&o&&(s+=a[n>>18&63],s+=a[n>>12&63],s+=a[n>>6&63],s+=a[n&63]),n=(n<<8)+t[o];return l=r%3,l===0?(s+=a[n>>18&63],s+=a[n>>12&63],s+=a[n>>6&63],s+=a[n&63]):l===2?(s+=a[n>>10&63],s+=a[n>>4&63],s+=a[n<<2&63],s+=a[64]):l===1&&(s+=a[n>>2&63],s+=a[n<<4&63],s+=a[64],s+=a[64]),s}function k0(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var S0=new Je("tag:yaml.org,2002:binary",{kind:"scalar",resolve:B0,construct:C0,predicate:k0,represent:x0}),O0=Object.prototype.hasOwnProperty,F0=Object.prototype.toString;function $0(t){if(t===null)return!0;var s=[],n,o,l,r,a,i=t;for(n=0,o=i.length;n<o;n+=1){if(l=i[n],a=!1,F0.call(l)!=="[object Object]")return!1;for(r in l)if(O0.call(l,r))if(!a)a=!0;else return!1;if(!a)return!1;if(s.indexOf(r)===-1)s.push(r);else return!1}return!0}function T0(t){return t!==null?t:[]}var P0=new Je("tag:yaml.org,2002:omap",{kind:"sequence",resolve:$0,construct:T0}),M0=Object.prototype.toString;function I0(t){if(t===null)return!0;var s,n,o,l,r,a=t;for(r=new Array(a.length),s=0,n=a.length;s<n;s+=1){if(o=a[s],M0.call(o)!=="[object Object]"||(l=Object.keys(o),l.length!==1))return!1;r[s]=[l[0],o[l[0]]]}return!0}function R0(t){if(t===null)return[];var s,n,o,l,r,a=t;for(r=new Array(a.length),s=0,n=a.length;s<n;s+=1)o=a[s],l=Object.keys(o),r[s]=[l[0],o[l[0]]];return r}var L0=new Je("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:I0,construct:R0}),q0=Object.prototype.hasOwnProperty;function N0(t){if(t===null)return!0;var s,n=t;for(s in n)if(q0.call(n,s)&&n[s]!==null)return!1;return!0}function j0(t){return t!==null?t:{}}var H0=new Je("tag:yaml.org,2002:set",{kind:"mapping",resolve:N0,construct:j0});v0.extend({implicit:[E0,D0],explicit:[S0,P0,L0,H0]});function Ki(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}var V0=new Array(256),U0=new Array(256);for(var Ns=0;Ns<256;Ns++)V0[Ns]=Ki(Ns)?1:0,U0[Ns]=Ki(Ns);function W0(t){return Array.from(new Set(t))}function Yi(...t){let s,n,o;t.length===1?(s=0,o=1,[n]=t):[s,n,o=1]=t;const l=[];let r=s;for(;r<n;)l.push(r),r+=o||1;return l}function z0(t,s){if(!s||s==="all"||s==="*")return Yi(1,t+1);const n=[];for(const o of s.split(/[,;]/g))if(!o.includes("-"))n.push(+o);else{const[l,r]=o.split("-",2);n.push(...Yi(+l,r?+r+1:t+1))}return W0(n).filter(o=>o<=t).sort((o,l)=>o-l)}const K0=["title"],et=ke({__name:"CodeBlockWrapper",props:{ranges:{default:()=>[]},at:{type:Number,default:void 0},maxHeight:{type:String,default:void 0}},setup(t){const s=t;S(M);const n=S(Cn),o=S(ws),l=S(xn);function r(f=5){const y=[],h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",m=h.length;for(let w=0;w<f;w++)y.push(h.charAt(Math.floor(Math.random()*m)));return y.join("")}const a=K(),i=us();cn(()=>{const f=s.at==null?o==null?void 0:o.value.length:s.at,y=k(()=>l!=null&&l.value?s.ranges.length-1:Math.min(Math.max(0,((n==null?void 0:n.value)||0)-(f||0)),s.ranges.length-1)),h=k(()=>s.ranges[y.value]||"");if(s.ranges.length>=2&&!(l!=null&&l.value)){const m=r(),w=Yy(s.ranges.length-1).map(A=>m+A);o!=null&&o.value&&(o.value.push(...w),Zo(()=>w.forEach(A=>Ul(o.value,A)),i))}Qn(()=>{if(!a.value)return;const w=a.value.querySelector(".shiki-dark")?Array.from(a.value.querySelectorAll(".shiki")):[a.value];for(const A of w){const C=Array.from(A.querySelectorAll(".line")),B=z0(C.length,h.value);if(C.forEach((b,x)=>{const q=B.includes(x+1);b.classList.toggle(vs,!0),b.classList.toggle("highlighted",q),b.classList.toggle("dishonored",!q)}),s.maxHeight){const b=A.querySelector(".line.highlighted");b&&b.scrollIntoView({behavior:"smooth",block:"center"})}}})});const{copied:p,copy:u}=Gh();function d(){var y,h;const f=(h=(y=a.value)==null?void 0:y.querySelector(".slidev-code"))==null?void 0:h.textContent;f&&u(f)}return(f,y)=>{const h=xA,m=EA;return _(),Q("div",{ref_key:"el",ref:a,class:"slidev-code-wrapper relative group",style:ot({"max-height":s.maxHeight,"overflow-y":s.maxHeight?"scroll":void 0})},[cs(f.$slots,"default"),E(Ee).codeCopy?(_(),Q("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:E(p)?"Copied":"Copy",onClick:y[0]||(y[0]=w=>d())},[E(p)?(_(),F(h,{key:0,class:"p-2 w-8 h-8"})):(_(),F(m,{key:1,class:"p-2 w-8 h-8"}))],8,K0)):he("v-if",!0)],4)}}}),Y0=e("h1",null,"Getting setup",-1),Z0={class:"dense"},Q0=e("h4",null,"Requirements",-1),G0=e("br",null,null,-1),J0=e("ul",null,[e("li",null,"Node LTS"),e("li",null,"docker"),e("li",null,"docker-compose"),e("li",null,"Postman (if you want to be able to test vulnerabilities)")],-1),X0=e("h4",null,"Setup",-1),e_=e("br",null,null,-1),t_=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"git clone https://github.com/nearform/owasp-top-ten-workshop")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"npm ci")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"npm run db:up")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"npm run db:migrate")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"git clone https://github.com/nearform/owasp-top-ten-workshop")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"npm ci")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"npm run db:up")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"npm run db:migrate")])])])],-1),s_={__name:"5",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[Y0,e("div",Z0,[Q0,G0,J0,X0,e_,Z(l,Ne({},{ranges:[""]}),{default:$(()=>[t_]),_:1},16)])]),_:1},16)}}},n_=e("h1",null,"Running the modules",-1),o_=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("code",null,"cd src/a{x}-step-name")]),e("li",null,[e("code",null,"npm start"),c(" will run the server ready to respond to requests")]),e("li",null,[e("code",null,"npm run verify"),c(" will run automated tests that fail by default until this step\u2019s issue is solved")]),e("li",null,"Check out README.md in the projects for potential additional info")])],-1),l_=e("h3",null,"Example",-1),r_=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#B8A965"}},"cd"),e("span",{style:{color:"#DBD7CAEE"}}," src/a-01-access-control")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"npm start")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#998418"}},"cd"),e("span",{style:{color:"#393A34"}}," src/a-01-access-control")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"npm start")])])])],-1),a_=e("p",null,[c("The server for that step will run on "),e("a",{href:"http://localhost:3000",target:"_blank",rel:"noopener"},"http://localhost:3000")],-1),i_={__name:"6",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[n_,o_,l_,Z(l,Ne({},{ranges:[""]}),{default:$(()=>[r_]),_:1},16),a_]),_:1},16)}}},c_=e("h1",null,"Testing the vulnerabilities",-1),p_=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests"),e("li",null,[c("The "),e("code",null,"postman"),c(" folder contains a collection that can be imported into Postman to easily send those requests")]),e("li",null,[c("The Postman collection is pre-logged in with user "),e("code",null,"alice")])])],-1),u_={__name:"7",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[c_,p_]),_:1},16))}},d_=e("h1",null,"Automated testing",-1),f_=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Some vulnerabilities have automated tests which verify the presence of the vulnerability"),e("li",null,"Those tests will fail until you fix the vulnerability"),e("li",null,[e("code",null,"npm run verify"),c(" in a step\u2019s folder")])])],-1),y_={__name:"8",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[d_,f_]),_:1},16))}},h_=e("h1",null,"A01: Broken Access Control",-1),m_=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A01_2021-Broken_Access_Control/",target:"_blank",rel:"noopener"},"AO1:2021 - Broken Access Control")]),e("li",null,"User should only act based on specific permissions"),e("li",null,"Incorrect permissions -> unauthorised access of data")])],-1),g_={__name:"9",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[h_,m_]),_:1},16))}},v_=e("h1",null,"A01 Broken Access Control (2): Common vulnerabilities",-1),A_=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Not applying principle of least privilege"),e("li",null,"Checks can be bypassed by tampering with page or request"),e("li",null,"Allowing access to someone else\u2019s info by knowing the UUID"),e("li",null,"CORS allows untrusted origins")])],-1),__={__name:"10",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[v_,A_]),_:1},16))}},w_=e("h1",null,"A01 Broken Access Control (3): How to Prevent",-1),E_=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Deny access by default"),e("li",null,"Avoid duplication of access control logic"),e("li",null,"Enforce user ownership when manipulating data")])],-1),b_={__name:"11",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[w_,E_]),_:1},16))}},D_=e("h1",null,"A01 Exercise",-1),B_={class:"dense"},C_=e("ul",null,[e("li",null,[c("The "),e("code",null,"/profile"),c(" route returns sensitive user data")]),e("li",null,[c("It takes a "),e("code",null,"username"),c(" query parameter to return the user\u2019s info")])],-1),x_=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#dbd7caee"}},"GET http://localhost:3000/profile?user=alice")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#393a34"}},"GET http://localhost:3000/profile?user=alice")])])])],-1),k_=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"id"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"1"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"alice"),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"age"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"23")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"id"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"1"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"alice"),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"age"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"23")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),S_={__name:"12",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[D_,e("div",B_,[C_,x_,Z(l,Ne({},{ranges:[""]}),{default:$(()=>[k_]),_:1},16)])]),_:1},16)}}},O_=e("h1",null,"A01 Exercise (2): The problem",-1),F_={class:"dense"},$_=e("ul",null,[e("li",null,[c("Run the server for step 1 ("),e("code",null,"cd src/a01-access-control"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,"In Postman, run the query for A01: Access Control. Observe the data for Alice being returned"),e("li",null,[c("Now change the "),e("code",null,"username"),c(" query parameter to "),e("code",null,"bob"),c(". Result:")])],-1),T_=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"id"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"2"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"bob"),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"age"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"31")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"id"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"2"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"bob"),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"age"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"31")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),P_=e("ul",null,[e("li",null,"Bob\u2019s data is being exposed! Remember we\u2019re logged in as Alice and shouldn\u2019t see Bob\u2019s data")],-1),M_={__name:"13",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[O_,e("div",F_,[$_,Z(l,Ne({},{ranges:[""]}),{default:$(()=>[T_]),_:1},16),P_])]),_:1},16)}}},I_=e("h1",null,"A01 Exercise (3): Fixing it",-1),R_=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the automated tests for step 1 - "),e("code",null,"npm run verify")]),e("li",null,"The tests fail because the server shouldn\u2019t return Bob\u2019s data"),e("li",null,[c("Edit the "),e("code",null,"/profile"),c(" route in the exercise folder to return the user\u2019s profile without exposing other people\u2019s profiles")]),e("li",null,[c("\u{1F4A1} The server uses "),e("a",{href:"https://github.com/fastify/fastify-jwt",target:"_blank",rel:"noopener"},"fastify-jwt"),c(" to handle authentication")])])],-1),L_={__name:"14",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[I_,R_]),_:1},16))}},q_=e("h1",null,"A01 Exercise (4): Solution",-1),N_={class:"dense"},j_=e("ul",null,[e("li",null,[c("The issue comes from the usage of a user-supplied "),e("code",null,"query"),c(" parameter to choose which profile\u2019s info to check")]),e("li",null,"The server should instead fetch the logged-in user\u2019s info")],-1),H_=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// routes/profile/index.js")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"user"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"      "),e("span",{style:{color:"#758575DD"}},"// We get the username from the logged in user, not from the query")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// \u{1F4A1} <-- The fix is here!")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"      "),e("span",{style:{color:"#758575DD"}},"// (Skipping the rest of the function...)")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"user")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"//...")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// routes/profile/index.js")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"user"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"      "),e("span",{style:{color:"#A0ADA0"}},"// We get the username from the logged in user, not from the query")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// \u{1F4A1} <-- The fix is here!")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"      "),e("span",{style:{color:"#A0ADA0"}},"// (Skipping the rest of the function...)")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"user")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"//...")])])])],-1),V_={__name:"15",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[q_,e("div",N_,[j_,Z(l,Ne({},{ranges:[""]}),{default:$(()=>[H_]),_:1},16)])]),_:1},16)}}},U_=e("h1",null,"A02: Cryptographic Failures",-1),W_=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A02_2021-Cryptographic_Failures/",target:"_blank",rel:"noopener"},"A02: Cryptographic Failures")]),e("li",null,"Weak or inexistent of cryptography of sensitive data"),e("li",null,"Passwords, credit card numbers, health records, personal information, business secrets\u2026"),e("li",null,"Anything protected by privacy laws or other regulations")])],-1),z_={__name:"16",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[U_,W_]),_:1},16))}},K_=e("h1",null,"A02 Cryptographic Failures (2): Common vulnerabilities",-1),Y_=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Weak or outdated cryptographic algorithms like md5"),e("li",null,"Weak secret keys, default ones, keys from online tutorials, keys checked in source control\u2026"),e("li",null,"Lack of traffic encryption (HTTPS)"),e("li",null,"Insufficient entropy in seed generation")])],-1),Z_={__name:"17",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[K_,Y_]),_:1},16))}},Q_=e("h1",null,"A02 Cryptographic Failures (3): How to Prevent",-1),G_=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Check sensitive data is well encrypted. Avoid storing sensitive data unnecessarily"),e("li",null,"Use up to date and strong standard algorithms"),e("li",null,"Proper key/secrets management (no checking private keys in git)"),e("li",null,"Disable caching for responses that contain sensitive data")])],-1),J_={__name:"18",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[Q_,G_]),_:1},16))}},X_=e("h1",null,"A02 Exercise: a weak hashing algorithm",-1),e1={class:"dense"},t1=e("ul",null,[e("li",null,[c("The "),e("code",null,"/all-data"),c(" endpoint returns all users and their passwords (encrypted in md5). Imagine this as a data breach")]),e("li",null,[c("Result of the "),e("code",null,"all-data"),c(" endpoint")])],-1),s1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"[")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"bob"),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"password"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"884a22eb30e5cfd71894d43ac553faa5"),e("span",{style:{color:"#C98A7DAA"}},'"')]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"alice"),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"password"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"5e9d11a14ad1c8dd77e98ef9b53fd1ba"),e("span",{style:{color:"#C98A7DAA"}},'"')]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"]")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"[")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"bob"),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"password"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"884a22eb30e5cfd71894d43ac553faa5"),e("span",{style:{color:"#B56959AA"}},'"')]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"alice"),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"password"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"5e9d11a14ad1c8dd77e98ef9b53fd1ba"),e("span",{style:{color:"#B56959AA"}},'"')]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"]")])])])],-1),n1={__name:"19",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[X_,e("div",e1,[t1,Z(l,Ne({},{ranges:[""]}),{default:$(()=>[s1]),_:1},16)])]),_:1},16)}}},o1=e("h1",null,"A02 Exercise (2): The problem",-1),l1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Using the "),e("code",null,"/all-data"),c(" route, find Alice\u2019s encrypted password")]),e("li",null,"With this encrypted password hash, try to find the original unencrypted password Alice created"),e("li",null,"the Postman collection contains requests for doing the queries"),e("li",null,"\u{1F4A1} There are websites to decrypt md5")])],-1),r1={__name:"20",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[o1,l1]),_:1},16))}},a1=e("h1",null,"A02 Exercise (3): Fixing it",-1),i1=e("div",{class:"dense"},[e("ul",null,[e("li",null,"md5 encryption is vulnerable and shouldn\u2019t be used"),e("li",null,[c("In "),e("code",null,"src/a02-cryptographic-failure"),c(", fix the encryption used to be a strong algorithm instead of md5")]),e("li",null,[c("Using "),e("a",{href:"https://www.npmjs.com/package/bcrypt",target:"_blank",rel:"noopener"},"bcrypt"),c(" is a good idea for passwords")]),e("li",null,[c("The application exposes a "),e("code",null,"/change-password"),c(" route used to change a user\u2019s password")]),e("li",null,[c("Make sure the tests pass: "),e("code",null,"npm run verify")])])],-1),c1={__name:"21",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[a1,i1]),_:1},16))}},p1=e("h1",null,"A02 Exercise (4): Solution",-1),u1={class:"dense"},d1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// utils/encryption.js")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"saltRounds"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"10")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"encryptPassword"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#B8A965"}},"Promise"),e("span",{style:{color:"#666666"}},"(("),e("span",{style:{color:"#BF9763"}},"resolve"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"reject"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#BF9763"}},"bcrypt"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"genSalt"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"saltRounds"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"err"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"salt"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BF9763"}},"bcrypt"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"hash"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"salt"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"err"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"hash"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"err"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"          "),e("span",{style:{color:"#80A665"}},"reject"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"err"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"else"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"          "),e("span",{style:{color:"#80A665"}},"resolve"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"hash"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"comparePassword"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"hash"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#B8A965"}},"Promise"),e("span",{style:{color:"#666666"}},"(("),e("span",{style:{color:"#BF9763"}},"resolve"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"reject"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#BF9763"}},"bcrypt"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"compare"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"hash"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"err"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"result"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"err"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#80A665"}},"reject"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"err"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"else"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#80A665"}},"resolve"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"result"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// utils/encryption.js")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"saltRounds"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"10")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"encryptPassword"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#998418"}},"Promise"),e("span",{style:{color:"#999999"}},"(("),e("span",{style:{color:"#B07D48"}},"resolve"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"reject"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B07D48"}},"bcrypt"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"genSalt"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"saltRounds"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"err"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"salt"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"bcrypt"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"hash"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"salt"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"err"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"err"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"          "),e("span",{style:{color:"#59873A"}},"reject"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"err"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"else"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"          "),e("span",{style:{color:"#59873A"}},"resolve"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"comparePassword"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#998418"}},"Promise"),e("span",{style:{color:"#999999"}},"(("),e("span",{style:{color:"#B07D48"}},"resolve"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"reject"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B07D48"}},"bcrypt"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"compare"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"err"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"result"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"err"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#59873A"}},"reject"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"err"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"else"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#59873A"}},"resolve"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"result"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),f1={__name:"22",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[p1,e("div",u1,[Z(l,Ne({},{ranges:[""]}),{default:$(()=>[d1]),_:1},16)])]),_:1},16)}}},y1=e("h1",null,"A03: Injection \u{1F489}",-1),h1=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server"),e("li",null,"Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover."),e("li",null,[c("Common targets: "),e("strong",null,"SQL, NoSQL, ORM, LDAP, JS eval")])])],-1),m1={__name:"23",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[y1,h1]),_:1},16))}},g1=e("h1",null,"A03 Injection \u{1F489}: Common vulnerabilities",-1),v1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Lack of validation or "),e("strong",null,"sanitization"),c(" of user input")]),e("li",null,[c("Dynamic queries or non-parameterized calls without context-aware "),e("strong",null,"escaping"),c(" are used directly in the interpreter")]),e("li",null,[c("Hostile data is used within object-relational mapping (ORM) "),e("strong",null,"search parameters"),c(" to extract additional, sensitive records")])])],-1),A1={__name:"24",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[g1,v1]),_:1},16))}},_1=e("h1",null,"A03 Injection \u{1F489}: Attack",-1),w1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the server for step 3 ("),e("code",null,"cd src/a03-injection"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,[c("In Postman, run the query for "),e("code",null,"A03: Get customer by name"),c(". Observe the data for "),e("code",null,'name: "alice"'),c(" being returned")]),e("li",null,[c("Try to run the query for "),e("code",null,"A03: SQL Injection"),c(". Observe all the customers being returned")]),e("li",null,[c("The query param value "),e("code",null,"' OR '1'='1"),c(" takes advantage of the unsafe string concatenation to create this SQL query "),e("code",null,"SELECT * FROM customers WHERE name='' OR '1'='1'"),c(" which will return every record in the table")])])],-1),E1={__name:"25",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[_1,w1]),_:1},16))}},b1=e("h1",null,"A03 Injection \u{1F489}: Fixing it",-1),D1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Prefer using a safe API that "),e("strong",null,"sanitizes input"),c(" e.g "),e("code",null,"@nearform/sql")]),e("li",null,[e("strong",null,"Escape special characters"),c(" using the specific escape syntax for that interpreter")]),e("li",null,"Avoid user-supplied table names or column names as they cannot be escaped"),e("li",null,[e("strong",null,"Automated testing"),c(" of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged")])])],-1),B1={__name:"26",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[b1,D1]),_:1},16))}},C1=e("h1",null,"A03 Injection \u{1F489}: Solution",-1),x1={class:"dense"},k1=e("ul",null,[e("li",null,[c("The "),e("code",null,"@nearform/sql"),c(" library escapes special characters contained in the user\u2019s input")])],-1),S1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// import SQL from '@nearform/sql'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"customer"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/customer"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"name"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"query")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"customers"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT * FROM customers WHERE name="),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"name"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7DAA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"customers"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#B8A965"}},"length"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"NotFound"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"customers")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// import SQL from '@nearform/sql'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"customer"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/customer"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"name"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"query")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"customers"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT * FROM customers WHERE name="),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"name"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959AA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"customers"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#998418"}},"length"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"NotFound"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"customers")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),O1={__name:"27",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[C1,e("div",x1,[k1,Z(l,Ne({},{ranges:[""]}),{default:$(()=>[S1]),_:1},16)])]),_:1},16)}}},F1=e("h1",null,"A04: Insecure Design",-1),$1=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Fundamental design flaws of the software can cause security issues"),e("li",null,"Those issues cannot be fixed by a better more secure code implementation"),e("li",null,"Failure to determine the clevel of security design required during design")])],-1),T1={__name:"28",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[F1,$1]),_:1},16))}},P1=e("h1",null,"A04 Insecure Design: Examples",-1),M1=e("div",{class:"dense"},[e("ul",null,[e("li",null,'A forgotten password flow with "security questions" is insecure by design because more than one person can know the answer'),e("li",null,"An ecommerce website sells high-end video cards that scalpers buy with bots to resell, causing bad PR with customers. Most websites wouldn\u2019t need to design against bots, but due to the nature of the product being sold this one does"),e("li",null,"A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make hundreds of small booking requests at once to block all seats, causing massive revenue loss")])],-1),I1=e("h1",null,"A04 Insecure Design: How to prevent",-1),R1=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Model threats for the application, all its flows and business logic"),e("li",null,"Continuously evaluate security requirement and design during the development lifecycle"),e("li",null,"Consider security rules and access controls for every user story"),e("li",null,"Use unit and integration tests to verify the application is resistant to the threat model")])],-1),L1={__name:"29",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[P1,M1,I1,R1]),_:1},16))}},q1=e("h1",null,"A04 Exercise",-1),N1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("The "),e("code",null,"/buy-product"),c(" endpoint does not have protection against bots run by scalpers")]),e("li",null,"It means that someone can buy a lot of stock quickly and leave legitimate customers without any")])],-1),j1={__name:"30",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[q1,N1]),_:1},16))}},H1=e("h1",null,"A04 Exercise: Simulating multiple purchases in a short time frame",-1),V1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the server for step 4 ("),e("code",null,"cd src/a04-insecure-design"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,[c("In Postman, run the query for "),e("code",null,"A04: Buy product"),c(". Observe the data for "),e("code",null,"success: true"),c(" being returned")]),e("li",null,"Run the query many times in a row in a short period of time"),e("li",null,"Notice that there is no protection against multiple sequential purchases")])],-1),U1={__name:"31",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[H1,V1]),_:1},16))}},W1=e("h1",null,"A04 Exercise: Fixing it",-1),z1=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Prefer using rate limiter for your routes"),e("li",null,[c("Using "),e("a",{href:"https://github.com/fastify/fastify-rate-limit",target:"_blank",rel:"noopener"},[e("code",null,"fastify-rate-limit")]),c(" is a good idea for setting a rate limit")]),e("li",null,"Let\u2019s consider a scenario where a user can buy a maximum of two products per minute"),e("li",null,[c("Edit the "),e("code",null,"/buy-product"),c(" route in the exercise folder considering the scenario above")]),e("li",null,[c("Make sure the tests pass: "),e("code",null,"npm run verify")])])],-1),K1={__name:"32",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[W1,z1]),_:1},16))}},Y1=e("h1",null,"A04 Exercise: Solution",-1),Z1={class:"dense"},Q1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// register the rateLimit plugin in the server.js file")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"register"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"rateLimit"),e("span",{style:{color:"#666666"}},")")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// register the rateLimit plugin in the server.js file")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"register"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"rateLimit"),e("span",{style:{color:"#999999"}},")")])])])],-1),G1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// the rate limit is set to a maximum of two purchases per minute")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"ecommerce"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"post"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/buy-product"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"config"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"rateLimit"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"          "),e("span",{style:{color:"#B8A965"}},"max"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"2"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"          "),e("span",{style:{color:"#B8A965"}},"timeWindow"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"1 minute"),e("span",{style:{color:"#C98A7DAA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"reply"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BF9763"}},"reply"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"send"),e("span",{style:{color:"#666666"}},"({"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#B8A965"}},"success"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"true"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// the rate limit is set to a maximum of two purchases per minute")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"ecommerce"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"post"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/buy-product"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"config"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"rateLimit"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"          "),e("span",{style:{color:"#998418"}},"max"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"2"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"          "),e("span",{style:{color:"#998418"}},"timeWindow"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"1 minute"),e("span",{style:{color:"#B56959AA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"reply"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"reply"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"send"),e("span",{style:{color:"#999999"}},"({"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#998418"}},"success"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"true"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),J1={__name:"33",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[Y1,e("div",Z1,[Z(l,Ne({},{ranges:[""]}),{default:$(()=>[Q1]),_:1},16),Z(l,Ne({},{ranges:[""]}),{default:$(()=>[G1]),_:1},16)])]),_:1},16)}}},X1=e("h1",null,"A05: Security Misconfiguration",-1),e3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk"),e("li",null,"Badly configured servers or services can lead to vulnerabilities"),e("li",null,"With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration")])],-1),t3={__name:"34",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[X1,e3]),_:1},16))}},s3=e("h1",null,"A05 Security Misconfiguration: Common Vulnerabilities",-1),n3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Improperly configured permissions or security settings"),e("li",null,"Unnecessary features enabled: open ports, services, accounts with elevated accesss\u2026"),e("li",null,"Default credentials unchanged"),e("li",null,"Out of date or vulnerable server"),e("li",null,"Stack trace from error handling revealing information to users")])],-1),o3={__name:"35",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[s3,n3]),_:1},16))}},l3=e("h1",null,"A05 Security Misconfiguration: How to prevent",-1),r3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Repeatable, automated and fast to deploy environments"),e("li",null,"Different credentials should be used in each environment"),e("li",null,"Frequently review security updates, patches and permissions"),e("li",null,"A segmented architecture increases security by separating components, tenants, containers or cloud security groups"),e("li",null,"An automated process to verify the effectiveness of the configurations")])],-1),a3={__name:"36",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[l3,r3]),_:1},16))}},i3=e("h1",null,"A05 Security Misconfiguration: Unsigned Cookies",-1),c3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the server for step 5 ("),e("code",null,"cd src/a05-security-misconfiguration"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,[c("In Postman, run the query for "),e("code",null,"A05: Login"),c(". Observe a cookie with "),e("code",null,"userId=1"),c(" being returned")]),e("li",null,[c("Try to run the query for "),e("code",null,"A05: Profile"),c(". Observe the information about profile with "),e("code",null,"userId=1"),c(" being returned")]),e("li",null,[c("Try to change the value of the cookie to "),e("code",null,"userId=2"),c(". Observe information about "),e("code",null,"userId=2"),c(" being returned")])])],-1),p3={__name:"37",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[i3,c3]),_:1},16))}},u3=e("h1",null,"A05 Security Misconfiguration: Fixing it",-1),d3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Cookie must always be "),e("strong",null,[e("a",{href:"https://github.com/fastify/fastify-cookie",target:"_blank",rel:"noopener"},"signed")]),c(" to ensure they are not getting tampered with on client-side by an attacker")]),e("li",null,[c("It\u2019s important to use "),e("strong",null,"httpOnly"),c(" cookies to prevent the cookie being accessed through client side script")]),e("li",null,[c("Store the "),e("strong",null,"signing secret"),c(" safely.")]),e("li",null,"Don\u2019t store sentive information in cleartext")])],-1),f3={__name:"38",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[u3,d3]),_:1},16))}},y3=e("h1",null,"A05 Security Misconfiguration: Solution",-1),h3={class:"dense"},m3=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"login"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"post"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/login"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"schema"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"},"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"rep"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BF9763"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT id, username, password FROM users WHERE username = "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"username"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7DAA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"No matching user found"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"passwordMatch"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"comparePassword"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"passwordMatch"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"Invalid Password"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#BF9763"}},"rep"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"setCookie"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"userId"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"JSON"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"stringify"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"id"),e("span",{style:{color:"#666666"}},"),"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"signed"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"true"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// signing the cookie")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"httpOnly"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"true"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// http only")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"user logged in"),e("span",{style:{color:"#C98A7DAA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"login"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"post"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/login"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"schema"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"},"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"rep"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT id, username, password FROM users WHERE username = "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"username"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959AA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"No matching user found"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"passwordMatch"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"comparePassword"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"passwordMatch"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"Invalid Password"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B07D48"}},"rep"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"setCookie"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"userId"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"JSON"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"stringify"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"id"),e("span",{style:{color:"#999999"}},"),"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"signed"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"true"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// signing the cookie")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"httpOnly"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"true"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// http only")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"user logged in"),e("span",{style:{color:"#B56959AA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),g3={__name:"39",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[y3,e("div",h3,[Z(l,Ne({},{ranges:[""]}),{default:$(()=>[m3]),_:1},16)])]),_:1},16)}}},v3=e("h1",null,"A05 Security Misconfiguration: Solution (2)",-1),A3={class:"dense"},_3=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"profile"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"value"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"id"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"valid"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"unsignCookie"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"      "),e("span",{style:{color:"#758575DD"}},"//unsign the cookie and check validity")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"?."),e("span",{style:{color:"#BF9763"}},"cookies"),e("span",{style:{color:"#666666"}},"?."),e("span",{style:{color:"#BF9763"}},"userId"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"||"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"''")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"valid"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"      "),e("span",{style:{color:"#758575DD"}},"// check if the cookie has been tampered")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BF9763"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT id, username, age FROM users WHERE id = "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"id"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7DAA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"NotFound"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"user")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"profile"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"value"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"id"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"valid"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"unsignCookie"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"      "),e("span",{style:{color:"#A0ADA0"}},"//unsign the cookie and check validity")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"?."),e("span",{style:{color:"#B07D48"}},"cookies"),e("span",{style:{color:"#999999"}},"?."),e("span",{style:{color:"#B07D48"}},"userId"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"||"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"''")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"valid"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"      "),e("span",{style:{color:"#A0ADA0"}},"// check if the cookie has been tampered")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT id, username, age FROM users WHERE id = "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"id"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959AA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"NotFound"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"user")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),w3={__name:"40",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[v3,e("div",A3,[Z(l,Ne({},{ranges:[""]}),{default:$(()=>[_3]),_:1},16)])]),_:1},16)}}},E3=e("h1",null,"A06: Vulnerable and Outdated Components",-1),b3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Applications use a variety of components and libraries which can have security issues"),e("li",null,"Vulnerable components can be an attack vector until they are patched"),e("li",null,"Particularly relevant in the node.js world with an ever-growing NPM dependency tree")])],-1),D3={__name:"41",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[E3,b3]),_:1},16))}},B3=e("h1",null,"A06 Vulnerable and Outdated Components: Common Vulnerabilities",-1),C3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Not tracking versions of used components, including nested dependencies"),e("li",null,"Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes\u2026"),e("li",null,"Not scanning for vulnerabilities regularly and subscribing to security news for used components"),e("li",null,"Not fixing vulnerable dependencies in a timely fashion")])],-1),x3={__name:"42",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[B3,C3]),_:1},16))}},k3=e("h1",null,"A06 Vulnerable and Outdated Components: How to prevent",-1),S3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Remove unused dependencies, unnecessary features, components, files, and documentation"),e("li",null,"Continuously inventory the versions of components and their dependencies"),e("li",null,[c("Monitor for libraries and components that are "),e("strong",null,"unmaintained"),c(" or do not create security patches for older versions")]),e("li",null,[c("Only obtain components from "),e("strong",null,"official"),c(" sources over secure links")])])],-1),O3={__name:"43",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[k3,S3]),_:1},16))}},F3=e("h1",null,"A06 Vulnerable and Outdated Components: The SSRF attack",-1),$3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the server for step 6 ("),e("code",null,"cd src/a06-vulnerable-outdated"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,[c("In Postman, run the query for "),e("code",null,"A06: Profile"),c(". Observe error "),e("code",null,"404"),c(" being returned")]),e("li",null,[c("Try to run the query for "),e("code",null,"A06: SSRF"),c(". Observe the response "),e("strong",null,'"message": "connect ECONNREFUSED 127.0.0.1:80"')])])],-1),T3={__name:"44",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[F3,$3]),_:1},16))}},P3=e("h1",null,"A06 Vulnerable and Outdated Components: The SSRF attack (2)",-1),M3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Because of an outdated version of the HTTP client library "),e("strong",null,[e("a",{href:"https://github.com/nodejs/undici",target:"_blank",rel:"noopener"},"undici")]),c(" we can exploit a known "),e("strong",null,[e("a",{href:"https://www.cvedetails.com/cve/CVE-2022-35949/",target:"_blank",rel:"noopener"},"vulnerability")])]),e("li",null,[c("By passing the value "),e("code",null,"//127.0.0.1"),c(" in the username query param, we override the original hostname and we can make the server perform a GET to "),e("code",null,"127.0.0.1:80")])])],-1),I3={__name:"45",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[P3,M3]),_:1},16))}},R3=e("h1",null,"A06 Vulnerable and Outdated Components: Fixing it",-1),L3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Validate user input before passing it to the "),e("code",null,"undici.request"),c(" call.")]),e("li",null,"Update the library to a version in which this vulnerability was fixed")])],-1),q3={__name:"46",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[R3,L3]),_:1},16))}},N3=e("h1",null,"A06 Vulnerable and Outdated Components: The Solution",-1),j3={class:"dense"},H3=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"import"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"request"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"from"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"undici"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// updated undici version >= 5.8.1")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"query")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"/"),e("span",{style:{color:"#4D9375"}},"^"),e("span",{style:{color:"#E6CC77"}},"\\/"),e("span",{style:{color:"#C98A7DAA"}},"/"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"test"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#666666"}},"))"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// check username doesn't start with /")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"BadRequest"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"body"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"statusCode"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"request"),e("span",{style:{color:"#666666"}},"({")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"origin"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"http://example.com"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"pathname"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"username")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"statusCode"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"!=="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"200"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"NotFound"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"import"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"request"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"from"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"undici"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// updated undici version >= 5.8.1")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"query")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"/"),e("span",{style:{color:"#1E754F"}},"^"),e("span",{style:{color:"#BDA437"}},"\\/"),e("span",{style:{color:"#B56959AA"}},"/"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"test"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},"))"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// check username doesn't start with /")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"BadRequest"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"statusCode"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"request"),e("span",{style:{color:"#999999"}},"({")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"origin"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"http://example.com"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"pathname"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"statusCode"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"!=="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"200"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"NotFound"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),V3={__name:"47",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[N3,e("div",j3,[Z(l,Ne({},{ranges:[""]}),{default:$(()=>[H3]),_:1},16)])]),_:1},16)}}},U3=e("h1",null,"A07: Identification and Authentication Failures",-1),W3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Verification of the user\u2019s identity, authentication, and session management is crucial to security"),e("li",null,"Weak or vulnerable authentication systems can be exploited to gain access"),e("li",null,"Systems with broken authentication can lead to data breaches and passwords leak")])],-1),z3={__name:"48",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[U3,W3]),_:1},16))}},K3=e("h1",null,"A07 Identification and Authentication Failures: Common Vulnerabilities",-1),Y3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Application allows for credentials stuffing or brute forcing"),e("li",null,"Allows default, weak or known passwords"),e("li",null,"Exploitable credential recovery processes"),e("li",null,"Lack of effective multi-factor authentication"),e("li",null,"Unencrypted or weakly encrypted password storage")])],-1),Z3={__name:"49",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[K3,Y3]),_:1},16))}},Q3=e("h1",null,"A07 Identification and Authentication Failures: How to prevent",-1),G3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Where possible, implement multi-factor authentication"),e("li",null,"Require strong passwords (length, complexity, rotation policies, and don\u2019t allow leaked passwords use)"),e("li",null,"Ensure registration and credential recovery use the same messages for all outcomes"),e("li",null,"Limit or increasingly delay failed login attempts"),e("li",null,"Use secure password data store practices (salting + hashing)")])],-1),J3={__name:"50",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[Q3,G3]),_:1},16))}},X3=e("h1",null,"A07 Identification and Authentication Failures: Allowing leaked passwords (1)",-1),ew=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("In 2017 the NIST "),e("strong",null,[e("a",{href:"https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value",target:"_blank",rel:"noopener"},"recommended")]),c(" that websites should check all new passwords against available lists of data breaches.")]),e("li",null,[c("This practice has been adopted by OWASP and became part of their "),e("strong",null,[e("a",{href:"https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.",target:"_blank",rel:"noopener"},"recommendation")]),c(".")]),e("li",null,[c("In the real scenario you should try to use something like "),e("strong",null,[e("a",{href:"https://haveibeenpwned.com/Passwords",target:"_blank",rel:"noopener"},"Have I Been Pwned")])])])],-1),tw={__name:"51",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[X3,ew]),_:1},16))}},sw=e("h1",null,"A07 Identification and Authentication Failures: Allowing leaked passwords (2)",-1),nw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("In the workshop - the database contains the list of leaked passwords in "),e("code",null,"databreachrecords")]),e("li",null,[c("Run the server for step 7 ("),e("code",null,"cd src/a07-authentication-failures"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,[c("In Postman, run the query for "),e("code",null,"A07: Register"),c(". Observe a token is succesfully returned")]),e("li",null,[c("In the database check the "),e("code",null,"databreachrecords"),c(" table for password used in the Postman request body")])])],-1),ow={__name:"52",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[sw,nw]),_:1},16))}},lw=e("h1",null,"A07 Identification and Authentication Failures: Allowing leaked passwords (3)",-1),rw=e("div",{class:"dense"},[e("ul",null,[e("li",null,"It should not allow to use passwords that are known to be leaked"),e("li",null,"Instead it should require the user to set a different password indicating what is the reason"),e("li",null,[c("Place your solution in the "),e("code",null,"routes/user/index.js")]),e("li",null,[c("Test it by running "),e("code",null,"npm run verify"),c(" (it will fail initially)")])])],-1),aw={__name:"53",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[lw,rw]),_:1},16))}},iw=e("h1",null,"A07 Identification and Authentication Failures: Fixing it",-1),cw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Using data available in "),e("code",null,"databreachrecords"),c(" check if requested password is safe to use")]),e("li",null,[c("Run "),e("code",null,"sql"),c(" query inside the "),e("code",null,"/register"),c(" endpoint to check if the password is there")]),e("li",null,[c("Return a "),e("code",null,"400"),c(" error with "),e("code",null,"message"),c(" indicating the source of the leak: "),e("code",null,"'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'")])])],-1),pw={__name:"54",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[iw,cw]),_:1},16))}},uw=e("h1",null,"A07 Identification and Authentication Failures: Solution",-1),dw={class:"dense"},fw=e("ul",null,[e("li",null,[c("File containing full solution is in the "),e("code",null,"routes/user/solution.js")])],-1),yw=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"breach"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT * FROM databreachrecords WHERE password="),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"password"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7DAA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"breach"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"res"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"send"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"BadRequest"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"You are trying to use password that is known to be exposed in data breaches: "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"breach"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#C98A7D"}},"source"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7D"}},". Use a different one. Read more here: https://haveibeenpwned.com/Passwords."),e("span",{style:{color:"#C98A7DAA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"breach"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT * FROM databreachrecords WHERE password="),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"password"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959AA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"breach"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"res"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"send"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"BadRequest"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"You are trying to use password that is known to be exposed in data breaches: "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"breach"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B56959"}},"source"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959"}},". Use a different one. Read more here: https://haveibeenpwned.com/Passwords."),e("span",{style:{color:"#B56959AA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),hw={__name:"55",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[uw,e("div",dw,[fw,Z(l,Ne({},{ranges:[""]}),{default:$(()=>[yw]),_:1},16)])]),_:1},16)}}},mw=e("h1",null,"A08: Software and Data Integrity Failures",-1),gw=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Code and infrastructure not protected against integrity violations"),e("li",null,"Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users")])],-1),vw={__name:"56",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[mw,gw]),_:1},16))}},Aw=e("h1",null,"A08 Software and Data Integrity Failures: Common Vulnerabilities",-1),_w=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Libraries coming from untrusted sources, repos or CDNs"),e("li",null,"Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to insecure deserialization"),e("li",null,"An insecure CI/CD pipeline"),e("li",null,"Updates downloaded without sufficient integrity verification")])],-1),ww={__name:"57",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[Aw,_w]),_:1},16))}},Ew=e("h1",null,"A08 Software and Data Integrity Failures: How to prevent",-1),bw=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Using digital signatures for integrity checks on data and downloaded software"),e("li",null,"Ensure npm dependencies are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies"),e("li",null,"Use automated tools to verify that components don\u2019t contain known vulnerabilities"),e("li",null,"Ensure there are code reviews for changes to minimise the risk of malicious code being introduced")])],-1),Dw={__name:"58",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[Ew,bw]),_:1},16))}},Bw=e("h1",null,"A08 Exercise - Insecure Deserialization",-1),Cw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the server for step 8 ("),e("code",null,"cd src/a08-software-data-integrity-failures"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,[c("In Postman, try to run the query for "),e("code",null,"A08: Get profile from cookie"),c(". Observe the requests "),e("code",null,"status code 500"),c(" being returned")]),e("li",null,"This is happening because the server is deserializing a cookie containing a malicious JavaScript code which is forcing the server to throw an exception")])],-1),xw={__name:"59",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[Bw,Cw]),_:1},16))}},kw=e("h1",null,"A08 Exercise - Insecure Deserialization",-1),Sw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Untrusted data passed into unserialize() function in "),e("code",null,"node-serialize"),c(" module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)")]),e("li",null,[c("The step by step to serialize a JavaScript code and insert it in the cookie can be found "),e("a",{href:"https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/",target:"_blank",rel:"noopener"},"in this article")])])],-1),Ow={__name:"60",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[kw,Sw]),_:1},16))}},Fw=e("h1",null,"A08 Software and Data Integrity Failures: Sulution",-1),$w={class:"dense"},Tw=e("ul",null,[e("li",null,"JSON.parse is a safer way to deserialize data")],-1),Pw=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"solution"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"cookieAsStr"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"Buffer"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"from"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"cookies"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"profile"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"base64"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},")."),e("span",{style:{color:"#80A665"}},"toString"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"ascii"),e("span",{style:{color:"#C98A7DAA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"profile"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"JSON"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"parse"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"cookieAsStr"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"profile"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"Hello "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"+"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"profile"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"username")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"Hello guest"),e("span",{style:{color:"#C98A7DAA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"solution"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"cookieAsStr"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"Buffer"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"from"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"cookies"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"base64"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},")."),e("span",{style:{color:"#59873A"}},"toString"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"ascii"),e("span",{style:{color:"#B56959AA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"JSON"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"parse"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"cookieAsStr"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"Hello "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"+"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"Hello guest"),e("span",{style:{color:"#B56959AA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),Mw={__name:"61",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[Fw,e("div",$w,[Tw,Z(l,Ne({},{ranges:[""]}),{default:$(()=>[Pw]),_:1},16)])]),_:1},16)}}},Iw=e("h1",null,"A09: Security Logging and Monitoring Failures",-1),Rw=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Proper logging and monitoring is critical to detecting and responding to breaches"),e("li",null,"It is important for alerting, accountability, visibility and forensics of security incidents")])],-1),Lw={__name:"62",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[Iw,Rw]),_:1},16))}},qw=e("h1",null,"A09: Security Logging and Monitoring Failures: Common Vulnerabilities",-1),Nw=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Auditable events, such as logins, failed logins, and high-value transactions, are not logged"),e("li",null,"Warnings and errors generate no, inadequate, or unclear log messages"),e("li",null,"Logs of applications and APIs are not monitored for suspicious activity"),e("li",null,"The application cannot detect, escalate, or alert for active attacks in real-time or near real-time")])],-1),jw={__name:"63",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[qw,Nw]),_:1},16))}},Hw=e("h1",null,"A09: Security Logging and Monitoring Failures: How to prevent",-1),Vw=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Ensure all login, access control, and server-side input validation failures can be logged with sufficient user context to identify suspicious or malicious accounts"),e("li",null,"Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems"),e("li",null,"Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.")])],-1),Uw={__name:"64",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[Hw,Vw]),_:1},16))}},Ww=e("h1",null,"A09 Security Logging and Monitoring Failures: Suspicious activity \u{1F928}",-1),zw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the server for step 5 ("),e("code",null,"cd src/a05-security-misconfiguration"),c(", "),e("code",null,"npm run verify"),c(")")]),e("li",null,[c("You can observe a log message "),e("code",null,"something suspicious is happening")]),e("li",null,[c("Note that the application is using a vulnerable version of the http client "),e("strong",null,[e("a",{href:"https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3",target:"_blank",rel:"noopener"},"undici")])])])],-1),Kw={__name:"65",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[Ww,zw]),_:1},16))}},Yw=e("h1",null,"A09 Security Logging and Monitoring Failures: How to fix it",-1),Zw=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Log user input to identify suspicious or malicious accounts"),e("li",null,"Validate user input")])],-1),Qw={__name:"66",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[Yw,Zw]),_:1},16))}},Gw=e("h1",null,"A09 Security Logging and Monitoring Failures: Solution",-1),Jw={class:"dense"},Xw=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"profile"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BF9763"}},"console"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"log"),e("span",{style:{color:"#666666"}},"({")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// add context to logs to help identify the user")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"input"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"headers"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"headerCharRegex"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#C4704F"}}," "),e("span",{style:{color:"#C98A7DAA"}},"/"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#CB7676"}},"^"),e("span",{style:{color:"#C99076"}},"\\t\\x20-\\x7e\\x80-\\xff"),e("span",{style:{color:"#666666"}},"]"),e("span",{style:{color:"#C98A7DAA"}},"/"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// validate user input")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"headerCharRegex"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"exec"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"headers"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},"])"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"!=="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"null"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"BadRequest"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"body"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"request"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"http://localhost:3001"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"method"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"GET"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"headers"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"          "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"headers"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"profile"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"console"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"log"),e("span",{style:{color:"#999999"}},"({")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// add context to logs to help identify the user")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"input"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"headers"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"headerCharRegex"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#AB5E3F"}}," "),e("span",{style:{color:"#B56959AA"}},"/"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#AB5959"}},"^"),e("span",{style:{color:"#A65E2B"}},"\\t\\x20-\\x7e\\x80-\\xff"),e("span",{style:{color:"#999999"}},"]"),e("span",{style:{color:"#B56959AA"}},"/"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// validate user input")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"headerCharRegex"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"exec"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"headers"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},"])"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"!=="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"null"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"BadRequest"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"request"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"http://localhost:3001"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"method"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"GET"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"headers"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"          "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"headers"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),eE={__name:"67",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[Gw,e("div",Jw,[Z(l,Ne({},{ranges:[""]}),{default:$(()=>[Xw]),_:1},16)])]),_:1},16)}}},tE=e("h1",null,"A10: Server Side Request Forgery",-1),sE=e("div",{class:"dense"},[e("ul",null,[e("li",null,"SSRF flaws occur whenever a web application is fetching a remote resource without validating the user-supplied URL"),e("li",null,"It allows an attacker to coerce the application to send a crafted request to an unexpected destination, even when protected by a firewall, VPN, or another type of network access control list")])],-1),nE={__name:"68",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[tE,sE]),_:1},16))}},oE=e("h1",null,"A10: Server Side Request Forgery: How to prevent",-1),lE=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Sanitize and validate all client-supplied input data"),e("li",null,"Enforce the URL schema, port, and destination with a positive allow list"),e("li",null,"Do not send raw responses to clients"),e("li",null,"Disable HTTP redirections"),e("li",null,"Do not mitigate SSRF via the use of a deny list or regular expression")])],-1),rE={__name:"69",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[oE,lE]),_:1},16))}},aE=e("h1",null,"A10: Server Side Request Forgery: The Attack",-1),iE=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the server for step 10 ("),e("code",null,"cd src/a10-server-side-request-forgery"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,[c("In Postman, run the query for "),e("code",null,"A10: Upload Image"),c(". Observe an image being returned")]),e("li",null,[c("Try to run the query for "),e("code",null,"A10: Malicious Image url"),c(". Observe "),e("code",null,"something suspicious is happening"),c(" being returned")]),e("li",null,"The server is not sanitizing user input so it will send a request to whatever url provided in the payload")])],-1),cE={__name:"70",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[aE,iE]),_:1},16))}},pE=e("h1",null,"A10: Server Side Request Forgery: How to fix",-1),uE=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Sanitize the url making sure it\u2019s valid"),e("li",null,[c("Create a whitelist of allowed domains by adding them in the database column "),e("code",null,"allowedImageDomain")]),e("li",null,"Make sure the requested domain is in the whitelist")])],-1),dE={__name:"71",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[pE,uE]),_:1},16))}},fE=e("h1",null,"A10: Server Side Request Forgery: Solution",-1),yE={class:"dense"},hE=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"profilePicture"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"post"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/user/image"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"imgUrl"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"url"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"validateUrl"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"imgUrl"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// validate url using the URL object")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#BF9763"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"whitelisted"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT * FROM allowedImageDomain WHERE hostname = "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"url"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#C98A7D"}},"hostname"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7DAA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"whitelisted"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Forbidden"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"data"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"axios"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"url"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"href"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"data")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"profilePicture"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"post"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/user/image"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"imgUrl"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"url"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"validateUrl"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"imgUrl"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// validate url using the URL object")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"whitelisted"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT * FROM allowedImageDomain WHERE hostname = "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"url"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B56959"}},"hostname"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959AA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"whitelisted"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Forbidden"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"data"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"axios"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"url"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"href"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"data")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),mE={__name:"72",setup(t){const s={};return S(M),(n,o)=>{const l=et;return _(),F(z,W(U(s)),{default:$(()=>[fE,e("div",yE,[Z(l,Ne({},{ranges:[""]}),{default:$(()=>[hE]),_:1},16)])]),_:1},16)}}},gE=e("h1",null,"Beyond the Top 10",-1),vE=e("div",{class:"dense"},[e("ul",null,[e("li",null,"The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing"),e("li",null,"By its nature, the Top 10 is a series of guidelines but can\u2019t be tested easily as its applications are broad"),e("li",null,[c("On the other hand the "),e("a",{href:"https://owasp.org/www-project-application-security-verification-standard/",target:"_blank",rel:"noopener"},"OWASP Application Security Verification Standard"),c(" is a comprehensive list of security criteria")]),e("li",null,"Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail")])],-1),AE={__name:"73",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[gE,vE]),_:1},16))}},_E=e("h1",null,"Other useful OWASP resources",-1),wE=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("The "),e("a",{href:"https://cheatsheetseries.owasp.org",target:"_blank",rel:"noopener"},"OWASP Cheat Sheet Series"),c(" provides condensed information on specific security topics related to OWASP standards")]),e("li",null,[c("The "),e("a",{href:"https://owaspsamm.org",target:"_blank",rel:"noopener"},"OWASP Software Assurance Maturity Model"),c(" can help an organization analyze and improve their software security")])])],-1),EE={__name:"74",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[_E,wE]),_:1},16))}},bE=e("h1",null,"Thanks For Having Us!",-1),DE=e("h2",null,"\u{1F44F}\u{1F44F}\u{1F44F}",-1),BE={__name:"75",setup(t){const s={};return S(M),(n,o)=>(_(),F(z,W(U(s)),{default:$(()=>[bE,DE]),_:1},16))}},CE=[{path:"1",name:"page-1",component:iA,meta:{theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1,title:"OWASP Top Ten Security Vulnerabilities Workshop",slide:{raw:`---
theme: slidev-theme-nearform
layout: default
highlighter: shiki
lineNumbers: false
---

<img class=logo src="/images/nearform.svg">

# OWASP Top Ten Security Vulnerabilities Workshop

<img src="/assets/owasp.png" style="width: 30%;">

<div class="copyright">

\xA9 Copyright 2022 NearForm Ltd. All Rights Reserved.

</div>
`,title:"OWASP Top Ten Security Vulnerabilities Workshop",level:1,content:`<img class=logo src="/images/nearform.svg">

# OWASP Top Ten Security Vulnerabilities Workshop

<img src="/assets/owasp.png" style="width: 30%;">

<div class="copyright">

\xA9 Copyright 2022 NearForm Ltd. All Rights Reserved.

</div>`,frontmatter:{theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1,title:"OWASP Top Ten Security Vulnerabilities Workshop"},index:0,start:0,end:19,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:0,no:1},__clicksElements:[],__preloaded:!1}},{path:"2",name:"page-2",component:uA,meta:{slide:{raw:`
# Introduction: OWASP

<div class="dense">

- The Open Web Application Security Project (OWASP) is a nonprofit foundation that works to improve the security of software

- OWASP has community-led open-source software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences

</div>
`,title:"Introduction: OWASP",level:1,content:`# Introduction: OWASP

<div class="dense">

- The Open Web Application Security Project (OWASP) is a nonprofit foundation that works to improve the security of software

- OWASP has community-led open-source software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences

</div>`,frontmatter:{},index:1,start:20,end:31,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:1,no:2},__clicksElements:[],__preloaded:!1}},{path:"3",name:"page-3",component:yA,meta:{slide:{raw:`
# Introduction: OWASP Top Ten

<div class="dense">

- The [OWASP Top Ten](https://owasp.org/Top10/) is a standard awareness document for developers and web application security
- It represents a broad consensus about the most critical security risks to web applications

</div>
`,title:"Introduction: OWASP Top Ten",level:1,content:`# Introduction: OWASP Top Ten

<div class="dense">

- The [OWASP Top Ten](https://owasp.org/Top10/) is a standard awareness document for developers and web application security
- It represents a broad consensus about the most critical security risks to web applications

</div>`,frontmatter:{},index:2,start:32,end:42,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:2,no:3},__clicksElements:[],__preloaded:!1}},{path:"4",name:"page-4",component:gA,meta:{slide:{raw:`
# Workshop Setup

<div class="dense">

- This workshop will explain each of the 10 vulnerabilities
- There is a Fastify node.js server demonstrating the security issues
- At each step you are asked to fix the vulnerability in the server
- You will find the solution to each step in the \`src/a{n}-{name}\` folder
- The \u{1F4A1} icon indicates hints

</div>
`,title:"Workshop Setup",level:1,content:`# Workshop Setup

<div class="dense">

- This workshop will explain each of the 10 vulnerabilities
- There is a Fastify node.js server demonstrating the security issues
- At each step you are asked to fix the vulnerability in the server
- You will find the solution to each step in the \`src/a{n}-{name}\` folder
- The \u{1F4A1} icon indicates hints

</div>`,frontmatter:{},index:3,start:43,end:56,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:3,no:4},__clicksElements:[],__preloaded:!1}},{path:"5",name:"page-5",component:s_,meta:{slide:{raw:`
# Getting setup

<div class="dense">

#### Requirements

<br />

- Node LTS
- docker
- docker-compose
- Postman (if you want to be able to test vulnerabilities)

#### Setup

<br />

\`\`\`bash
git clone https://github.com/nearform/owasp-top-ten-workshop
npm ci
npm run db:up
npm run db:migrate
\`\`\`

</div>
`,title:"Getting setup",level:1,content:`# Getting setup

<div class="dense">

#### Requirements

<br />

- Node LTS
- docker
- docker-compose
- Postman (if you want to be able to test vulnerabilities)

#### Setup

<br />

\`\`\`bash
git clone https://github.com/nearform/owasp-top-ten-workshop
npm ci
npm run db:up
npm run db:migrate
\`\`\`

</div>`,frontmatter:{},index:4,start:57,end:84,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:4,no:5},__clicksElements:[],__preloaded:!1}},{path:"6",name:"page-6",component:i_,meta:{slide:{raw:`
# Running the modules

<div class="dense">

- \`cd src/a{x}-step-name\`
- \`npm start\` will run the server ready to respond to requests
- \`npm run verify\` will run automated tests that fail by default until this step's issue is solved
- Check out README.md in the projects for potential additional info

</div>

### Example

\`\`\`bash
cd src/a-01-access-control
npm start
\`\`\`

The server for that step will run on http://localhost:3000
`,title:"Running the modules",level:1,content:`# Running the modules

<div class="dense">

- \`cd src/a{x}-step-name\`
- \`npm start\` will run the server ready to respond to requests
- \`npm run verify\` will run automated tests that fail by default until this step's issue is solved
- Check out README.md in the projects for potential additional info

</div>

### Example

\`\`\`bash
cd src/a-01-access-control
npm start
\`\`\`

The server for that step will run on http://localhost:3000`,frontmatter:{},index:5,start:85,end:106,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:5,no:6},__clicksElements:[],__preloaded:!1}},{path:"7",name:"page-7",component:u_,meta:{slide:{raw:`
# Testing the vulnerabilities

<div class="dense">

- Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests
- The \`postman\` folder contains a collection that can be imported into Postman to easily send those requests
- The Postman collection is pre-logged in with user \`alice\`

</div>
`,title:"Testing the vulnerabilities",level:1,content:`# Testing the vulnerabilities

<div class="dense">

- Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests
- The \`postman\` folder contains a collection that can be imported into Postman to easily send those requests
- The Postman collection is pre-logged in with user \`alice\`

</div>`,frontmatter:{},index:6,start:107,end:118,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:6,no:7},__clicksElements:[],__preloaded:!1}},{path:"8",name:"page-8",component:y_,meta:{slide:{raw:`
# Automated testing

<div class="dense">

- Some vulnerabilities have automated tests which verify the presence of the vulnerability
- Those tests will fail until you fix the vulnerability
- \`npm run verify\` in a step's folder

</div>
`,title:"Automated testing",level:1,content:`# Automated testing

<div class="dense">

- Some vulnerabilities have automated tests which verify the presence of the vulnerability
- Those tests will fail until you fix the vulnerability
- \`npm run verify\` in a step's folder

</div>`,frontmatter:{},index:7,start:119,end:130,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:7,no:8},__clicksElements:[],__preloaded:!1}},{path:"9",name:"page-9",component:g_,meta:{slide:{raw:`
# A01: Broken Access Control

<div class="dense">

- [AO1:2021 - Broken Access Control](https://owasp.org/Top10/A01_2021-Broken_Access_Control/)
- User should only act based on specific permissions
- Incorrect permissions -> unauthorised access of data
</div>
`,title:"A01: Broken Access Control",level:1,content:`# A01: Broken Access Control

<div class="dense">

- [AO1:2021 - Broken Access Control](https://owasp.org/Top10/A01_2021-Broken_Access_Control/)
- User should only act based on specific permissions
- Incorrect permissions -> unauthorised access of data
</div>`,frontmatter:{},index:8,start:131,end:141,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:8,no:9},__clicksElements:[],__preloaded:!1}},{path:"10",name:"page-10",component:__,meta:{slide:{raw:`
# A01 Broken Access Control (2): Common vulnerabilities

<div class="dense">

- Not applying principle of least privilege
- Checks can be bypassed by tampering with page or request
- Allowing access to someone else's info by knowing the UUID
- CORS allows untrusted origins

</div>
`,title:"A01 Broken Access Control (2): Common vulnerabilities",level:1,content:`# A01 Broken Access Control (2): Common vulnerabilities

<div class="dense">

- Not applying principle of least privilege
- Checks can be bypassed by tampering with page or request
- Allowing access to someone else's info by knowing the UUID
- CORS allows untrusted origins

</div>`,frontmatter:{},index:9,start:142,end:154,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:9,no:10},__clicksElements:[],__preloaded:!1}},{path:"11",name:"page-11",component:b_,meta:{slide:{raw:`
# A01 Broken Access Control (3): How to Prevent

<div class="dense">

- Deny access by default
- Avoid duplication of access control logic
- Enforce user ownership when manipulating data

</div>
`,title:"A01 Broken Access Control (3): How to Prevent",level:1,content:`# A01 Broken Access Control (3): How to Prevent

<div class="dense">

- Deny access by default
- Avoid duplication of access control logic
- Enforce user ownership when manipulating data

</div>`,frontmatter:{},index:10,start:155,end:166,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:10,no:11},__clicksElements:[],__preloaded:!1}},{path:"12",name:"page-12",component:S_,meta:{slide:{raw:`
# A01 Exercise

<div class="dense">

- The \`/profile\` route returns sensitive user data
- It takes a \`username\` query parameter to return the user's info

\`\`\`
GET http://localhost:3000/profile?user=alice
\`\`\`

\`\`\`json
{
  "id": 1,
  "username": "alice",
  "age": 23
}
\`\`\`

</div>
`,title:"A01 Exercise",level:1,content:`# A01 Exercise

<div class="dense">

- The \`/profile\` route returns sensitive user data
- It takes a \`username\` query parameter to return the user's info

\`\`\`
GET http://localhost:3000/profile?user=alice
\`\`\`

\`\`\`json
{
  "id": 1,
  "username": "alice",
  "age": 23
}
\`\`\`

</div>`,frontmatter:{},index:11,start:167,end:189,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:11,no:12},__clicksElements:[],__preloaded:!1}},{path:"13",name:"page-13",component:M_,meta:{slide:{raw:`
# A01 Exercise (2): The problem

<div class="dense">

- Run the server for step 1 (\`cd src/a01-access-control\`, \`npm start\`)
- In Postman, run the query for A01: Access Control. Observe the data for Alice being returned
- Now change the \`username\` query parameter to \`bob\`. Result:

\`\`\`json
{
  "id": 2,
  "username": "bob",
  "age": 31
}
\`\`\`

- Bob's data is being exposed! Remember we're logged in as Alice and shouldn't see Bob's data

</div>
`,title:"A01 Exercise (2): The problem",level:1,content:`# A01 Exercise (2): The problem

<div class="dense">

- Run the server for step 1 (\`cd src/a01-access-control\`, \`npm start\`)
- In Postman, run the query for A01: Access Control. Observe the data for Alice being returned
- Now change the \`username\` query parameter to \`bob\`. Result:

\`\`\`json
{
  "id": 2,
  "username": "bob",
  "age": 31
}
\`\`\`

- Bob's data is being exposed! Remember we're logged in as Alice and shouldn't see Bob's data

</div>`,frontmatter:{},index:12,start:190,end:211,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:12,no:13},__clicksElements:[],__preloaded:!1}},{path:"14",name:"page-14",component:L_,meta:{slide:{raw:`
# A01 Exercise (3): Fixing it

<div class="dense">

- Run the automated tests for step 1 - \`npm run verify\`
- The tests fail because the server shouldn't return Bob's data
- Edit the \`/profile\` route in the exercise folder to return the user's profile without exposing other people's profiles
- \u{1F4A1} The server uses [fastify-jwt](https://github.com/fastify/fastify-jwt) to handle authentication

</div>
`,title:"A01 Exercise (3): Fixing it",level:1,content:`# A01 Exercise (3): Fixing it

<div class="dense">

- Run the automated tests for step 1 - \`npm run verify\`
- The tests fail because the server shouldn't return Bob's data
- Edit the \`/profile\` route in the exercise folder to return the user's profile without exposing other people's profiles
- \u{1F4A1} The server uses [fastify-jwt](https://github.com/fastify/fastify-jwt) to handle authentication

</div>`,frontmatter:{},index:13,start:212,end:224,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:13,no:14},__clicksElements:[],__preloaded:!1}},{path:"15",name:"page-15",component:V_,meta:{slide:{raw:`
# A01 Exercise (4): Solution

<div class="dense">

- The issue comes from the usage of a user-supplied \`query\` parameter to choose which profile's info to check
- The server should instead fetch the logged-in user's info

\`\`\`js
// routes/profile/index.js
export default async function user(fastify) {
  fastify.get(
    '/',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      if (!req.user) {
        throw new errors.Unauthorized()
      }
      // We get the username from the logged in user, not from the query
      const username = req.user.username // \u{1F4A1} <-- The fix is here!
      // (Skipping the rest of the function...)
      return user
    }
  )
}
//...
\`\`\`

</div>
`,title:"A01 Exercise (4): Solution",level:1,content:`# A01 Exercise (4): Solution

<div class="dense">

- The issue comes from the usage of a user-supplied \`query\` parameter to choose which profile's info to check
- The server should instead fetch the logged-in user's info

\`\`\`js
// routes/profile/index.js
export default async function user(fastify) {
  fastify.get(
    '/',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      if (!req.user) {
        throw new errors.Unauthorized()
      }
      // We get the username from the logged in user, not from the query
      const username = req.user.username // \u{1F4A1} <-- The fix is here!
      // (Skipping the rest of the function...)
      return user
    }
  )
}
//...
\`\`\`

</div>`,frontmatter:{},index:14,start:225,end:257,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:14,no:15},__clicksElements:[],__preloaded:!1}},{path:"16",name:"page-16",component:z_,meta:{slide:{raw:`
# A02: Cryptographic Failures

<div class="dense">

- [A02: Cryptographic Failures](https://owasp.org/Top10/A02_2021-Cryptographic_Failures/)
- Weak or inexistent of cryptography of sensitive data
- Passwords, credit card numbers, health records, personal information, business secrets...
- Anything protected by privacy laws or other regulations

</div>
`,title:"A02: Cryptographic Failures",level:1,content:`# A02: Cryptographic Failures

<div class="dense">

- [A02: Cryptographic Failures](https://owasp.org/Top10/A02_2021-Cryptographic_Failures/)
- Weak or inexistent of cryptography of sensitive data
- Passwords, credit card numbers, health records, personal information, business secrets...
- Anything protected by privacy laws or other regulations

</div>`,frontmatter:{},index:15,start:258,end:270,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:15,no:16},__clicksElements:[],__preloaded:!1}},{path:"17",name:"page-17",component:Z_,meta:{slide:{raw:`
# A02 Cryptographic Failures (2): Common vulnerabilities

<div class="dense">

- Weak or outdated cryptographic algorithms like md5
- Weak secret keys, default ones, keys from online tutorials, keys checked in source control...
- Lack of traffic encryption (HTTPS)
- Insufficient entropy in seed generation

</div>
`,title:"A02 Cryptographic Failures (2): Common vulnerabilities",level:1,content:`# A02 Cryptographic Failures (2): Common vulnerabilities

<div class="dense">

- Weak or outdated cryptographic algorithms like md5
- Weak secret keys, default ones, keys from online tutorials, keys checked in source control...
- Lack of traffic encryption (HTTPS)
- Insufficient entropy in seed generation

</div>`,frontmatter:{},index:16,start:271,end:283,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:16,no:17},__clicksElements:[],__preloaded:!1}},{path:"18",name:"page-18",component:J_,meta:{slide:{raw:`
# A02 Cryptographic Failures (3): How to Prevent

<div class="dense">

- Check sensitive data is well encrypted. Avoid storing sensitive data unnecessarily
- Use up to date and strong standard algorithms
- Proper key/secrets management (no checking private keys in git)
- Disable caching for responses that contain sensitive data

</div>
`,title:"A02 Cryptographic Failures (3): How to Prevent",level:1,content:`# A02 Cryptographic Failures (3): How to Prevent

<div class="dense">

- Check sensitive data is well encrypted. Avoid storing sensitive data unnecessarily
- Use up to date and strong standard algorithms
- Proper key/secrets management (no checking private keys in git)
- Disable caching for responses that contain sensitive data

</div>`,frontmatter:{},index:17,start:284,end:296,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:17,no:18},__clicksElements:[],__preloaded:!1}},{path:"19",name:"page-19",component:n1,meta:{slide:{raw:`
# A02 Exercise: a weak hashing algorithm

<div class="dense">

- The \`/all-data\` endpoint returns all users and their passwords (encrypted in md5). Imagine this as a data breach
- Result of the \`all-data\` endpoint

\`\`\`json
[
  {
    "username": "bob",
    "password": "884a22eb30e5cfd71894d43ac553faa5"
  },
  {
    "username": "alice",
    "password": "5e9d11a14ad1c8dd77e98ef9b53fd1ba"
  }
]
\`\`\`

</div>
`,title:"A02 Exercise: a weak hashing algorithm",level:1,content:`# A02 Exercise: a weak hashing algorithm

<div class="dense">

- The \`/all-data\` endpoint returns all users and their passwords (encrypted in md5). Imagine this as a data breach
- Result of the \`all-data\` endpoint

\`\`\`json
[
  {
    "username": "bob",
    "password": "884a22eb30e5cfd71894d43ac553faa5"
  },
  {
    "username": "alice",
    "password": "5e9d11a14ad1c8dd77e98ef9b53fd1ba"
  }
]
\`\`\`

</div>`,frontmatter:{},index:18,start:297,end:320,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:18,no:19},__clicksElements:[],__preloaded:!1}},{path:"20",name:"page-20",component:r1,meta:{slide:{raw:`
# A02 Exercise (2): The problem

<div class="dense">

- Using the \`/all-data\` route, find Alice's encrypted password
- With this encrypted password hash, try to find the original unencrypted password Alice created
- the Postman collection contains requests for doing the queries
- \u{1F4A1} There are websites to decrypt md5

</div>
`,title:"A02 Exercise (2): The problem",level:1,content:`# A02 Exercise (2): The problem

<div class="dense">

- Using the \`/all-data\` route, find Alice's encrypted password
- With this encrypted password hash, try to find the original unencrypted password Alice created
- the Postman collection contains requests for doing the queries
- \u{1F4A1} There are websites to decrypt md5

</div>`,frontmatter:{},index:19,start:321,end:333,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:19,no:20},__clicksElements:[],__preloaded:!1}},{path:"21",name:"page-21",component:c1,meta:{slide:{raw:`
# A02 Exercise (3): Fixing it

<div class="dense">

- md5 encryption is vulnerable and shouldn't be used
- In \`src/a02-cryptographic-failure\`, fix the encryption used to be a strong algorithm instead of md5
- Using [bcrypt](https://www.npmjs.com/package/bcrypt) is a good idea for passwords
- The application exposes a \`/change-password\` route used to change a user's password
- Make sure the tests pass: \`npm run verify\`

</div>
`,title:"A02 Exercise (3): Fixing it",level:1,content:`# A02 Exercise (3): Fixing it

<div class="dense">

- md5 encryption is vulnerable and shouldn't be used
- In \`src/a02-cryptographic-failure\`, fix the encryption used to be a strong algorithm instead of md5
- Using [bcrypt](https://www.npmjs.com/package/bcrypt) is a good idea for passwords
- The application exposes a \`/change-password\` route used to change a user's password
- Make sure the tests pass: \`npm run verify\`

</div>`,frontmatter:{},index:20,start:334,end:347,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:20,no:21},__clicksElements:[],__preloaded:!1}},{path:"22",name:"page-22",component:f1,meta:{slide:{raw:`
# A02 Exercise (4): Solution

<div class="dense">

\`\`\`js
// utils/encryption.js
const saltRounds = 10
export async function encryptPassword(password) {
  return new Promise((resolve, reject) => {
    bcrypt.genSalt(saltRounds, (err, salt) => {
      bcrypt.hash(password, salt, (err, hash) => {
        if (err) {
          reject(err)
        } else {
          resolve(hash)
        }
      })
    })
  })
}

export async function comparePassword(password, hash) {
  return new Promise((resolve, reject) => {
    bcrypt.compare(password, hash, (err, result) => {
      if (err) {
        reject(err)
      } else {
        resolve(result)
      }
    })
  })
}
\`\`\`

</div>
`,title:"A02 Exercise (4): Solution",level:1,content:`# A02 Exercise (4): Solution

<div class="dense">

\`\`\`js
// utils/encryption.js
const saltRounds = 10
export async function encryptPassword(password) {
  return new Promise((resolve, reject) => {
    bcrypt.genSalt(saltRounds, (err, salt) => {
      bcrypt.hash(password, salt, (err, hash) => {
        if (err) {
          reject(err)
        } else {
          resolve(hash)
        }
      })
    })
  })
}

export async function comparePassword(password, hash) {
  return new Promise((resolve, reject) => {
    bcrypt.compare(password, hash, (err, result) => {
      if (err) {
        reject(err)
      } else {
        resolve(result)
      }
    })
  })
}
\`\`\`

</div>`,frontmatter:{},index:21,start:348,end:385,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:21,no:22},__clicksElements:[],__preloaded:!1}},{path:"23",name:"page-23",component:m1,meta:{slide:{raw:`
# A03: Injection \u{1F489}

<div class="dense">

- Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server
- Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover.
- Common targets: **SQL, NoSQL, ORM, LDAP, JS eval**

</div>
`,title:"A03: Injection \u{1F489}",level:1,content:`# A03: Injection \u{1F489}

<div class="dense">

- Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server
- Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover.
- Common targets: **SQL, NoSQL, ORM, LDAP, JS eval**

</div>`,frontmatter:{},index:22,start:386,end:397,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:22,no:23},__clicksElements:[],__preloaded:!1}},{path:"24",name:"page-24",component:A1,meta:{slide:{raw:`
# A03 Injection \u{1F489}: Common vulnerabilities

<div class="dense">

- Lack of validation or **sanitization** of user input
- Dynamic queries or non-parameterized calls without context-aware **escaping** are used directly in the interpreter
- Hostile data is used within object-relational mapping (ORM) **search parameters** to extract additional, sensitive records

</div>
`,title:"A03 Injection \u{1F489}: Common vulnerabilities",level:1,content:`# A03 Injection \u{1F489}: Common vulnerabilities

<div class="dense">

- Lack of validation or **sanitization** of user input
- Dynamic queries or non-parameterized calls without context-aware **escaping** are used directly in the interpreter
- Hostile data is used within object-relational mapping (ORM) **search parameters** to extract additional, sensitive records

</div>`,frontmatter:{},index:23,start:398,end:409,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:23,no:24},__clicksElements:[],__preloaded:!1}},{path:"25",name:"page-25",component:E1,meta:{slide:{raw:`
# A03 Injection \u{1F489}: Attack

<div class="dense">

- Run the server for step 3 (\`cd src/a03-injection\`, \`npm start\`)
- In Postman, run the query for \`A03: Get customer by name\`. Observe the data for \`name: "alice"\` being returned
- Try to run the query for \`A03: SQL Injection\`. Observe all the customers being returned
- The query param value \`' OR '1'='1\` takes advantage of the unsafe string concatenation to create this SQL query
  \`SELECT * FROM customers WHERE name='' OR '1'='1'\` which will return every record in the table

</div>
`,title:"A03 Injection \u{1F489}: Attack",level:1,content:"# A03 Injection \u{1F489}: Attack\n\n<div class=\"dense\">\n\n- Run the server for step 3 (`cd src/a03-injection`, `npm start`)\n- In Postman, run the query for `A03: Get customer by name`. Observe the data for `name: \"alice\"` being returned\n- Try to run the query for `A03: SQL Injection`. Observe all the customers being returned\n- The query param value `' OR '1'='1` takes advantage of the unsafe string concatenation to create this SQL query\n  `SELECT * FROM customers WHERE name='' OR '1'='1'` which will return every record in the table\n\n</div>",frontmatter:{},index:24,start:410,end:423,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:24,no:25},__clicksElements:[],__preloaded:!1}},{path:"26",name:"page-26",component:B1,meta:{slide:{raw:`
# A03 Injection \u{1F489}: Fixing it

<div class="dense">

- Prefer using a safe API that **sanitizes input** e.g \`@nearform/sql\`
- **Escape special characters** using the specific escape syntax for that interpreter
- Avoid user-supplied table names or column names as they cannot be escaped
- **Automated testing** of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged

</div>
`,title:"A03 Injection \u{1F489}: Fixing it",level:1,content:`# A03 Injection \u{1F489}: Fixing it

<div class="dense">

- Prefer using a safe API that **sanitizes input** e.g \`@nearform/sql\`
- **Escape special characters** using the specific escape syntax for that interpreter
- Avoid user-supplied table names or column names as they cannot be escaped
- **Automated testing** of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged

</div>`,frontmatter:{},index:25,start:424,end:436,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:25,no:26},__clicksElements:[],__preloaded:!1}},{path:"27",name:"page-27",component:O1,meta:{slide:{raw:`
# A03 Injection \u{1F489}: Solution

<div class="dense">

- The \`@nearform/sql\` library escapes special characters contained in the user's input

\`\`\`js
// import SQL from '@nearform/sql'
export default async function customer(fastify) {
  fastify.get(
    '/customer',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { name } = req.query
      const { rows: customers } = await fastify.pg.query(
        SQL\`SELECT * FROM customers WHERE name=\${name}\`
      )
      if (!customers.length) throw errors.NotFound()
      return customers
    }
  )
}
\`\`\`

</div>
`,title:"A03 Injection \u{1F489}: Solution",level:1,content:`# A03 Injection \u{1F489}: Solution

<div class="dense">

- The \`@nearform/sql\` library escapes special characters contained in the user's input

\`\`\`js
// import SQL from '@nearform/sql'
export default async function customer(fastify) {
  fastify.get(
    '/customer',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { name } = req.query
      const { rows: customers } = await fastify.pg.query(
        SQL\`SELECT * FROM customers WHERE name=\${name}\`
      )
      if (!customers.length) throw errors.NotFound()
      return customers
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:26,start:437,end:466,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:26,no:27},__clicksElements:[],__preloaded:!1}},{path:"28",name:"page-28",component:T1,meta:{slide:{raw:`
# A04: Insecure Design

<div class="dense">

- Fundamental design flaws of the software can cause security issues
- Those issues cannot be fixed by a better more secure code implementation
- Failure to determine the clevel of security design required during design

</div>
`,title:"A04: Insecure Design",level:1,content:`# A04: Insecure Design

<div class="dense">

- Fundamental design flaws of the software can cause security issues
- Those issues cannot be fixed by a better more secure code implementation
- Failure to determine the clevel of security design required during design

</div>`,frontmatter:{},index:27,start:467,end:478,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:27,no:28},__clicksElements:[],__preloaded:!1}},{path:"29",name:"page-29",component:L1,meta:{slide:{raw:`
# A04 Insecure Design: Examples

<div class="dense">

- A forgotten password flow with "security questions" is insecure by design because more than one person can know the answer
- An ecommerce website sells high-end video cards that scalpers buy with bots to resell, causing bad PR with customers. Most websites wouldn't need to design against bots, but due to the nature of the product being sold this one does
- A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make hundreds of small booking requests at once to block all seats, causing massive revenue loss

</div>

# A04 Insecure Design: How to prevent

<div class="dense">

- Model threats for the application, all its flows and business logic
- Continuously evaluate security requirement and design during the development lifecycle
- Consider security rules and access controls for every user story
- Use unit and integration tests to verify the application is resistant to the threat model

</div>
`,title:"A04 Insecure Design: Examples",level:1,content:`# A04 Insecure Design: Examples

<div class="dense">

- A forgotten password flow with "security questions" is insecure by design because more than one person can know the answer
- An ecommerce website sells high-end video cards that scalpers buy with bots to resell, causing bad PR with customers. Most websites wouldn't need to design against bots, but due to the nature of the product being sold this one does
- A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make hundreds of small booking requests at once to block all seats, causing massive revenue loss

</div>

# A04 Insecure Design: How to prevent

<div class="dense">

- Model threats for the application, all its flows and business logic
- Continuously evaluate security requirement and design during the development lifecycle
- Consider security rules and access controls for every user story
- Use unit and integration tests to verify the application is resistant to the threat model

</div>`,frontmatter:{},index:28,start:479,end:501,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:28,no:29},__clicksElements:[],__preloaded:!1}},{path:"30",name:"page-30",component:j1,meta:{slide:{raw:`
# A04 Exercise

<div class="dense">

- The \`/buy-product\` endpoint does not have protection against bots run by scalpers
- It means that someone can buy a lot of stock quickly and leave legitimate customers without any

</div>
`,title:"A04 Exercise",level:1,content:`# A04 Exercise

<div class="dense">

- The \`/buy-product\` endpoint does not have protection against bots run by scalpers
- It means that someone can buy a lot of stock quickly and leave legitimate customers without any

</div>`,frontmatter:{},index:29,start:502,end:512,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:29,no:30},__clicksElements:[],__preloaded:!1}},{path:"31",name:"page-31",component:U1,meta:{slide:{raw:`
# A04 Exercise: Simulating multiple purchases in a short time frame

<div class="dense">

- Run the server for step 4 (\`cd src/a04-insecure-design\`, \`npm start\`)
- In Postman, run the query for \`A04: Buy product\`. Observe the data for \`success: true\` being returned
- Run the query many times in a row in a short period of time
- Notice that there is no protection against multiple sequential purchases
</div>
`,title:"A04 Exercise: Simulating multiple purchases in a short time frame",level:1,content:'# A04 Exercise: Simulating multiple purchases in a short time frame\n\n<div class="dense">\n\n- Run the server for step 4 (`cd src/a04-insecure-design`, `npm start`)\n- In Postman, run the query for `A04: Buy product`. Observe the data for `success: true` being returned\n- Run the query many times in a row in a short period of time\n- Notice that there is no protection against multiple sequential purchases\n</div>',frontmatter:{},index:30,start:513,end:524,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:30,no:31},__clicksElements:[],__preloaded:!1}},{path:"32",name:"page-32",component:K1,meta:{slide:{raw:`
# A04 Exercise: Fixing it

<div class="dense">

- Prefer using rate limiter for your routes
- Using [\`fastify-rate-limit\`](https://github.com/fastify/fastify-rate-limit) is a good idea for setting a rate limit
- Let's consider a scenario where a user can buy a maximum of two products per minute
- Edit the \`/buy-product\` route in the exercise folder considering the scenario above
- Make sure the tests pass: \`npm run verify\`

</div>
`,title:"A04 Exercise: Fixing it",level:1,content:`# A04 Exercise: Fixing it

<div class="dense">

- Prefer using rate limiter for your routes
- Using [\`fastify-rate-limit\`](https://github.com/fastify/fastify-rate-limit) is a good idea for setting a rate limit
- Let's consider a scenario where a user can buy a maximum of two products per minute
- Edit the \`/buy-product\` route in the exercise folder considering the scenario above
- Make sure the tests pass: \`npm run verify\`

</div>`,frontmatter:{},index:31,start:525,end:538,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:31,no:32},__clicksElements:[],__preloaded:!1}},{path:"33",name:"page-33",component:J1,meta:{slide:{raw:`
# A04 Exercise: Solution

<div class="dense">

\`\`\`js
// register the rateLimit plugin in the server.js file
await fastify.register(rateLimit)
\`\`\`

\`\`\`js
// the rate limit is set to a maximum of two purchases per minute
export default async function ecommerce(fastify) {
  fastify.post(
    '/buy-product',
    {
      config: {
        rateLimit: {
          max: 2,
          timeWindow: '1 minute'
        }
      }
    },
    (req, reply) => {
      reply.send({ success: true })
    }
  )
}
\`\`\`

</div>
`,title:"A04 Exercise: Solution",level:1,content:`# A04 Exercise: Solution

<div class="dense">

\`\`\`js
// register the rateLimit plugin in the server.js file
await fastify.register(rateLimit)
\`\`\`

\`\`\`js
// the rate limit is set to a maximum of two purchases per minute
export default async function ecommerce(fastify) {
  fastify.post(
    '/buy-product',
    {
      config: {
        rateLimit: {
          max: 2,
          timeWindow: '1 minute'
        }
      }
    },
    (req, reply) => {
      reply.send({ success: true })
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:32,start:539,end:571,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:32,no:33},__clicksElements:[],__preloaded:!1}},{path:"34",name:"page-34",component:t3,meta:{slide:{raw:`
# A05: Security Misconfiguration

<div class="dense">

- Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk
- Badly configured servers or services can lead to vulnerabilities
- With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration

</div>
`,title:"A05: Security Misconfiguration",level:1,content:`# A05: Security Misconfiguration

<div class="dense">

- Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk
- Badly configured servers or services can lead to vulnerabilities
- With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration

</div>`,frontmatter:{},index:33,start:572,end:583,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:33,no:34},__clicksElements:[],__preloaded:!1}},{path:"35",name:"page-35",component:o3,meta:{slide:{raw:`
# A05 Security Misconfiguration: Common Vulnerabilities

<div class="dense">

- Improperly configured permissions or security settings
- Unnecessary features enabled: open ports, services, accounts with elevated accesss...
- Default credentials unchanged
- Out of date or vulnerable server
- Stack trace from error handling revealing information to users

</div>
`,title:"A05 Security Misconfiguration: Common Vulnerabilities",level:1,content:`# A05 Security Misconfiguration: Common Vulnerabilities

<div class="dense">

- Improperly configured permissions or security settings
- Unnecessary features enabled: open ports, services, accounts with elevated accesss...
- Default credentials unchanged
- Out of date or vulnerable server
- Stack trace from error handling revealing information to users

</div>`,frontmatter:{},index:34,start:584,end:597,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:34,no:35},__clicksElements:[],__preloaded:!1}},{path:"36",name:"page-36",component:a3,meta:{slide:{raw:`
# A05 Security Misconfiguration: How to prevent

<div class="dense">

- Repeatable, automated and fast to deploy environments
- Different credentials should be used in each environment
- Frequently review security updates, patches and permissions
- A segmented architecture increases security by separating components, tenants, containers or cloud security groups
- An automated process to verify the effectiveness of the configurations

</div>
`,title:"A05 Security Misconfiguration: How to prevent",level:1,content:`# A05 Security Misconfiguration: How to prevent

<div class="dense">

- Repeatable, automated and fast to deploy environments
- Different credentials should be used in each environment
- Frequently review security updates, patches and permissions
- A segmented architecture increases security by separating components, tenants, containers or cloud security groups
- An automated process to verify the effectiveness of the configurations

</div>`,frontmatter:{},index:35,start:598,end:611,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:35,no:36},__clicksElements:[],__preloaded:!1}},{path:"37",name:"page-37",component:p3,meta:{slide:{raw:'\n# A05 Security Misconfiguration: Unsigned Cookies\n\n<div class="dense">\n\n- Run the server for step 5 (`cd src/a05-security-misconfiguration`, `npm start`)\n- In Postman, run the query for `A05: Login`. Observe a cookie with `userId=1` being returned\n- Try to run the query for `A05: Profile`. Observe the information about profile with `userId=1` being returned\n- Try to change the value of the cookie to `userId=2`. Observe information about `userId=2` being returned\n\n</div>\n',title:"A05 Security Misconfiguration: Unsigned Cookies",level:1,content:'# A05 Security Misconfiguration: Unsigned Cookies\n\n<div class="dense">\n\n- Run the server for step 5 (`cd src/a05-security-misconfiguration`, `npm start`)\n- In Postman, run the query for `A05: Login`. Observe a cookie with `userId=1` being returned\n- Try to run the query for `A05: Profile`. Observe the information about profile with `userId=1` being returned\n- Try to change the value of the cookie to `userId=2`. Observe information about `userId=2` being returned\n\n</div>',frontmatter:{},index:36,start:612,end:624,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:36,no:37},__clicksElements:[],__preloaded:!1}},{path:"38",name:"page-38",component:f3,meta:{slide:{raw:`
# A05 Security Misconfiguration: Fixing it

<div class="dense">

- Cookie must always be **[signed](https://github.com/fastify/fastify-cookie)** to ensure they are not getting tampered with on client-side by an attacker
- It's important to use **httpOnly** cookies to prevent the cookie being accessed through client side script
- Store the **signing secret** safely.
- Don't store sentive information in cleartext

</div>
`,title:"A05 Security Misconfiguration: Fixing it",level:1,content:`# A05 Security Misconfiguration: Fixing it

<div class="dense">

- Cookie must always be **[signed](https://github.com/fastify/fastify-cookie)** to ensure they are not getting tampered with on client-side by an attacker
- It's important to use **httpOnly** cookies to prevent the cookie being accessed through client side script
- Store the **signing secret** safely.
- Don't store sentive information in cleartext

</div>`,frontmatter:{},index:37,start:625,end:637,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:37,no:38},__clicksElements:[],__preloaded:!1}},{path:"39",name:"page-39",component:g3,meta:{slide:{raw:`
# A05 Security Misconfiguration: Solution

<div class="dense">

\`\`\`js
export function login(fastify) {
  fastify.post('/login', { schema }, async (req, rep) => {
    const { username, password } = req.body
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, password FROM users WHERE username = \${username}\`
    )
    if (!user) {
      throw errors.Unauthorized('No matching user found')
    }
    const passwordMatch = await comparePassword(password, user.password)
    if (!passwordMatch) {
      throw errors.Unauthorized('Invalid Password')
    }
    rep.setCookie('userId', JSON.stringify(user.id), {
      signed: true, // signing the cookie
      httpOnly: true // http only
    })
    return 'user logged in'
  })
}
\`\`\`

</div>
`,title:"A05 Security Misconfiguration: Solution",level:1,content:`# A05 Security Misconfiguration: Solution

<div class="dense">

\`\`\`js
export function login(fastify) {
  fastify.post('/login', { schema }, async (req, rep) => {
    const { username, password } = req.body
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, password FROM users WHERE username = \${username}\`
    )
    if (!user) {
      throw errors.Unauthorized('No matching user found')
    }
    const passwordMatch = await comparePassword(password, user.password)
    if (!passwordMatch) {
      throw errors.Unauthorized('Invalid Password')
    }
    rep.setCookie('userId', JSON.stringify(user.id), {
      signed: true, // signing the cookie
      httpOnly: true // http only
    })
    return 'user logged in'
  })
}
\`\`\`

</div>`,frontmatter:{},index:38,start:638,end:670,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:38,no:39},__clicksElements:[],__preloaded:!1}},{path:"40",name:"page-40",component:w3,meta:{slide:{raw:`
# A05 Security Misconfiguration: Solution (2)

<div class="dense">

\`\`\`js
export function profile(fastify) {
  fastify.get('/profile', async req => {
    const { value: id, valid } = fastify.unsignCookie(
      //unsign the cookie and check validity
      req?.cookies?.userId || ''
    )

    if (!valid) {
      // check if the cookie has been tampered
      throw new errors.Unauthorized()
    }
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, age FROM users WHERE id = \${id}\`
    )
    if (!user) {
      throw new errors.NotFound()
    }
    return user
  })
}
\`\`\`

</div>
`,title:"A05 Security Misconfiguration: Solution (2)",level:1,content:`# A05 Security Misconfiguration: Solution (2)

<div class="dense">

\`\`\`js
export function profile(fastify) {
  fastify.get('/profile', async req => {
    const { value: id, valid } = fastify.unsignCookie(
      //unsign the cookie and check validity
      req?.cookies?.userId || ''
    )

    if (!valid) {
      // check if the cookie has been tampered
      throw new errors.Unauthorized()
    }
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, age FROM users WHERE id = \${id}\`
    )
    if (!user) {
      throw new errors.NotFound()
    }
    return user
  })
}
\`\`\`

</div>`,frontmatter:{},index:39,start:671,end:703,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:39,no:40},__clicksElements:[],__preloaded:!1}},{path:"41",name:"page-41",component:D3,meta:{slide:{raw:`
# A06: Vulnerable and Outdated Components

<div class="dense">

- Applications use a variety of components and libraries which can have security issues
- Vulnerable components can be an attack vector until they are patched
- Particularly relevant in the node.js world with an ever-growing NPM dependency tree

</div>
`,title:"A06: Vulnerable and Outdated Components",level:1,content:`# A06: Vulnerable and Outdated Components

<div class="dense">

- Applications use a variety of components and libraries which can have security issues
- Vulnerable components can be an attack vector until they are patched
- Particularly relevant in the node.js world with an ever-growing NPM dependency tree

</div>`,frontmatter:{},index:40,start:704,end:715,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:40,no:41},__clicksElements:[],__preloaded:!1}},{path:"42",name:"page-42",component:x3,meta:{slide:{raw:`
# A06 Vulnerable and Outdated Components: Common Vulnerabilities

<div class="dense">

- Not tracking versions of used components, including nested dependencies
- Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes...
- Not scanning for vulnerabilities regularly and subscribing to security news for used components
- Not fixing vulnerable dependencies in a timely fashion

</div>
`,title:"A06 Vulnerable and Outdated Components: Common Vulnerabilities",level:1,content:`# A06 Vulnerable and Outdated Components: Common Vulnerabilities

<div class="dense">

- Not tracking versions of used components, including nested dependencies
- Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes...
- Not scanning for vulnerabilities regularly and subscribing to security news for used components
- Not fixing vulnerable dependencies in a timely fashion

</div>`,frontmatter:{},index:41,start:716,end:728,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:41,no:42},__clicksElements:[],__preloaded:!1}},{path:"43",name:"page-43",component:O3,meta:{slide:{raw:`
# A06 Vulnerable and Outdated Components: How to prevent

<div class="dense">

- Remove unused dependencies, unnecessary features, components, files, and documentation
- Continuously inventory the versions of components and their dependencies
- Monitor for libraries and components that are **unmaintained** or do not create security patches for older versions
- Only obtain components from **official** sources over secure links

</div>
`,title:"A06 Vulnerable and Outdated Components: How to prevent",level:1,content:`# A06 Vulnerable and Outdated Components: How to prevent

<div class="dense">

- Remove unused dependencies, unnecessary features, components, files, and documentation
- Continuously inventory the versions of components and their dependencies
- Monitor for libraries and components that are **unmaintained** or do not create security patches for older versions
- Only obtain components from **official** sources over secure links

</div>`,frontmatter:{},index:42,start:729,end:741,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:42,no:43},__clicksElements:[],__preloaded:!1}},{path:"44",name:"page-44",component:T3,meta:{slide:{raw:'\n# A06 Vulnerable and Outdated Components: The SSRF attack\n\n<div class="dense">\n\n- Run the server for step 6 (`cd src/a06-vulnerable-outdated`, `npm start`)\n- In Postman, run the query for `A06: Profile`. Observe error `404` being returned\n- Try to run the query for `A06: SSRF`. Observe the response **"message": "connect ECONNREFUSED 127.0.0.1:80"**\n</div>\n',title:"A06 Vulnerable and Outdated Components: The SSRF attack",level:1,content:'# A06 Vulnerable and Outdated Components: The SSRF attack\n\n<div class="dense">\n\n- Run the server for step 6 (`cd src/a06-vulnerable-outdated`, `npm start`)\n- In Postman, run the query for `A06: Profile`. Observe error `404` being returned\n- Try to run the query for `A06: SSRF`. Observe the response **"message": "connect ECONNREFUSED 127.0.0.1:80"**\n</div>',frontmatter:{},index:43,start:742,end:752,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:43,no:44},__clicksElements:[],__preloaded:!1}},{path:"45",name:"page-45",component:I3,meta:{slide:{raw:`
# A06 Vulnerable and Outdated Components: The SSRF attack (2)

<div class="dense">

- Because of an outdated version of the HTTP client library **[undici](https://github.com/nodejs/undici)** we can exploit a known **[vulnerability](https://www.cvedetails.com/cve/CVE-2022-35949/)**
- By passing the value \`//127.0.0.1\` in the username query param, we override the original hostname and we can make the server perform a GET to \`127.0.0.1:80\`
</div>
`,title:"A06 Vulnerable and Outdated Components: The SSRF attack (2)",level:1,content:`# A06 Vulnerable and Outdated Components: The SSRF attack (2)

<div class="dense">

- Because of an outdated version of the HTTP client library **[undici](https://github.com/nodejs/undici)** we can exploit a known **[vulnerability](https://www.cvedetails.com/cve/CVE-2022-35949/)**
- By passing the value \`//127.0.0.1\` in the username query param, we override the original hostname and we can make the server perform a GET to \`127.0.0.1:80\`
</div>`,frontmatter:{},index:44,start:753,end:762,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:44,no:45},__clicksElements:[],__preloaded:!1}},{path:"46",name:"page-46",component:q3,meta:{slide:{raw:`
# A06 Vulnerable and Outdated Components: Fixing it

<div class="dense">

- Validate user input before passing it to the \`undici.request\` call.
- Update the library to a version in which this vulnerability was fixed

</div>
`,title:"A06 Vulnerable and Outdated Components: Fixing it",level:1,content:`# A06 Vulnerable and Outdated Components: Fixing it

<div class="dense">

- Validate user input before passing it to the \`undici.request\` call.
- Update the library to a version in which this vulnerability was fixed

</div>`,frontmatter:{},index:45,start:763,end:773,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:45,no:46},__clicksElements:[],__preloaded:!1}},{path:"47",name:"page-47",component:V3,meta:{slide:{raw:`
# A06 Vulnerable and Outdated Components: The Solution

<div class="dense">

\`\`\`js
import { request } from 'undici' // updated undici version >= 5.8.1
export default function (fastify) {
  fastify.get(
    '/profile',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { username } = req.query
      if (/^\\//.test(username)) { // check username doesn't start with /
        throw errors.BadRequest()
      }
      const { body, statusCode } = await request({
        origin: 'http://example.com',
        pathname: username
      })
      if (statusCode !== 200) {
        throw errors.NotFound()
      }
      return body
    }
  )
}

\`\`\`

</div>
`,title:"A06 Vulnerable and Outdated Components: The Solution",level:1,content:`# A06 Vulnerable and Outdated Components: The Solution

<div class="dense">

\`\`\`js
import { request } from 'undici' // updated undici version >= 5.8.1
export default function (fastify) {
  fastify.get(
    '/profile',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { username } = req.query
      if (/^\\//.test(username)) { // check username doesn't start with /
        throw errors.BadRequest()
      }
      const { body, statusCode } = await request({
        origin: 'http://example.com',
        pathname: username
      })
      if (statusCode !== 200) {
        throw errors.NotFound()
      }
      return body
    }
  )
}

\`\`\`

</div>`,frontmatter:{},index:46,start:774,end:808,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:46,no:47},__clicksElements:[],__preloaded:!1}},{path:"48",name:"page-48",component:z3,meta:{slide:{raw:`
# A07: Identification and Authentication Failures

<div class="dense">

- Verification of the user's identity, authentication, and session management is crucial to security
- Weak or vulnerable authentication systems can be exploited to gain access
- Systems with broken authentication can lead to data breaches and passwords leak

</div>
`,title:"A07: Identification and Authentication Failures",level:1,content:`# A07: Identification and Authentication Failures

<div class="dense">

- Verification of the user's identity, authentication, and session management is crucial to security
- Weak or vulnerable authentication systems can be exploited to gain access
- Systems with broken authentication can lead to data breaches and passwords leak

</div>`,frontmatter:{},index:47,start:809,end:820,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:47,no:48},__clicksElements:[],__preloaded:!1}},{path:"49",name:"page-49",component:Z3,meta:{slide:{raw:`
# A07 Identification and Authentication Failures: Common Vulnerabilities

<div class="dense">

- Application allows for credentials stuffing or brute forcing
- Allows default, weak or known passwords
- Exploitable credential recovery processes
- Lack of effective multi-factor authentication
- Unencrypted or weakly encrypted password storage

</div>
`,title:"A07 Identification and Authentication Failures: Common Vulnerabilities",level:1,content:`# A07 Identification and Authentication Failures: Common Vulnerabilities

<div class="dense">

- Application allows for credentials stuffing or brute forcing
- Allows default, weak or known passwords
- Exploitable credential recovery processes
- Lack of effective multi-factor authentication
- Unencrypted or weakly encrypted password storage

</div>`,frontmatter:{},index:48,start:821,end:834,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:48,no:49},__clicksElements:[],__preloaded:!1}},{path:"50",name:"page-50",component:J3,meta:{slide:{raw:`
# A07 Identification and Authentication Failures: How to prevent

<div class="dense">

- Where possible, implement multi-factor authentication
- Require strong passwords (length, complexity, rotation policies, and don't allow leaked passwords use)
- Ensure registration and credential recovery use the same messages for all outcomes
- Limit or increasingly delay failed login attempts
- Use secure password data store practices (salting + hashing)

</div>
`,title:"A07 Identification and Authentication Failures: How to prevent",level:1,content:`# A07 Identification and Authentication Failures: How to prevent

<div class="dense">

- Where possible, implement multi-factor authentication
- Require strong passwords (length, complexity, rotation policies, and don't allow leaked passwords use)
- Ensure registration and credential recovery use the same messages for all outcomes
- Limit or increasingly delay failed login attempts
- Use secure password data store practices (salting + hashing)

</div>`,frontmatter:{},index:49,start:835,end:848,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:49,no:50},__clicksElements:[],__preloaded:!1}},{path:"51",name:"page-51",component:tw,meta:{slide:{raw:`
# A07 Identification and Authentication Failures: Allowing leaked passwords (1)

<div class="dense">

- In 2017 the NIST **[recommended](https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value)** that websites should check all new passwords against available lists of data breaches.
- This practice has been adopted by OWASP and became part of their **[recommendation](<https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.>)**.
- In the real scenario you should try to use something like **[Have I Been Pwned](https://haveibeenpwned.com/Passwords)**

</div>
`,title:"A07 Identification and Authentication Failures: Allowing leaked passwords (1)",level:1,content:`# A07 Identification and Authentication Failures: Allowing leaked passwords (1)

<div class="dense">

- In 2017 the NIST **[recommended](https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value)** that websites should check all new passwords against available lists of data breaches.
- This practice has been adopted by OWASP and became part of their **[recommendation](<https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.>)**.
- In the real scenario you should try to use something like **[Have I Been Pwned](https://haveibeenpwned.com/Passwords)**

</div>`,frontmatter:{},index:50,start:849,end:860,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:50,no:51},__clicksElements:[],__preloaded:!1}},{path:"52",name:"page-52",component:ow,meta:{slide:{raw:`
# A07 Identification and Authentication Failures: Allowing leaked passwords (2)

<div class="dense">

- In the workshop - the database contains the list of leaked passwords in \`databreachrecords\`
- Run the server for step 7 (\`cd src/a07-authentication-failures\`, \`npm start\`)
- In Postman, run the query for \`A07: Register\`. Observe a token is succesfully returned
- In the database check the \`databreachrecords\` table for password used in the Postman request body

</div>
`,title:"A07 Identification and Authentication Failures: Allowing leaked passwords (2)",level:1,content:'# A07 Identification and Authentication Failures: Allowing leaked passwords (2)\n\n<div class="dense">\n\n- In the workshop - the database contains the list of leaked passwords in `databreachrecords`\n- Run the server for step 7 (`cd src/a07-authentication-failures`, `npm start`)\n- In Postman, run the query for `A07: Register`. Observe a token is succesfully returned\n- In the database check the `databreachrecords` table for password used in the Postman request body\n\n</div>',frontmatter:{},index:51,start:861,end:873,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:51,no:52},__clicksElements:[],__preloaded:!1}},{path:"53",name:"page-53",component:aw,meta:{slide:{raw:`
# A07 Identification and Authentication Failures: Allowing leaked passwords (3)

<div class="dense">

- It should not allow to use passwords that are known to be leaked
- Instead it should require the user to set a different password indicating what is the reason
- Place your solution in the \`routes/user/index.js\`
- Test it by running \`npm run verify\` (it will fail initially)

</div>
`,title:"A07 Identification and Authentication Failures: Allowing leaked passwords (3)",level:1,content:`# A07 Identification and Authentication Failures: Allowing leaked passwords (3)

<div class="dense">

- It should not allow to use passwords that are known to be leaked
- Instead it should require the user to set a different password indicating what is the reason
- Place your solution in the \`routes/user/index.js\`
- Test it by running \`npm run verify\` (it will fail initially)

</div>`,frontmatter:{},index:52,start:874,end:886,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:52,no:53},__clicksElements:[],__preloaded:!1}},{path:"54",name:"page-54",component:pw,meta:{slide:{raw:"\n# A07 Identification and Authentication Failures: Fixing it\n\n<div class=\"dense\">\n\n- Using data available in `databreachrecords` check if requested password is safe to use\n- Run `sql` query inside the `/register` endpoint to check if the password is there\n- Return a `400` error with `message` indicating the source of the leak: `'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'`\n\n</div>\n",title:"A07 Identification and Authentication Failures: Fixing it",level:1,content:"# A07 Identification and Authentication Failures: Fixing it\n\n<div class=\"dense\">\n\n- Using data available in `databreachrecords` check if requested password is safe to use\n- Run `sql` query inside the `/register` endpoint to check if the password is there\n- Return a `400` error with `message` indicating the source of the leak: `'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'`\n\n</div>",frontmatter:{},index:53,start:887,end:898,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:53,no:54},__clicksElements:[],__preloaded:!1}},{path:"55",name:"page-55",component:hw,meta:{slide:{raw:`
# A07 Identification and Authentication Failures: Solution

<div class="dense">

- File containing full solution is in the \`routes/user/solution.js\`

\`\`\`js
const {
  rows: [breach]
} = await fastify.pg.query(
  SQL\`SELECT * FROM databreachrecords WHERE password=\${password}\`
)

if (breach) {
  res.send(
    errors.BadRequest(
      \`You are trying to use password that is known to be exposed in data breaches: \${breach.source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.\`
    )
  )
}
\`\`\`

</div>
`,title:"A07 Identification and Authentication Failures: Solution",level:1,content:`# A07 Identification and Authentication Failures: Solution

<div class="dense">

- File containing full solution is in the \`routes/user/solution.js\`

\`\`\`js
const {
  rows: [breach]
} = await fastify.pg.query(
  SQL\`SELECT * FROM databreachrecords WHERE password=\${password}\`
)

if (breach) {
  res.send(
    errors.BadRequest(
      \`You are trying to use password that is known to be exposed in data breaches: \${breach.source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.\`
    )
  )
}
\`\`\`

</div>`,frontmatter:{},index:54,start:899,end:924,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:54,no:55},__clicksElements:[],__preloaded:!1}},{path:"56",name:"page-56",component:vw,meta:{slide:{raw:`
# A08: Software and Data Integrity Failures

<div class="dense">

- Code and infrastructure not protected against integrity violations
- Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users

</div>
`,title:"A08: Software and Data Integrity Failures",level:1,content:`# A08: Software and Data Integrity Failures

<div class="dense">

- Code and infrastructure not protected against integrity violations
- Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users

</div>`,frontmatter:{},index:55,start:925,end:935,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:55,no:56},__clicksElements:[],__preloaded:!1}},{path:"57",name:"page-57",component:ww,meta:{slide:{raw:`
# A08 Software and Data Integrity Failures: Common Vulnerabilities

<div class="dense">

- Libraries coming from untrusted sources, repos or CDNs
- Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to insecure deserialization
- An insecure CI/CD pipeline
- Updates downloaded without sufficient integrity verification

</div>
`,title:"A08 Software and Data Integrity Failures: Common Vulnerabilities",level:1,content:`# A08 Software and Data Integrity Failures: Common Vulnerabilities

<div class="dense">

- Libraries coming from untrusted sources, repos or CDNs
- Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to insecure deserialization
- An insecure CI/CD pipeline
- Updates downloaded without sufficient integrity verification

</div>`,frontmatter:{},index:56,start:936,end:948,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:56,no:57},__clicksElements:[],__preloaded:!1}},{path:"58",name:"page-58",component:Dw,meta:{slide:{raw:`
# A08 Software and Data Integrity Failures: How to prevent

<div class="dense">

- Using digital signatures for integrity checks on data and downloaded software
- Ensure npm dependencies are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies
- Use automated tools to verify that components don't contain known vulnerabilities
- Ensure there are code reviews for changes to minimise the risk of malicious code being introduced

</div>
`,title:"A08 Software and Data Integrity Failures: How to prevent",level:1,content:`# A08 Software and Data Integrity Failures: How to prevent

<div class="dense">

- Using digital signatures for integrity checks on data and downloaded software
- Ensure npm dependencies are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies
- Use automated tools to verify that components don't contain known vulnerabilities
- Ensure there are code reviews for changes to minimise the risk of malicious code being introduced

</div>`,frontmatter:{},index:57,start:949,end:961,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:57,no:58},__clicksElements:[],__preloaded:!1}},{path:"59",name:"page-59",component:xw,meta:{slide:{raw:`
# A08 Exercise - Insecure Deserialization

<div class="dense">

- Run the server for step 8 (\`cd src/a08-software-data-integrity-failures\`, \`npm start\`)
- In Postman, try to run the query for \`A08: Get profile from cookie\`. Observe the requests \`status code 500\` being returned
- This is happening because the server is deserializing a cookie containing a malicious JavaScript code which is forcing the server to throw an exception
</div>
`,title:"A08 Exercise - Insecure Deserialization",level:1,content:'# A08 Exercise - Insecure Deserialization\n\n<div class="dense">\n\n- Run the server for step 8 (`cd src/a08-software-data-integrity-failures`, `npm start`)\n- In Postman, try to run the query for `A08: Get profile from cookie`. Observe the requests `status code 500` being returned\n- This is happening because the server is deserializing a cookie containing a malicious JavaScript code which is forcing the server to throw an exception\n</div>',frontmatter:{},index:58,start:962,end:972,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:58,no:59},__clicksElements:[],__preloaded:!1}},{path:"60",name:"page-60",component:Ow,meta:{slide:{raw:`
# A08 Exercise - Insecure Deserialization

<div class="dense">

- Untrusted data passed into unserialize() function in \`node-serialize\` module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)
- The step by step to serialize a JavaScript code and insert it in the cookie can be found [in this article](https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/)
</div>
`,title:"A08 Exercise - Insecure Deserialization",level:1,content:`# A08 Exercise - Insecure Deserialization

<div class="dense">

- Untrusted data passed into unserialize() function in \`node-serialize\` module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)
- The step by step to serialize a JavaScript code and insert it in the cookie can be found [in this article](https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/)
</div>`,frontmatter:{},index:59,start:973,end:982,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:59,no:60},__clicksElements:[],__preloaded:!1}},{path:"61",name:"page-61",component:Mw,meta:{slide:{raw:`
# A08 Software and Data Integrity Failures: Sulution

<div class="dense">

- JSON.parse is a safer way to deserialize data

\`\`\`js
export default async function solution(fastify) {
  fastify.get('/profile', req => {
    const cookieAsStr = Buffer.from(req.cookies.profile, 'base64').toString(
      'ascii'
    )

    const profile = JSON.parse(cookieAsStr)

    if (profile.username) {
      return 'Hello ' + profile.username
    }

    return 'Hello guest'
  })
}
\`\`\`

</div>
`,title:"A08 Software and Data Integrity Failures: Sulution",level:1,content:`# A08 Software and Data Integrity Failures: Sulution

<div class="dense">

- JSON.parse is a safer way to deserialize data

\`\`\`js
export default async function solution(fastify) {
  fastify.get('/profile', req => {
    const cookieAsStr = Buffer.from(req.cookies.profile, 'base64').toString(
      'ascii'
    )

    const profile = JSON.parse(cookieAsStr)

    if (profile.username) {
      return 'Hello ' + profile.username
    }

    return 'Hello guest'
  })
}
\`\`\`

</div>`,frontmatter:{},index:60,start:983,end:1010,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:60,no:61},__clicksElements:[],__preloaded:!1}},{path:"62",name:"page-62",component:Lw,meta:{slide:{raw:`
# A09: Security Logging and Monitoring Failures

<div class="dense">

- Proper logging and monitoring is critical to detecting and responding to breaches
- It is important for alerting, accountability, visibility and forensics of security incidents

</div>
`,title:"A09: Security Logging and Monitoring Failures",level:1,content:`# A09: Security Logging and Monitoring Failures

<div class="dense">

- Proper logging and monitoring is critical to detecting and responding to breaches
- It is important for alerting, accountability, visibility and forensics of security incidents

</div>`,frontmatter:{},index:61,start:1011,end:1021,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:61,no:62},__clicksElements:[],__preloaded:!1}},{path:"63",name:"page-63",component:jw,meta:{slide:{raw:`
# A09: Security Logging and Monitoring Failures: Common Vulnerabilities

<div class="dense">

- Auditable events, such as logins, failed logins, and high-value transactions, are not logged
- Warnings and errors generate no, inadequate, or unclear log messages
- Logs of applications and APIs are not monitored for suspicious activity
- The application cannot detect, escalate, or alert for active attacks in real-time or near real-time

</div>
`,title:"A09: Security Logging and Monitoring Failures: Common Vulnerabilities",level:1,content:`# A09: Security Logging and Monitoring Failures: Common Vulnerabilities

<div class="dense">

- Auditable events, such as logins, failed logins, and high-value transactions, are not logged
- Warnings and errors generate no, inadequate, or unclear log messages
- Logs of applications and APIs are not monitored for suspicious activity
- The application cannot detect, escalate, or alert for active attacks in real-time or near real-time

</div>`,frontmatter:{},index:62,start:1022,end:1034,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:62,no:63},__clicksElements:[],__preloaded:!1}},{path:"64",name:"page-64",component:Uw,meta:{slide:{raw:`
# A09: Security Logging and Monitoring Failures: How to prevent

<div class="dense">

- Ensure all login, access control, and server-side input validation failures can be logged with sufficient user context to identify suspicious or malicious accounts
- Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems
- Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.

</div>
`,title:"A09: Security Logging and Monitoring Failures: How to prevent",level:1,content:`# A09: Security Logging and Monitoring Failures: How to prevent

<div class="dense">

- Ensure all login, access control, and server-side input validation failures can be logged with sufficient user context to identify suspicious or malicious accounts
- Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems
- Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.

</div>`,frontmatter:{},index:63,start:1035,end:1046,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:63,no:64},__clicksElements:[],__preloaded:!1}},{path:"65",name:"page-65",component:Kw,meta:{slide:{raw:`
# A09 Security Logging and Monitoring Failures: Suspicious activity \u{1F928}

<div class="dense">

- Run the server for step 5 (\`cd src/a05-security-misconfiguration\`, \`npm run verify\`)
- You can observe a log message \`something suspicious is happening\`
- Note that the application is using a vulnerable version of the http client **[undici](https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3)**

</div>
`,title:"A09 Security Logging and Monitoring Failures: Suspicious activity \u{1F928}",level:1,content:`# A09 Security Logging and Monitoring Failures: Suspicious activity \u{1F928}

<div class="dense">

- Run the server for step 5 (\`cd src/a05-security-misconfiguration\`, \`npm run verify\`)
- You can observe a log message \`something suspicious is happening\`
- Note that the application is using a vulnerable version of the http client **[undici](https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3)**

</div>`,frontmatter:{},index:64,start:1047,end:1058,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:64,no:65},__clicksElements:[],__preloaded:!1}},{path:"66",name:"page-66",component:Qw,meta:{slide:{raw:`
# A09 Security Logging and Monitoring Failures: How to fix it

<div class="dense">

- Log user input to identify suspicious or malicious accounts
- Validate user input

</div>
`,title:"A09 Security Logging and Monitoring Failures: How to fix it",level:1,content:`# A09 Security Logging and Monitoring Failures: How to fix it

<div class="dense">

- Log user input to identify suspicious or malicious accounts
- Validate user input

</div>`,frontmatter:{},index:65,start:1059,end:1069,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:65,no:66},__clicksElements:[],__preloaded:!1}},{path:"67",name:"page-67",component:eE,meta:{slide:{raw:`
# A09 Security Logging and Monitoring Failures: Solution

<div class="dense">

\`\`\`js
export default function profile(fastify) {
  fastify.get(
    '/profile',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      console.log({
        username: req.user.username, // add context to logs to help identify the user
        input: req.headers['content-type']
      })
      const headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/ // validate user input
      if (headerCharRegex.exec(req.headers['content-type']) !== null) {
        throw errors.BadRequest()
      }
      const { body } = await request('http://localhost:3001', {
        method: 'GET',
        headers: {
          'content-type': req.headers['content-type']
        }
      })
      return body
    }
  )
}
\`\`\`

 </div>
`,title:"A09 Security Logging and Monitoring Failures: Solution",level:1,content:`# A09 Security Logging and Monitoring Failures: Solution

<div class="dense">

\`\`\`js
export default function profile(fastify) {
  fastify.get(
    '/profile',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      console.log({
        username: req.user.username, // add context to logs to help identify the user
        input: req.headers['content-type']
      })
      const headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/ // validate user input
      if (headerCharRegex.exec(req.headers['content-type']) !== null) {
        throw errors.BadRequest()
      }
      const { body } = await request('http://localhost:3001', {
        method: 'GET',
        headers: {
          'content-type': req.headers['content-type']
        }
      })
      return body
    }
  )
}
\`\`\`

 </div>`,frontmatter:{},index:66,start:1070,end:1105,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:66,no:67},__clicksElements:[],__preloaded:!1}},{path:"68",name:"page-68",component:nE,meta:{slide:{raw:`
# A10: Server Side Request Forgery

<div class="dense">

- SSRF flaws occur whenever a web application is fetching a remote resource without validating the user-supplied URL
- It allows an attacker to coerce the application to send a crafted request to an unexpected destination, even when protected by a firewall, VPN, or another type of network access control list

</div>
`,title:"A10: Server Side Request Forgery",level:1,content:`# A10: Server Side Request Forgery

<div class="dense">

- SSRF flaws occur whenever a web application is fetching a remote resource without validating the user-supplied URL
- It allows an attacker to coerce the application to send a crafted request to an unexpected destination, even when protected by a firewall, VPN, or another type of network access control list

</div>`,frontmatter:{},index:67,start:1106,end:1116,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:67,no:68},__clicksElements:[],__preloaded:!1}},{path:"69",name:"page-69",component:rE,meta:{slide:{raw:`
# A10: Server Side Request Forgery: How to prevent

<div class="dense">

- Sanitize and validate all client-supplied input data
- Enforce the URL schema, port, and destination with a positive allow list
- Do not send raw responses to clients
- Disable HTTP redirections
- Do not mitigate SSRF via the use of a deny list or regular expression

</div>
`,title:"A10: Server Side Request Forgery: How to prevent",level:1,content:`# A10: Server Side Request Forgery: How to prevent

<div class="dense">

- Sanitize and validate all client-supplied input data
- Enforce the URL schema, port, and destination with a positive allow list
- Do not send raw responses to clients
- Disable HTTP redirections
- Do not mitigate SSRF via the use of a deny list or regular expression

</div>`,frontmatter:{},index:68,start:1117,end:1130,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:68,no:69},__clicksElements:[],__preloaded:!1}},{path:"70",name:"page-70",component:cE,meta:{slide:{raw:`
# A10: Server Side Request Forgery: The Attack

<div class="dense">

- Run the server for step 10 (\`cd src/a10-server-side-request-forgery\`, \`npm start\`)
- In Postman, run the query for \`A10: Upload Image\`. Observe an image being returned
- Try to run the query for \`A10: Malicious Image url\`. Observe \`something suspicious is happening\` being returned
- The server is not sanitizing user input so it will send a request to whatever url provided in the payload

</div>
`,title:"A10: Server Side Request Forgery: The Attack",level:1,content:'# A10: Server Side Request Forgery: The Attack\n\n<div class="dense">\n\n- Run the server for step 10 (`cd src/a10-server-side-request-forgery`, `npm start`)\n- In Postman, run the query for `A10: Upload Image`. Observe an image being returned\n- Try to run the query for `A10: Malicious Image url`. Observe `something suspicious is happening` being returned\n- The server is not sanitizing user input so it will send a request to whatever url provided in the payload\n\n</div>',frontmatter:{},index:69,start:1131,end:1143,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:69,no:70},__clicksElements:[],__preloaded:!1}},{path:"71",name:"page-71",component:dE,meta:{slide:{raw:`
# A10: Server Side Request Forgery: How to fix

<div class="dense">

- Sanitize the url making sure it's valid
- Create a whitelist of allowed domains by adding them in the database column \`allowedImageDomain\`
- Make sure the requested domain is in the whitelist

</div>
`,title:"A10: Server Side Request Forgery: How to fix",level:1,content:`# A10: Server Side Request Forgery: How to fix

<div class="dense">

- Sanitize the url making sure it's valid
- Create a whitelist of allowed domains by adding them in the database column \`allowedImageDomain\`
- Make sure the requested domain is in the whitelist

</div>`,frontmatter:{},index:70,start:1144,end:1155,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:70,no:71},__clicksElements:[],__preloaded:!1}},{path:"72",name:"page-72",component:mE,meta:{slide:{raw:`
# A10: Server Side Request Forgery: Solution

<div class="dense">

\`\`\`js
export default async function profilePicture(fastify) {
  fastify.post(
    '/user/image',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { imgUrl } = req.body
      const url = validateUrl(imgUrl) // validate url using the URL object
      const {
        rows: [whitelisted]
      } = await fastify.pg.query(
        SQL\`SELECT * FROM allowedImageDomain WHERE hostname = \${url.hostname}\`
      )
      if (!whitelisted) {
        throw errors.Forbidden()
      }
      const { data } = await axios.get(url.href)
      return data
    }
  )
}
\`\`\`

</div>
`,title:"A10: Server Side Request Forgery: Solution",level:1,content:`# A10: Server Side Request Forgery: Solution

<div class="dense">

\`\`\`js
export default async function profilePicture(fastify) {
  fastify.post(
    '/user/image',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { imgUrl } = req.body
      const url = validateUrl(imgUrl) // validate url using the URL object
      const {
        rows: [whitelisted]
      } = await fastify.pg.query(
        SQL\`SELECT * FROM allowedImageDomain WHERE hostname = \${url.hostname}\`
      )
      if (!whitelisted) {
        throw errors.Forbidden()
      }
      const { data } = await axios.get(url.href)
      return data
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:71,start:1156,end:1188,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:71,no:72},__clicksElements:[],__preloaded:!1}},{path:"73",name:"page-73",component:AE,meta:{slide:{raw:`
# Beyond the Top 10

<div class="dense">

- The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing
- By its nature, the Top 10 is a series of guidelines but can't be tested easily as its applications are broad
- On the other hand the [OWASP Application Security Verification Standard](https://owasp.org/www-project-application-security-verification-standard/) is a comprehensive list of security criteria
- Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail

</div>
`,title:"Beyond the Top 10",level:1,content:`# Beyond the Top 10

<div class="dense">

- The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing
- By its nature, the Top 10 is a series of guidelines but can't be tested easily as its applications are broad
- On the other hand the [OWASP Application Security Verification Standard](https://owasp.org/www-project-application-security-verification-standard/) is a comprehensive list of security criteria
- Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail

</div>`,frontmatter:{},index:72,start:1189,end:1201,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:72,no:73},__clicksElements:[],__preloaded:!1}},{path:"74",name:"page-74",component:EE,meta:{slide:{raw:`
# Other useful OWASP resources

<div class="dense">

- The [OWASP Cheat Sheet Series](https://cheatsheetseries.owasp.org) provides condensed information on specific security topics related to OWASP standards
- The [OWASP Software Assurance Maturity Model](https://owaspsamm.org) can help an organization analyze and improve their software security

</div>
`,title:"Other useful OWASP resources",level:1,content:`# Other useful OWASP resources

<div class="dense">

- The [OWASP Cheat Sheet Series](https://cheatsheetseries.owasp.org) provides condensed information on specific security topics related to OWASP standards
- The [OWASP Software Assurance Maturity Model](https://owaspsamm.org) can help an organization analyze and improve their software security

</div>`,frontmatter:{},index:73,start:1202,end:1212,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:73,no:74},__clicksElements:[],__preloaded:!1}},{path:"75",name:"page-75",component:BE,meta:{slide:{raw:`
# Thanks For Having Us!

## \u{1F44F}\u{1F44F}\u{1F44F}
`,title:"Thanks For Having Us!",level:1,content:`# Thanks For Having Us!

## \u{1F44F}\u{1F44F}\u{1F44F}`,frontmatter:{},index:74,start:1213,end:1218,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:74,no:75},__clicksElements:[],__preloaded:!1}},{path:"76",component:eA,meta:{layout:"end"}}],Ue=CE,xE=[{name:"play",path:"/",component:zv,children:[...Ue]},{name:"print",path:"/print",component:Gv},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)",redirect:{path:"/1"}},{name:"presenter",path:"/presenter/:no",component:()=>pn(()=>import("./Presenter.03b129a8.js"),["assets/Presenter.03b129a8.js","assets/Presenter.2b62ea14.css","assets/DrawingControls.vue_vue_type_script_setup_true_lang.02452415.js"]),beforeEnter:t=>{if(!Ds.remote||Ds.remote===t.query.password)return!0;if(Ds.remote&&t.query.password===void 0){const s=prompt("Enter password");if(Ds.remote===s)return!0}return t.params.no?{path:`/${t.params.no}`}:{path:""}}},{path:"/presenter",redirect:{path:"/presenter/1"}}],vt=I6({history:J9("/owasp-top-ten-workshop/"),routes:xE});function kE(t,s,{mode:n="replace"}={}){return k({get(){const o=vt.currentRoute.value.query[t];return o==null?s!=null?s:null:Array.isArray(o)?o.filter(Boolean):o},set(o){Qe(()=>{vt[E(n)]({query:{...vt.currentRoute.value.query,[t]:o}})})}})}const hu=K(0);Qe(()=>{vt.afterEach(async()=>{await Qe(),hu.value+=1})});const Gt=k(()=>vt.currentRoute.value),Zr=k(()=>Gt.value.query.print!==void 0),SE=k(()=>Gt.value.query.print==="clicks"),Ut=k(()=>Gt.value.query.embedded!==void 0),qt=k(()=>Gt.value.path.startsWith("/presenter")),Fn=k(()=>Zr.value&&!SE.value),or=k(()=>Gt.value.query.password),OE=k(()=>!qt.value&&(!Ee.remote||or.value===Ee.remote)),Zi=kE("clicks","0"),mu=k(()=>Ue.length-1),FE=k(()=>Gt.value.path),We=k(()=>parseInt(FE.value.split(/\//g).slice(-1)[0])||1);k(()=>Xo(We.value));const ft=k(()=>Ue.find(t=>t.path===`${We.value}`));k(()=>{var t,s,n;return(n=(s=(t=ft.value)==null?void 0:t.meta)==null?void 0:s.slide)==null?void 0:n.id});k(()=>{var t,s;return(s=(t=ft.value)==null?void 0:t.meta)==null?void 0:s.layout});const vl=k(()=>Ue.find(t=>t.path===`${Math.min(Ue.length,We.value+1)}`)),$E=k(()=>{var t,s;return hu.value,((s=(t=ft.value)==null?void 0:t.meta)==null?void 0:s.__clicksElements)||[]}),Ft=k({get(){if(Fn.value)return 99999;let t=+(Zi.value||0);return isNaN(t)&&(t=0),t},set(t){Zi.value=t.toString()}}),To=k(()=>{var t,s,n;return+((n=(s=(t=ft.value)==null?void 0:t.meta)==null?void 0:s.clicks)!=null?n:$E.value.length)}),TE=k(()=>We.value<Ue.length-1||Ft.value<To.value),PE=k(()=>We.value>1||Ft.value>0),ME=k(()=>Ue.filter(t=>{var s,n;return(n=(s=t.meta)==null?void 0:s.slide)==null?void 0:n.title}).reduce((t,s)=>(Qr(t,s),t),[])),IE=k(()=>Gr(ME.value,ft.value));k(()=>Jr(IE.value));function rs(){To.value<=Ft.value?zn():Ft.value+=1}async function as(){Ft.value<=0?await Kn():Ft.value-=1}function Xo(t){return qt.value?`/presenter/${t}`:`/${t}`}function zn(){const t=Math.min(Ue.length,We.value+1);return ln(t)}async function Kn(t=!0){const s=Math.max(1,We.value-1);await ln(s),t&&To.value&&vt.replace({query:{...Gt.value.query,clicks:To.value}})}function ln(t,s){return vt.push({path:Xo(t),query:{...Gt.value.query,clicks:s}})}function RE(t){const s=K(0),{direction:n,distanceX:o,distanceY:l}=D9(t,{onSwipeStart(r){r.pointerType==="touch"&&(Vn.value||(s.value=zl()))},onSwipeEnd(r){if(r.pointerType!=="touch"||!s.value||Vn.value)return;const a=Math.abs(o.value),i=Math.abs(l.value);a/window.innerWidth>.3||a>100?n.value===Kt.LEFT?rs():as():(i/window.innerHeight>.4||i>200)&&(n.value===Kt.DOWN?Kn():zn())}})}async function lr(){const{saveAs:t}=await pn(()=>import("./FileSaver.min.7f56e709.js").then(s=>s.F),[]);t(Op(Ee.download)?Ee.download:Ee.exportFilename?`${Ee.exportFilename}.pdf`:"/owasp-top-ten-workshop/slidev-exported.pdf",`${Ee.title}.pdf`)}async function LE(t){var s,n;if(t==null){const o=(n=(s=ft.value)==null?void 0:s.meta)==null?void 0:n.slide;if(!(o!=null&&o.filepath))return!1;t=`${o.filepath}:${o.start}`}return await fetch(`/__open-in-editor?file=${encodeURIComponent(t)}`),!0}function Qr(t,s,n=1){var l,r,a,i,p;const o=(r=(l=s.meta)==null?void 0:l.slide)==null?void 0:r.level;o&&o>n&&t.length>0?Qr(t[t.length-1].children,s,n+1):t.push({children:[],level:n,path:s.path,hideInToc:Boolean((a=s.meta)==null?void 0:a.hideInToc),title:(p=(i=s.meta)==null?void 0:i.slide)==null?void 0:p.title})}function Gr(t,s,n=!1,o){return t.map(l=>{const r={...l,active:l.path===(s==null?void 0:s.path),hasActiveParent:n};return r.children.length>0&&(r.children=Gr(r.children,s,r.active||r.hasActiveParent,r)),o&&(r.active||r.activeParent)&&(o.activeParent=!0),r})}function Jr(t,s=1){return t.filter(n=>!n.hideInToc).map(n=>({...n,children:Jr(n.children,s+1)}))}function qE(){const t=Ee.titleTemplate.replace("%s",Ee.title||"Slidev");Uy({title:t}),Xy(`${t} - shared`),nh(`${t} - drawings`);function s(){qt.value&&(Ga("page",+We.value),Ga("clicks",Ft.value))}vt.afterEach(s),ye(Ft,s),eh(n=>{(+n.page!=+We.value||Ft.value!==n.clicks)&&vt.replace({path:Xo(n.page),query:{...vt.currentRoute.value.query,clicks:n.clicks||0}})})}const NE=ke({__name:"App",setup(t){return S(M),qE(),(s,n)=>{const o=Do("RouterView"),l=Do("StarportCarrier");return _(),Q(Ce,null,[Z(o),Z(l)],64)}}});function Al(t){return t!==null&&typeof t=="object"}function rr(t,s,n=".",o){if(!Al(s))return rr(t,{},n,o);const l=Object.assign({},s);for(const r in t){if(r==="__proto__"||r==="constructor")continue;const a=t[r];a!=null&&(o&&o(l,r,a,n)||(Array.isArray(a)&&Array.isArray(l[r])?l[r]=a.concat(l[r]):Al(a)&&Al(l[r])?l[r]=rr(a,l[r],(n?`${n}.`:"")+r.toString(),o):l[r]=a))}return l}function jE(t){return(...s)=>s.reduce((n,o)=>rr(n,o,"",t),{})}const HE=jE();var Qi;const VE=typeof window<"u";VE&&((Qi=window==null?void 0:window.navigator)==null?void 0:Qi.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function UE(t){us()&&Zo(t)}const gu=1/60*1e3,WE=typeof performance<"u"?()=>performance.now():()=>Date.now(),vu=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(WE()),gu);function zE(t){let s=[],n=[],o=0,l=!1,r=!1;const a=new WeakSet,i={schedule:(p,u=!1,d=!1)=>{const f=d&&l,y=f?s:n;return u&&a.add(p),y.indexOf(p)===-1&&(y.push(p),f&&l&&(o=s.length)),p},cancel:p=>{const u=n.indexOf(p);u!==-1&&n.splice(u,1),a.delete(p)},process:p=>{if(l){r=!0;return}if(l=!0,[s,n]=[n,s],n.length=0,o=s.length,o)for(let u=0;u<o;u++){const d=s[u];d(p),a.has(d)&&(i.schedule(d),t())}l=!1,r&&(r=!1,i.process(p))}};return i}const KE=40;let ar=!0,Yn=!1,ir=!1;const Xs={delta:0,timestamp:0},Xn=["read","update","preRender","render","postRender"],el=Xn.reduce((t,s)=>(t[s]=zE(()=>Yn=!0),t),{}),cr=Xn.reduce((t,s)=>{const n=el[s];return t[s]=(o,l=!1,r=!1)=>(Yn||QE(),n.schedule(o,l,r)),t},{}),YE=Xn.reduce((t,s)=>(t[s]=el[s].cancel,t),{});Xn.reduce((t,s)=>(t[s]=()=>el[s].process(Xs),t),{});const ZE=t=>el[t].process(Xs),Au=t=>{Yn=!1,Xs.delta=ar?gu:Math.max(Math.min(t-Xs.timestamp,KE),1),Xs.timestamp=t,ir=!0,Xn.forEach(ZE),ir=!1,Yn&&(ar=!1,vu(Au))},QE=()=>{Yn=!0,ar=!0,ir||vu(Au)},_u=()=>Xs;function wu(t,s){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&s.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(t);l<o.length;l++)s.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(t,o[l])&&(n[o[l]]=t[o[l]]);return n}var GE=function(){},Gi=function(){};const pr=(t,s,n)=>Math.min(Math.max(n,t),s),_l=.001,JE=.01,Ji=10,XE=.05,eb=1;function tb({duration:t=800,bounce:s=.25,velocity:n=0,mass:o=1}){let l,r;GE(t<=Ji*1e3);let a=1-s;a=pr(XE,eb,a),t=pr(JE,Ji,t/1e3),a<1?(l=u=>{const d=u*a,f=d*t,y=d-n,h=ur(u,a),m=Math.exp(-f);return _l-y/h*m},r=u=>{const f=u*a*t,y=f*n+n,h=Math.pow(a,2)*Math.pow(u,2)*t,m=Math.exp(-f),w=ur(Math.pow(u,2),a);return(-l(u)+_l>0?-1:1)*((y-h)*m)/w}):(l=u=>{const d=Math.exp(-u*t),f=(u-n)*t+1;return-_l+d*f},r=u=>{const d=Math.exp(-u*t),f=(n-u)*(t*t);return d*f});const i=5/t,p=nb(l,r,i);if(t=t*1e3,isNaN(p))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(p,2)*o;return{stiffness:u,damping:a*2*Math.sqrt(o*u),duration:t}}}const sb=12;function nb(t,s,n){let o=n;for(let l=1;l<sb;l++)o=o-t(o)/s(o);return o}function ur(t,s){return t*Math.sqrt(1-s*s)}const ob=["duration","bounce"],lb=["stiffness","damping","mass"];function Xi(t,s){return s.some(n=>t[n]!==void 0)}function rb(t){let s=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!Xi(t,lb)&&Xi(t,ob)){const n=tb(t);s=Object.assign(Object.assign(Object.assign({},s),n),{velocity:0,mass:1}),s.isResolvedFromDuration=!0}return s}function Xr(t){var{from:s=0,to:n=1,restSpeed:o=2,restDelta:l}=t,r=wu(t,["from","to","restSpeed","restDelta"]);const a={done:!1,value:s};let{stiffness:i,damping:p,mass:u,velocity:d,duration:f,isResolvedFromDuration:y}=rb(r),h=ec,m=ec;function w(){const A=d?-(d/1e3):0,C=n-s,B=p/(2*Math.sqrt(i*u)),b=Math.sqrt(i/u)/1e3;if(l===void 0&&(l=Math.min(Math.abs(n-s)/100,.4)),B<1){const x=ur(b,B);h=q=>{const R=Math.exp(-B*b*q);return n-R*((A+B*b*C)/x*Math.sin(x*q)+C*Math.cos(x*q))},m=q=>{const R=Math.exp(-B*b*q);return B*b*R*(Math.sin(x*q)*(A+B*b*C)/x+C*Math.cos(x*q))-R*(Math.cos(x*q)*(A+B*b*C)-x*C*Math.sin(x*q))}}else if(B===1)h=x=>n-Math.exp(-b*x)*(C+(A+b*C)*x);else{const x=b*Math.sqrt(B*B-1);h=q=>{const R=Math.exp(-B*b*q),V=Math.min(x*q,300);return n-R*((A+B*b*C)*Math.sinh(V)+x*C*Math.cosh(V))/x}}}return w(),{next:A=>{const C=h(A);if(y)a.done=A>=f;else{const B=m(A)*1e3,b=Math.abs(B)<=o,x=Math.abs(n-C)<=l;a.done=b&&x}return a.value=a.done?n:C,a},flipTarget:()=>{d=-d,[s,n]=[n,s],w()}}}Xr.needsInterpolation=(t,s)=>typeof t=="string"||typeof s=="string";const ec=t=>0,Eu=(t,s,n)=>{const o=s-t;return o===0?1:(n-t)/o},ea=(t,s,n)=>-n*t+n*s+t,bu=(t,s)=>n=>Math.max(Math.min(n,s),t),$n=t=>t%1?Number(t.toFixed(5)):t,Zn=/(-)?([\d]*\.?[\d])+/g,dr=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ab=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function eo(t){return typeof t=="string"}const to={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tn=Object.assign(Object.assign({},to),{transform:bu(0,1)}),uo=Object.assign(Object.assign({},to),{default:1}),ta=t=>({test:s=>eo(s)&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),hs=ta("deg"),Pn=ta("%"),pe=ta("px"),tc=Object.assign(Object.assign({},Pn),{parse:t=>Pn.parse(t)/100,transform:t=>Pn.transform(t*100)}),sa=(t,s)=>n=>Boolean(eo(n)&&ab.test(n)&&n.startsWith(t)||s&&Object.prototype.hasOwnProperty.call(n,s)),Du=(t,s,n)=>o=>{if(!eo(o))return o;const[l,r,a,i]=o.match(Zn);return{[t]:parseFloat(l),[s]:parseFloat(r),[n]:parseFloat(a),alpha:i!==void 0?parseFloat(i):1}},Cs={test:sa("hsl","hue"),parse:Du("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:n,alpha:o=1})=>"hsla("+Math.round(t)+", "+Pn.transform($n(s))+", "+Pn.transform($n(n))+", "+$n(Tn.transform(o))+")"},ib=bu(0,255),wl=Object.assign(Object.assign({},to),{transform:t=>Math.round(ib(t))}),ss={test:sa("rgb","red"),parse:Du("red","green","blue"),transform:({red:t,green:s,blue:n,alpha:o=1})=>"rgba("+wl.transform(t)+", "+wl.transform(s)+", "+wl.transform(n)+", "+$n(Tn.transform(o))+")"};function cb(t){let s="",n="",o="",l="";return t.length>5?(s=t.substr(1,2),n=t.substr(3,2),o=t.substr(5,2),l=t.substr(7,2)):(s=t.substr(1,1),n=t.substr(2,1),o=t.substr(3,1),l=t.substr(4,1),s+=s,n+=n,o+=o,l+=l),{red:parseInt(s,16),green:parseInt(n,16),blue:parseInt(o,16),alpha:l?parseInt(l,16)/255:1}}const fr={test:sa("#"),parse:cb,transform:ss.transform},at={test:t=>ss.test(t)||fr.test(t)||Cs.test(t),parse:t=>ss.test(t)?ss.parse(t):Cs.test(t)?Cs.parse(t):fr.parse(t),transform:t=>eo(t)?t:t.hasOwnProperty("red")?ss.transform(t):Cs.transform(t)},Bu="${c}",Cu="${n}";function pb(t){var s,n,o,l;return isNaN(t)&&eo(t)&&((n=(s=t.match(Zn))===null||s===void 0?void 0:s.length)!==null&&n!==void 0?n:0)+((l=(o=t.match(dr))===null||o===void 0?void 0:o.length)!==null&&l!==void 0?l:0)>0}function xu(t){typeof t=="number"&&(t=`${t}`);const s=[];let n=0;const o=t.match(dr);o&&(n=o.length,t=t.replace(dr,Bu),s.push(...o.map(at.parse)));const l=t.match(Zn);return l&&(t=t.replace(Zn,Cu),s.push(...l.map(to.parse))),{values:s,numColors:n,tokenised:t}}function ku(t){return xu(t).values}function Su(t){const{values:s,numColors:n,tokenised:o}=xu(t),l=s.length;return r=>{let a=o;for(let i=0;i<l;i++)a=a.replace(i<n?Bu:Cu,i<n?at.transform(r[i]):$n(r[i]));return a}}const ub=t=>typeof t=="number"?0:t;function db(t){const s=ku(t);return Su(t)(s.map(ub))}const so={test:pb,parse:ku,createTransformer:Su,getAnimatableNone:db},fb=new Set(["brightness","contrast","saturate","opacity"]);function yb(t){let[s,n]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[o]=n.match(Zn)||[];if(!o)return t;const l=n.replace(o,"");let r=fb.has(s)?1:0;return o!==n&&(r*=100),s+"("+r+l+")"}const hb=/([a-z-]*)\(.*?\)/g,yr=Object.assign(Object.assign({},so),{getAnimatableNone:t=>{const s=t.match(hb);return s?s.map(yb).join(" "):t}});function El(t,s,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(s-t)*6*n:n<1/2?s:n<2/3?t+(s-t)*(2/3-n)*6:t}function sc({hue:t,saturation:s,lightness:n,alpha:o}){t/=360,s/=100,n/=100;let l=0,r=0,a=0;if(!s)l=r=a=n;else{const i=n<.5?n*(1+s):n+s-n*s,p=2*n-i;l=El(p,i,t+1/3),r=El(p,i,t),a=El(p,i,t-1/3)}return{red:Math.round(l*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:o}}const mb=(t,s,n)=>{const o=t*t,l=s*s;return Math.sqrt(Math.max(0,n*(l-o)+o))},gb=[fr,ss,Cs],nc=t=>gb.find(s=>s.test(t)),Ou=(t,s)=>{let n=nc(t),o=nc(s),l=n.parse(t),r=o.parse(s);n===Cs&&(l=sc(l),n=ss),o===Cs&&(r=sc(r),o=ss);const a=Object.assign({},l);return i=>{for(const p in a)p!=="alpha"&&(a[p]=mb(l[p],r[p],i));return a.alpha=ea(l.alpha,r.alpha,i),n.transform(a)}},vb=t=>typeof t=="number",Ab=(t,s)=>n=>s(t(n)),Fu=(...t)=>t.reduce(Ab);function $u(t,s){return vb(t)?n=>ea(t,s,n):at.test(t)?Ou(t,s):Pu(t,s)}const Tu=(t,s)=>{const n=[...t],o=n.length,l=t.map((r,a)=>$u(r,s[a]));return r=>{for(let a=0;a<o;a++)n[a]=l[a](r);return n}},_b=(t,s)=>{const n=Object.assign(Object.assign({},t),s),o={};for(const l in n)t[l]!==void 0&&s[l]!==void 0&&(o[l]=$u(t[l],s[l]));return l=>{for(const r in o)n[r]=o[r](l);return n}};function oc(t){const s=so.parse(t),n=s.length;let o=0,l=0,r=0;for(let a=0;a<n;a++)o||typeof s[a]=="number"?o++:s[a].hue!==void 0?r++:l++;return{parsed:s,numNumbers:o,numRGB:l,numHSL:r}}const Pu=(t,s)=>{const n=so.createTransformer(s),o=oc(t),l=oc(s);return o.numHSL===l.numHSL&&o.numRGB===l.numRGB&&o.numNumbers>=l.numNumbers?Fu(Tu(o.parsed,l.parsed),n):a=>`${a>0?s:t}`},wb=(t,s)=>n=>ea(t,s,n);function Eb(t){if(typeof t=="number")return wb;if(typeof t=="string")return at.test(t)?Ou:Pu;if(Array.isArray(t))return Tu;if(typeof t=="object")return _b}function bb(t,s,n){const o=[],l=n||Eb(t[0]),r=t.length-1;for(let a=0;a<r;a++){let i=l(t[a],t[a+1]);if(s){const p=Array.isArray(s)?s[a]:s;i=Fu(p,i)}o.push(i)}return o}function Db([t,s],[n]){return o=>n(Eu(t,s,o))}function Bb(t,s){const n=t.length,o=n-1;return l=>{let r=0,a=!1;if(l<=t[0]?a=!0:l>=t[o]&&(r=o-1,a=!0),!a){let p=1;for(;p<n&&!(t[p]>l||p===o);p++);r=p-1}const i=Eu(t[r],t[r+1],l);return s[r](i)}}function Mu(t,s,{clamp:n=!0,ease:o,mixer:l}={}){const r=t.length;Gi(r===s.length),Gi(!o||!Array.isArray(o)||o.length===r-1),t[0]>t[r-1]&&(t=[].concat(t),s=[].concat(s),t.reverse(),s.reverse());const a=bb(s,o,l),i=r===2?Db(t,a):Bb(t,a);return n?p=>i(pr(t[0],t[r-1],p)):i}const tl=t=>s=>1-t(1-s),na=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,Cb=t=>s=>Math.pow(s,t),Iu=t=>s=>s*s*((t+1)*s-t),xb=t=>{const s=Iu(t);return n=>(n*=2)<1?.5*s(n):.5*(2-Math.pow(2,-10*(n-1)))},Ru=1.525,kb=4/11,Sb=8/11,Ob=9/10,Lu=t=>t,oa=Cb(2),Fb=tl(oa),qu=na(oa),Nu=t=>1-Math.sin(Math.acos(t)),ju=tl(Nu),$b=na(ju),la=Iu(Ru),Tb=tl(la),Pb=na(la),Mb=xb(Ru),Ib=4356/361,Rb=35442/1805,Lb=16061/1805,Po=t=>{if(t===1||t===0)return t;const s=t*t;return t<kb?7.5625*s:t<Sb?9.075*s-9.9*t+3.4:t<Ob?Ib*s-Rb*t+Lb:10.8*t*t-20.52*t+10.72},qb=tl(Po),Nb=t=>t<.5?.5*(1-Po(1-t*2)):.5*Po(t*2-1)+.5;function jb(t,s){return t.map(()=>s||qu).splice(0,t.length-1)}function Hb(t){const s=t.length;return t.map((n,o)=>o!==0?o/(s-1):0)}function Vb(t,s){return t.map(n=>n*s)}function Ao({from:t=0,to:s=1,ease:n,offset:o,duration:l=300}){const r={done:!1,value:t},a=Array.isArray(s)?s:[t,s],i=Vb(o&&o.length===a.length?o:Hb(a),l);function p(){return Mu(i,a,{ease:Array.isArray(n)?n:jb(a,n)})}let u=p();return{next:d=>(r.value=u(d),r.done=d>=l,r),flipTarget:()=>{a.reverse(),u=p()}}}function Ub({velocity:t=0,from:s=0,power:n=.8,timeConstant:o=350,restDelta:l=.5,modifyTarget:r}){const a={done:!1,value:s};let i=n*t;const p=s+i,u=r===void 0?p:r(p);return u!==p&&(i=u-s),{next:d=>{const f=-i*Math.exp(-d/o);return a.done=!(f>l||f<-l),a.value=a.done?u:u+f,a},flipTarget:()=>{}}}const lc={keyframes:Ao,spring:Xr,decay:Ub};function Wb(t){if(Array.isArray(t.to))return Ao;if(lc[t.type])return lc[t.type];const s=new Set(Object.keys(t));return s.has("ease")||s.has("duration")&&!s.has("dampingRatio")?Ao:s.has("dampingRatio")||s.has("stiffness")||s.has("mass")||s.has("damping")||s.has("restSpeed")||s.has("restDelta")?Xr:Ao}function Hu(t,s,n=0){return t-s-n}function zb(t,s,n=0,o=!0){return o?Hu(s+-t,s,n):s-(t-s)+n}function Kb(t,s,n,o){return o?t>=s+n:t<=-n}const Yb=t=>{const s=({delta:n})=>t(n);return{start:()=>cr.update(s,!0),stop:()=>YE.update(s)}};function Vu(t){var s,n,{from:o,autoplay:l=!0,driver:r=Yb,elapsed:a=0,repeat:i=0,repeatType:p="loop",repeatDelay:u=0,onPlay:d,onStop:f,onComplete:y,onRepeat:h,onUpdate:m}=t,w=wu(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:A}=w,C,B=0,b=w.duration,x,q=!1,R=!0,V;const ne=Wb(w);!((n=(s=ne).needsInterpolation)===null||n===void 0)&&n.call(s,o,A)&&(V=Mu([0,100],[o,A],{clamp:!1}),o=0,A=100);const ie=ne(Object.assign(Object.assign({},w),{from:o,to:A}));function ge(){B++,p==="reverse"?(R=B%2===0,a=zb(a,b,u,R)):(a=Hu(a,b,u),p==="mirror"&&ie.flipTarget()),q=!1,h&&h()}function Ae(){C.stop(),y&&y()}function je(Re){if(R||(Re=-Re),a+=Re,!q){const $e=ie.next(Math.max(0,a));x=$e.value,V&&(x=V(x)),q=R?$e.done:a<=0}m==null||m(x),q&&(B===0&&(b!=null||(b=a)),B<i?Kb(a,b,u,R)&&ge():Ae())}function He(){d==null||d(),C=r(je),C.start()}return l&&He(),{stop:()=>{f==null||f(),C.stop()}}}function Uu(t,s){return s?t*(1e3/s):0}function Zb({from:t=0,velocity:s=0,min:n,max:o,power:l=.8,timeConstant:r=750,bounceStiffness:a=500,bounceDamping:i=10,restDelta:p=1,modifyTarget:u,driver:d,onUpdate:f,onComplete:y,onStop:h}){let m;function w(b){return n!==void 0&&b<n||o!==void 0&&b>o}function A(b){return n===void 0?o:o===void 0||Math.abs(n-b)<Math.abs(o-b)?n:o}function C(b){m==null||m.stop(),m=Vu(Object.assign(Object.assign({},b),{driver:d,onUpdate:x=>{var q;f==null||f(x),(q=b.onUpdate)===null||q===void 0||q.call(b,x)},onComplete:y,onStop:h}))}function B(b){C(Object.assign({type:"spring",stiffness:a,damping:i,restDelta:p},b))}if(w(t))B({from:t,velocity:s,to:A(t)});else{let b=l*s+t;typeof u<"u"&&(b=u(b));const x=A(b),q=x===n?-1:1;let R,V;const ne=ie=>{R=V,V=ie,s=Uu(ie-R,_u().delta),(q===1&&ie>x||q===-1&&ie<x)&&B({from:ie,to:x,velocity:s})};C({type:"decay",from:t,velocity:s,timeConstant:r,power:l,restDelta:p,modifyTarget:u,onUpdate:w(b)?ne:void 0})}return{stop:()=>m==null?void 0:m.stop()}}const Wu=(t,s)=>1-3*s+3*t,zu=(t,s)=>3*s-6*t,Ku=t=>3*t,Mo=(t,s,n)=>((Wu(s,n)*t+zu(s,n))*t+Ku(s))*t,Yu=(t,s,n)=>3*Wu(s,n)*t*t+2*zu(s,n)*t+Ku(s),Qb=1e-7,Gb=10;function Jb(t,s,n,o,l){let r,a,i=0;do a=s+(n-s)/2,r=Mo(a,o,l)-t,r>0?n=a:s=a;while(Math.abs(r)>Qb&&++i<Gb);return a}const Xb=8,eD=.001;function tD(t,s,n,o){for(let l=0;l<Xb;++l){const r=Yu(s,n,o);if(r===0)return s;s-=(Mo(s,n,o)-t)/r}return s}const _o=11,fo=1/(_o-1);function sD(t,s,n,o){if(t===s&&n===o)return Lu;const l=new Float32Array(_o);for(let a=0;a<_o;++a)l[a]=Mo(a*fo,t,n);function r(a){let i=0,p=1;const u=_o-1;for(;p!==u&&l[p]<=a;++p)i+=fo;--p;const d=(a-l[p])/(l[p+1]-l[p]),f=i+d*fo,y=Yu(f,t,n);return y>=eD?tD(a,f,t,n):y===0?f:Jb(a,i,i+fo,t,n)}return a=>a===0||a===1?a:Mo(r(a),s,o)}const bl={};class nD{constructor(){this.subscriptions=new Set}add(s){return this.subscriptions.add(s),()=>this.subscriptions.delete(s)}notify(s,n,o){if(!!this.subscriptions.size)for(const l of this.subscriptions)l(s,n,o)}clear(){this.subscriptions.clear()}}const rc=t=>!isNaN(parseFloat(t));class oD{constructor(s){this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new nD,this.canTrackVelocity=!1,this.updateAndNotify=n=>{this.prev=this.current,this.current=n;const{delta:o,timestamp:l}=_u();this.lastUpdated!==l&&(this.timeDelta=o,this.lastUpdated=l),cr.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>cr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{this.canTrackVelocity||(this.canTrackVelocity=rc(this.current)),n!==this.lastUpdated&&(this.prev=this.current)},this.prev=this.current=s,this.canTrackVelocity=rc(this.current)}onChange(s){return this.updateSubscribers.add(s)}clearListeners(){this.updateSubscribers.clear()}set(s){this.updateAndNotify(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Uu(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(s){return this.stop(),new Promise(n=>{const{stop:o}=s(n);this.stopAnimation=o}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function lD(t){return new oD(t)}const{isArray:rD}=Array;function aD(){const t=K({}),s=o=>{const l=r=>{!t.value[r]||(t.value[r].stop(),t.value[r].destroy(),delete t.value[r])};o?rD(o)?o.forEach(l):l(o):Object.keys(t.value).forEach(l)},n=(o,l,r)=>{if(t.value[o])return t.value[o];const a=lD(l);return a.onChange(i=>r[o]=i),t.value[o]=a,a};return UE(s),{motionValues:t,get:n,stop:s}}const iD=t=>Array.isArray(t),ms=()=>({type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}),Dl=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}),cD=t=>({type:"spring",stiffness:550,damping:t===0?100:30,restDelta:.01,restSpeed:10}),Bl=()=>({type:"keyframes",ease:"linear",duration:300}),pD=t=>({type:"keyframes",duration:800,values:t}),ac={default:cD,x:ms,y:ms,z:ms,rotate:ms,rotateX:ms,rotateY:ms,rotateZ:ms,scaleX:Dl,scaleY:Dl,scale:Dl,backgroundColor:Bl,color:Bl,opacity:Bl},Zu=(t,s)=>{let n;return iD(s)?n=pD:n=ac[t]||ac.default,{to:s,...n(s)}},ic={...to,transform:Math.round},Qu={color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,borderWidth:pe,borderTopWidth:pe,borderRightWidth:pe,borderBottomWidth:pe,borderLeftWidth:pe,borderRadius:pe,radius:pe,borderTopLeftRadius:pe,borderTopRightRadius:pe,borderBottomRightRadius:pe,borderBottomLeftRadius:pe,width:pe,maxWidth:pe,height:pe,maxHeight:pe,size:pe,top:pe,right:pe,bottom:pe,left:pe,padding:pe,paddingTop:pe,paddingRight:pe,paddingBottom:pe,paddingLeft:pe,margin:pe,marginTop:pe,marginRight:pe,marginBottom:pe,marginLeft:pe,rotate:hs,rotateX:hs,rotateY:hs,rotateZ:hs,scale:uo,scaleX:uo,scaleY:uo,scaleZ:uo,skew:hs,skewX:hs,skewY:hs,distance:pe,translateX:pe,translateY:pe,translateZ:pe,x:pe,y:pe,z:pe,perspective:pe,transformPerspective:pe,opacity:Tn,originX:tc,originY:tc,originZ:pe,zIndex:ic,filter:yr,WebkitFilter:yr,fillOpacity:Tn,strokeOpacity:Tn,numOctaves:ic},ra=t=>Qu[t],Gu=(t,s)=>s&&typeof t=="number"&&s.transform?s.transform(t):t;function uD(t,s){let n=ra(t);return n!==yr&&(n=so),n.getAnimatableNone?n.getAnimatableNone(s):void 0}const dD={linear:Lu,easeIn:oa,easeInOut:qu,easeOut:Fb,circIn:Nu,circInOut:$b,circOut:ju,backIn:la,backInOut:Pb,backOut:Tb,anticipate:Mb,bounceIn:qb,bounceInOut:Nb,bounceOut:Po},cc=t=>{if(Array.isArray(t)){const[s,n,o,l]=t;return sD(s,n,o,l)}else if(typeof t=="string")return dD[t];return t},fD=t=>Array.isArray(t)&&typeof t[0]!="number",pc=(t,s)=>t==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&so.test(s)&&!s.startsWith("url("));function yD(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function hD({ease:t,times:s,delay:n,...o}){const l={...o};return s&&(l.offset=s),t&&(l.ease=fD(t)?t.map(cc):cc(t)),n&&(l.elapsed=-n),l}function mD(t,s,n){return Array.isArray(s.to)&&(t.duration||(t.duration=800)),yD(s),gD(t)||(t={...t,...Zu(n,s.to)}),{...s,...hD(t)}}function gD({delay:t,repeat:s,repeatType:n,repeatDelay:o,from:l,...r}){return!!Object.keys(r).length}function vD(t,s){return t[s]||t.default||t}function AD(t,s,n,o,l){const r=vD(o,t);let a=r.from===null||r.from===void 0?s.get():r.from;const i=pc(t,n);a==="none"&&i&&typeof n=="string"&&(a=uD(t,n));const p=pc(t,a);function u(f){const y={from:a,to:n,velocity:o.velocity?o.velocity:s.getVelocity(),onUpdate:h=>s.set(h)};return r.type==="inertia"||r.type==="decay"?Zb({...y,...r}):Vu({...mD(r,y,t),onUpdate:h=>{y.onUpdate(h),r.onUpdate&&r.onUpdate(h)},onComplete:()=>{o.onComplete&&o.onComplete(),l&&l(),f&&f()}})}function d(f){return s.set(n),o.onComplete&&o.onComplete(),l&&l(),f&&f(),{stop:()=>{}}}return!p||!i||r.type===!1?d:u}function _D(){const{motionValues:t,stop:s,get:n}=aD();return{motionValues:t,stop:s,push:(l,r,a,i={},p)=>{const u=a[l],d=n(l,u,a);if(i&&i.immediate){d.set(r);return}const f=AD(l,d,r,i,p);d.start(f)}}}function wD(t,s={},{motionValues:n,push:o,stop:l}=_D()){const r=E(s),a=K(!1);ye(n,f=>{a.value=Object.values(f).filter(y=>y.isAnimating()).length>0},{immediate:!0,deep:!0});const i=f=>{if(!r||!r[f])throw new Error(`The variant ${f} does not exist.`);return r[f]},p=f=>(typeof f=="string"&&(f=i(f)),Promise.all(Object.entries(f).map(([y,h])=>{if(y!=="transition")return new Promise(m=>{o(y,h,t,f.transition||Zu(y,f[y]),m)})}).filter(Boolean)));return{isAnimating:a,apply:p,set:f=>{const y=Wl(f)?f:i(f);Object.entries(y).forEach(([h,m])=>{h!=="transition"&&o(h,m,t,{immediate:!0})})},leave:async f=>{let y;if(r&&(r.leave&&(y=r.leave),!r.leave&&r.initial&&(y=r.initial)),!y){f();return}await p(y),f()},stop:l}}const aa=typeof window<"u",ED=()=>aa&&window.onpointerdown===null,bD=()=>aa&&window.ontouchstart===null,DD=()=>aa&&window.onmousedown===null;function BD({target:t,state:s,variants:n,apply:o}){const l=E(n),r=K(!1),a=K(!1),i=K(!1),p=k(()=>{let d=[];return l&&(l.hovered&&(d=[...d,...Object.keys(l.hovered)]),l.tapped&&(d=[...d,...Object.keys(l.tapped)]),l.focused&&(d=[...d,...Object.keys(l.focused)])),d}),u=k(()=>{const d={};Object.assign(d,s.value),r.value&&l.hovered&&Object.assign(d,l.hovered),a.value&&l.tapped&&Object.assign(d,l.tapped),i.value&&l.focused&&Object.assign(d,l.focused);for(const f in d)p.value.includes(f)||delete d[f];return d});l.hovered&&(de(t,"mouseenter",()=>r.value=!0),de(t,"mouseleave",()=>{r.value=!1,a.value=!1}),de(t,"mouseout",()=>{r.value=!1,a.value=!1})),l.tapped&&(DD()&&(de(t,"mousedown",()=>a.value=!0),de(t,"mouseup",()=>a.value=!1)),ED()&&(de(t,"pointerdown",()=>a.value=!0),de(t,"pointerup",()=>a.value=!1)),bD()&&(de(t,"touchstart",()=>a.value=!0),de(t,"touchend",()=>a.value=!1))),l.focused&&(de(t,"focus",()=>i.value=!0),de(t,"blur",()=>i.value=!1)),ye(u,o)}function CD({set:t,target:s,apply:n,variants:o,variant:l}){const r=E(o);ye(()=>s,()=>{!r||(r.initial&&t("initial"),r.enter&&(l.value="enter"))},{immediate:!0,flush:"pre"})}function xD({state:t,apply:s}){ye(t,n=>{n&&s(n)},{immediate:!0})}function kD({target:t,variants:s,variant:n}){const o=E(s);o&&(o.visible||o.visibleOnce)&&w9(t,([{isIntersecting:l}])=>{o.visible?l?n.value="visible":n.value="initial":o.visibleOnce&&(l&&n.value!=="visibleOnce"?n.value="visibleOnce":n.value||(n.value="initial"))})}function SD(t,s={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){s.lifeCycleHooks&&CD(t),s.syncVariants&&xD(t),s.visibilityHooks&&kD(t),s.eventListeners&&BD(t)}function Ju(t={}){const s=Pe({...t}),n=K({});return ye(s,()=>{const o={};for(const[l,r]of Object.entries(s)){const a=ra(l),i=Gu(r,a);o[l]=i}n.value=o},{immediate:!0,deep:!0}),{state:s,style:n}}function ia(t,s){ye(()=>kt(t),n=>{!n||s(n)},{immediate:!0})}const OD={x:"translateX",y:"translateY",z:"translateZ"};function Xu(t={},s=!0){const n=Pe({...t}),o=K("");return ye(n,l=>{let r="",a=!1;s&&(l.x||l.y||l.z)&&(r+=`translate3d(${[l.x||0,l.y||0,l.z||0].map(pe.transform).join(",")}) `,a=!0);for(const[i,p]of Object.entries(l)){if(s&&(i==="x"||i==="y"||i==="z"))continue;const u=ra(i),d=Gu(p,u);r+=`${OD[i]||i}(${d}) `}s&&!a&&(r+="translateZ(0px) "),o.value=r.trim()},{immediate:!0,deep:!0}),{state:n,transform:o}}const FD=["","X","Y","Z"],$D=["perspective","translate","scale","rotate","skew"],ed=["transformPerspective","x","y","z"];$D.forEach(t=>{FD.forEach(s=>{const n=t+s;ed.push(n)})});const TD=new Set(ed);function ca(t){return TD.has(t)}const PD=new Set(["originX","originY","originZ"]);function td(t){return PD.has(t)}function MD(t){const s={},n={};return Object.entries(t).forEach(([o,l])=>{ca(o)||td(o)?s[o]=l:n[o]=l}),{transform:s,style:n}}function sd(t){const{transform:s,style:n}=MD(t),{transform:o}=Xu(s),{style:l}=Ju(n);return o.value&&(l.value.transform=o.value),l.value}function ID(t,s){let n,o;const{state:l,style:r}=Ju();return ia(t,a=>{o=a;for(const i of Object.keys(Qu))a.style[i]===null||a.style[i]===""||ca(i)||td(i)||(l[i]=a.style[i]);n&&Object.entries(n).forEach(([i,p])=>a.style[i]=p),s&&s(l)}),ye(r,a=>{if(!o){n=a;return}for(const i in a)o.style[i]=a[i]},{immediate:!0}),{style:l}}function RD(t){const s=t.trim().split(/\) |\)/);if(s.length===1)return{};const n=o=>o.endsWith("px")||o.endsWith("deg")?parseFloat(o):isNaN(Number(o))?Number(o):o;return s.reduce((o,l)=>{if(!l)return o;const[r,a]=l.split("("),p=a.split(",").map(d=>n(d.endsWith(")")?d.replace(")",""):d.trim())),u=p.length===1?p[0]:p;return{...o,[r]:u}},{})}function LD(t,s){Object.entries(RD(s)).forEach(([n,o])=>{const l=["x","y","z"];if(n==="translate3d"){if(o===0){l.forEach(r=>t[r]=0);return}o.forEach((r,a)=>t[l[a]]=r);return}if(o=parseFloat(o),n==="translateX"){t.x=o;return}if(n==="translateY"){t.y=o;return}if(n==="translateZ"){t.z=o;return}t[n]=o})}function qD(t,s){let n,o;const{state:l,transform:r}=Xu();return ia(t,a=>{o=a,a.style.transform&&LD(l,a.style.transform),n&&(a.style.transform=n),s&&s(l)}),ye(r,a=>{if(!o){n=a;return}o.style.transform=a},{immediate:!0}),{transform:l}}function ND(t,s){const n=Pe({}),o=a=>Object.entries(a).forEach(([i,p])=>n[i]=p),{style:l}=ID(t,o),{transform:r}=qD(t,o);return ye(n,a=>{Object.entries(a).forEach(([i,p])=>{const u=ca(i)?r:l;u[i]&&u[i]===p||(u[i]=p)})},{immediate:!0,deep:!0}),ia(t,()=>s&&o(s)),{motionProperties:n,style:l,transform:r}}function jD(t={}){const s=E(t),n=K();return{state:k(()=>{if(!!n.value)return s[n.value]}),variant:n}}function nd(t,s={},n){const{motionProperties:o}=ND(t),{variant:l,state:r}=jD(s),a=wD(o,s),i={target:t,variant:l,variants:s,state:r,motionProperties:o,...a};return SD(i,n),i}const HD=["initial","enter","leave","visible","visible-once","hovered","tapped","focused","delay"],VD=(t,s)=>{const n=t.props?t.props:t.data&&t.data.attrs?t.data.attrs:{};n&&(n.variants&&Wl(n.variants)&&(s.value={...s.value,...n.variants}),HD.forEach(o=>{if(o==="delay"){if(n&&n[o]&&ch(n[o])){const l=n[o];s&&s.value&&(s.value.enter&&(s.value.enter.transition||(s.value.enter.transition={}),s.value.enter.transition={delay:l,...s.value.enter.transition}),s.value.visible&&(s.value.visible.transition||(s.value.visible.transition={}),s.value.visible.transition={delay:l,...s.value.visible.transition}),s.value.visibleOnce&&(s.value.visibleOnce.transition||(s.value.visibleOnce.transition={}),s.value.visibleOnce.transition={delay:l,...s.value.visibleOnce.transition}))}return}o==="visible-once"&&(o="visibleOnce"),n&&n[o]&&Wl(n[o])&&(s.value[o]=n[o])}))},Cl=t=>({created:(o,l,r)=>{const a=l.value&&typeof l.value=="string"?l.value:r.key;a&&bl[a]&&bl[a].stop();const i=K(t||{});typeof l.value=="object"&&(i.value=l.value),VD(r,i);const p=nd(o,i);o.motionInstance=p,a&&(bl[a]=p)},unmounted:o=>{o.motionInstance&&o.motionInstance.stop()},getSSRProps(o,l){let{initial:r}=o.value||l&&(l==null?void 0:l.props)||{};r=E(r);const a=HE((t==null?void 0:t.initial)||{},r||{});return!a||Object.keys(a).length===0?void 0:{style:sd(a)}}}),UD={initial:{opacity:0},enter:{opacity:1}},WD={initial:{opacity:0},visible:{opacity:1}},zD={initial:{opacity:0},visibleOnce:{opacity:1}},KD={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},YD={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},ZD={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},QD={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},GD={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},JD={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},XD={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},e7={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},t7={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},s7={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},n7={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},o7={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},l7={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},r7={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},a7={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},i7={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},c7={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},p7={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},u7={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},d7={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},f7={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},y7={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},h7={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},m7={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},g7={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},v7={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},A7={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},hr={__proto__:null,fade:UD,fadeVisible:WD,fadeVisibleOnce:zD,pop:KD,popVisible:YD,popVisibleOnce:ZD,rollBottom:l7,rollLeft:QD,rollRight:XD,rollTop:s7,rollVisibleBottom:r7,rollVisibleLeft:GD,rollVisibleRight:e7,rollVisibleTop:n7,rollVisibleOnceBottom:a7,rollVisibleOnceLeft:JD,rollVisibleOnceRight:t7,rollVisibleOnceTop:o7,slideBottom:g7,slideLeft:i7,slideRight:u7,slideTop:y7,slideVisibleBottom:v7,slideVisibleLeft:c7,slideVisibleRight:d7,slideVisibleTop:h7,slideVisibleOnceBottom:A7,slideVisibleOnceLeft:p7,slideVisibleOnceRight:f7,slideVisibleOnceTop:m7},_7=ke({props:{is:{type:[String,Object],required:!1},preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1}},setup(t){var i;const s=ny(),n=Pe({});if(!t.is&&!s.default)return()=>mt("div",{});const o=k(()=>{let p;return t.preset&&(p=hr[t.preset]),p}),l=k(()=>({initial:t.initial,enter:t.enter,leave:t.leave,visible:t.visible,visibleOnce:t.visibleOnce,hovered:t.hovered,tapped:t.tapped,focused:t.focused})),r=k(()=>{const p={...l.value,...o.value||{},...t.variants||{}};return t.delay&&(p.enter.transition={...p.enter.transition},p.enter.transition.delay=parseInt(t.delay)),p}),a=k(()=>{if(!t.is)return;let p=t.is;return typeof a.value=="string"&&!yd(p)&&(p=Do(p)),p});if(((i=process==null?void 0:process.env)==null?void 0:i.NODE_ENV)==="development"||(process==null?void 0:process.dev)){const p=u=>{var d;(d=u.variants)!=null&&d.initial&&u.set("initial"),setTimeout(()=>{var f,y,h;(f=u.variants)!=null&&f.enter&&u.apply("enter"),(y=u.variants)!=null&&y.visible&&u.apply("visible"),(h=u.variants)!=null&&h.visibleOnce&&u.apply("visibleOnce")},10)};Pr(()=>Object.entries(n).forEach(([u,d])=>p(d)))}return{slots:s,component:a,motionConfig:r,instances:n}},render({slots:t,motionConfig:s,instances:n,component:o}){var i;const l=sd(s.initial||{}),r=(p,u)=>(p.props||(p.props={}),p.props.style=l,p.props.onVnodeMounted=({el:d})=>{const f=nd(d,s);n[u]=f},p);if(o){const p=mt(o,void 0,t);return r(p,0),p}return(((i=t.default)==null?void 0:i.call(t))||[]).map((p,u)=>r(p,u))}});function w7(t){const s="\xE0\xE1\xE2\xE4\xE6\xE3\xE5\u0101\u0103\u0105\xE7\u0107\u010D\u0111\u010F\xE8\xE9\xEA\xEB\u0113\u0117\u0119\u011B\u011F\u01F5\u1E27\xEE\xEF\xED\u012B\u012F\xEC\u0142\u1E3F\xF1\u0144\u01F9\u0148\xF4\xF6\xF2\xF3\u0153\xF8\u014D\xF5\u0151\u1E55\u0155\u0159\xDF\u015B\u0161\u015F\u0219\u0165\u021B\xFB\xFC\xF9\xFA\u016B\u01D8\u016F\u0171\u0173\u1E83\u1E8D\xFF\xFD\u017E\u017A\u017C\xB7/_,:;",n="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",o=new RegExp(s.split("").join("|"),"g");return t.toString().replace(/[A-Z]/g,l=>`-${l}`).toLowerCase().replace(/\s+/g,"-").replace(o,l=>n.charAt(s.indexOf(l))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const E7={install(t,s){if(t.directive("motion",Cl()),t.component("Motion",_7),!s||s&&!s.excludePresets)for(const n in hr){const o=hr[n];t.directive(`motion-${w7(n)}`,Cl(o))}if(s&&s.directives)for(const n in s.directives){const o=s.directives[n];o.initial,t.directive(`motion-${n}`,Cl(o))}}};var uc;const Mn=typeof window<"u",b7=Object.prototype.toString,D7=t=>b7.call(t)==="[object Object]";Mn&&((uc=window==null?void 0:window.navigator)==null?void 0:uc.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function B7(t){return $c()?(Tc(t),!0):!1}function C7(t){var s;const n=E(t);return(s=n==null?void 0:n.$el)!=null?s:n}const x7=Mn?window:void 0,mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gr="__vueuse_ssr_handlers__";mr[gr]=mr[gr]||{};mr[gr];function k7(t,s={}){const{immediate:n=!0,window:o=x7}=s,l=K(!1);let r=null;function a(){!l.value||!o||(t(),r=o.requestAnimationFrame(a))}function i(){!l.value&&o&&(l.value=!0,a())}function p(){l.value=!1,r!=null&&o&&(o.cancelAnimationFrame(r),r=null)}return n&&i(),B7(p),{isActive:l,pause:p,resume:i}}var dc;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(dc||(dc={}));const pa="vue-starport-injection",od="vue-starport-options",S7={duration:800,easing:"cubic-bezier(0.45, 0, 0.55, 1)",keepAlive:!1},ld={port:{type:String,required:!0},duration:{type:Number,required:!1},easing:{type:String,required:!1},keepAlive:{type:Boolean,required:!1,default:void 0},mountedProps:{type:Object,required:!1},initialProps:{type:Object,required:!1}};var O7=Object.defineProperty,Io=Object.getOwnPropertySymbols,rd=Object.prototype.hasOwnProperty,ad=Object.prototype.propertyIsEnumerable,fc=(t,s,n)=>s in t?O7(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,F7=(t,s)=>{for(var n in s||(s={}))rd.call(s,n)&&fc(t,n,s[n]);if(Io)for(var n of Io(s))ad.call(s,n)&&fc(t,n,s[n]);return t},yc=(t,s)=>{var n={};for(var o in t)rd.call(t,o)&&s.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&Io)for(var o of Io(t))s.indexOf(o)<0&&ad.call(t,o)&&(n[o]=t[o]);return n};const $7=ke({name:"StarportProxy",props:F7({props:{type:Object,default:()=>({})},component:{type:Object,required:!0}},ld),setup(t,s){const n=S(pa),o=k(()=>n.getInstance(t.port,t.component)),l=K(),r=o.value.generateId(),a=K(!1);return o.value.isVisible||(o.value.land(),a.value=!0),cn(async()=>{o.value.el||(o.value.el=l.value,await Qe(),a.value=!0,o.value.rect.update())}),Yo(async()=>{o.value.rect.update(),o.value.liftOff(),o.value.el=void 0,a.value=!1,!o.value.options.keepAlive&&(await Qe(),await Qe(),!o.value.el&&n.dispose(o.value.port))}),ye(()=>t,async()=>{o.value.props&&await Qe();const i=t,{props:p}=i,u=yc(i,["props"]);o.value.props=p||{},o.value.setLocalOptions(u)},{deep:!0,immediate:!0}),()=>{const i=t,{initialProps:p,mountedProps:u}=i,d=yc(i,["initialProps","mountedProps"]),f=Ne(d,(a.value?u:p)||{});return mt("div",Ne(f,{id:r,ref:l,"data-starport-proxy":o.value.componentId,"data-starport-landed":o.value.isLanded?"true":void 0,"data-starport-floating":o.value.isLanded?void 0:"true"}),s.slots.default?mt(s.slots.default):void 0)}}});var T7=Object.defineProperty,P7=Object.defineProperties,M7=Object.getOwnPropertyDescriptors,hc=Object.getOwnPropertySymbols,I7=Object.prototype.hasOwnProperty,R7=Object.prototype.propertyIsEnumerable,mc=(t,s,n)=>s in t?T7(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,L7=(t,s)=>{for(var n in s||(s={}))I7.call(s,n)&&mc(t,n,s[n]);if(hc)for(var n of hc(s))R7.call(s,n)&&mc(t,n,s[n]);return t},q7=(t,s)=>P7(t,M7(s));const N7=ke({name:"Starport",inheritAttrs:!0,props:ld,setup(t,s){const n=K(!1);return cn(()=>{n.value=!0}),()=>{var a,i;const o=(i=(a=s.slots).default)==null?void 0:i.call(a);if(!o)throw new Error("[Vue Starport] Slot is required to use <Starport>");if(o.length!==1)throw new Error(`[Vue Starport] <Starport> requires exactly one slot, but got ${o.length}`);const l=o[0];let r=l.type;return(!D7(r)||tn(r))&&(r={render(){return o}}),mt($7,q7(L7({},t),{key:t.port,component:Vo(r),props:l.props}))}}});function j7(t){const s=Pe({height:0,width:0,left:0,top:0,update:o,listen:r,pause:a,margin:"0px",padding:"0px"}),n=Mn?document.documentElement||document.body:void 0;function o(){if(!Mn)return;const i=C7(t);if(!i)return;const{height:p,width:u,left:d,top:f}=i.getBoundingClientRect(),y=window.getComputedStyle(i),h=y.margin,m=y.padding;Object.assign(s,{height:p,width:u,left:d,top:n.scrollTop+f,margin:h,padding:m})}const l=k7(o,{immediate:!1});function r(){!Mn||(o(),l.resume())}function a(){l.pause()}return s}let H7=(t,s=21)=>(n=s)=>{let o="",l=n;for(;l--;)o+=t[Math.random()*t.length|0];return o};const gc=H7("abcdefghijklmnopqrstuvwxyz",5);function vc(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().replace(/[^\w\d_-]/g,"")}function V7(t){var s;return t.name||((s=t.__file)==null?void 0:s.split(/[\/\\.]/).slice(-2)[0])||""}var U7=Object.defineProperty,Ac=Object.getOwnPropertySymbols,W7=Object.prototype.hasOwnProperty,z7=Object.prototype.propertyIsEnumerable,_c=(t,s,n)=>s in t?U7(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,xl=(t,s)=>{for(var n in s||(s={}))W7.call(s,n)&&_c(t,n,s[n]);if(Ac)for(var n of Ac(s))z7.call(s,n)&&_c(t,n,s[n]);return t};function K7(t,s,n={}){const o=V7(s),l=vc(o)||gc(),r=K(),a=K(null),i=K(!1),p=K(!1),u=Ed(!0),d=K({}),f=k(()=>xl(xl(xl({},S7),n),d.value)),y=K(0);let h;u.run(()=>{h=j7(r),ye(r,async C=>{C&&(p.value=!0),await Qe(),r.value||(p.value=!1)})});const m=vc(t);function w(){return`starport-${l}-${m}-${gc()}`}const A=w();return Pe({el:r,id:A,port:t,props:a,rect:h,scope:u,isLanded:i,isVisible:p,options:f,liftOffTime:y,component:s,componentName:o,componentId:l,generateId:w,setLocalOptions(C={}){d.value=JSON.parse(JSON.stringify(C))},elRef(){return r},liftOff(){!i.value||(i.value=!1,y.value=Date.now(),h.listen())},land(){i.value||(i.value=!0,h.pause())}})}function Y7(t){const s=Pe(new Map);function n(l,r){let a=s.get(l);return a||(a=K7(l,r,t),s.set(l,a)),a.component=r,a}function o(l){var r;(r=s.get(l))==null||r.scope.stop(),s.delete(l)}return{portMap:s,dispose:o,getInstance:n}}var Z7=Object.defineProperty,Q7=Object.defineProperties,G7=Object.getOwnPropertyDescriptors,wc=Object.getOwnPropertySymbols,J7=Object.prototype.hasOwnProperty,X7=Object.prototype.propertyIsEnumerable,Ec=(t,s,n)=>s in t?Z7(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,e4=(t,s)=>{for(var n in s||(s={}))J7.call(s,n)&&Ec(t,n,s[n]);if(wc)for(var n of wc(s))X7.call(s,n)&&Ec(t,n,s[n]);return t},t4=(t,s)=>Q7(t,G7(s));const s4=ke({name:"StarportCraft",props:{port:{type:String,required:!0},component:{type:Object,required:!0}},setup(t){const s=S(pa);if(!s)throw new Error("[Vue Starport] Failed to find the carrier, all Starport components must be wrapped in a <StarportCarrier> component.");const n=k(()=>s.getInstance(t.port,t.component)),o=k(()=>{var a;return((a=n.value.el)==null?void 0:a.id)||n.value.id}),l=k(()=>{const a=Date.now()-n.value.liftOffTime,i=Math.max(0,n.value.options.duration-a),p=n.value.rect,u={position:"absolute",left:0,top:0,width:`${p.width}px`,height:`${p.height}px`,margin:p.margin,padding:p.padding,transform:`translate3d(${p.left}px,${p.top}px,0px)`};return!n.value.isVisible||!n.value.el?t4(e4({},u),{zIndex:-1,display:"none"}):(n.value.isLanded?u.display="none":Object.assign(u,{transitionProperty:"all",transitionDuration:`${i}ms`,transitionTimingFunction:n.value.options.easing}),u)}),r={};return()=>{const a=!!(n.value.isLanded&&n.value.el);return mt("div",{style:l.value,"data-starport-craft":n.value.componentId,"data-starport-landed":n.value.isLanded?"true":void 0,"data-starport-floating":n.value.isLanded?void 0:"true",onTransitionend:n.value.land},mt(Kf,{to:a?`#${o.value}`:"body",disabled:!a},mt(n.value.component,Ne(r,n.value.props))))}}}),n4=ke({name:"StarportCarrier",setup(t,{slots:s}){const n=Y7(S(od,{}));return us().appContext.app.provide(pa,n),()=>{var l;return[(l=s.default)==null?void 0:l.call(s),Array.from(n.portMap.entries()).map(([r,{component:a}])=>mt(s4,{key:r,port:r,component:a}))]}}});function o4(t={}){return{install(s){s.provide(od,t),s.component("Starport",N7),s.component("StarportCarrier",n4)}}}function l4(t){function s(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}s(),window.addEventListener("resize",s),t.app.use(E7),t.app.use(o4({keepAlive:!0}))}function pt(t,s,n){var o,l;return(l=((o=t.instance)==null?void 0:o.$).provides[s])!=null?l:n}function r4(){return{install(t){t.directive("click",{name:"v-click",mounted(s,n){var d,f,y,h;if(Fn.value||((d=pt(n,xn))==null?void 0:d.value))return;const o=pt(n,ws),l=pt(n,Cn),r=pt(n,Vl),a=n.modifiers.hide!==!1&&n.modifiers.hide!=null,i=n.modifiers.fade!==!1&&n.modifiers.fade!=null,p=((f=o==null?void 0:o.value)==null?void 0:f.length)||0,u=i?Ky:cl;if(o&&!((y=o==null?void 0:o.value)!=null&&y.includes(s))&&o.value.push(s),n.value===null&&(n.value=o==null?void 0:o.value.length),!(r!=null&&r.value.has(n.value)))r==null||r.value.set(n.value,[s]);else if(!((h=r==null?void 0:r.value.get(n.value))!=null&&h.includes(s))){const m=(r==null?void 0:r.value.get(n.value))||[];r==null||r.value.set(n.value,[s].concat(m))}s==null||s.classList.toggle(vs,!0),l&&ye(l,()=>{var C;const m=(C=l==null?void 0:l.value)!=null?C:0,w=n.value!=null?m>=n.value:m>p;s.classList.contains(pl)||s.classList.toggle(u,!w),a!==!1&&a!==void 0&&s.classList.toggle(u,w),s.classList.toggle(mn,!1);const A=r==null?void 0:r.value.get(m);A==null||A.forEach((B,b)=>{B.classList.toggle(co,!1),b===A.length-1?B.classList.toggle(mn,!0):B.classList.toggle(co,!0)}),s.classList.contains(mn)||s.classList.toggle(co,w)},{immediate:!0})},unmounted(s,n){s==null||s.classList.toggle(vs,!1);const o=pt(n,ws);o!=null&&o.value&&Ul(o.value,s)}}),t.directive("after",{name:"v-after",mounted(s,n){var i,p;if(Fn.value||((i=pt(n,xn))==null?void 0:i.value))return;const o=pt(n,ws),l=pt(n,Cn),r=pt(n,Vl),a=o==null?void 0:o.value.length;n.value===void 0&&(n.value=o==null?void 0:o.value.length),r!=null&&r.value.has(n.value)?(p=r==null?void 0:r.value.get(n.value))==null||p.push(s):r==null||r.value.set(n.value,[s]),s==null||s.classList.toggle(vs,!0),l&&ye(l,()=>{var d,f,y;const u=((d=l.value)!=null?d:0)>=((y=(f=n.value)!=null?f:a)!=null?y:0);s.classList.contains(pl)||s.classList.toggle(cl,!u),s.classList.toggle(mn,!1),s.classList.contains(mn)||s.classList.toggle(co,u)},{immediate:!0})},unmounted(s){s==null||s.classList.toggle(vs,!0)}}),t.directive("click-hide",{name:"v-click-hide",mounted(s,n){var a,i,p;if(Fn.value||((a=pt(n,xn))==null?void 0:a.value))return;const o=pt(n,ws),l=pt(n,Cn),r=((i=o==null?void 0:o.value)==null?void 0:i.length)||0;o&&!((p=o==null?void 0:o.value)!=null&&p.includes(s))&&o.value.push(s),s==null||s.classList.toggle(vs,!0),l&&ye(l,()=>{var f;const u=(f=l==null?void 0:l.value)!=null?f:0,d=n.value!=null?u>=n.value:u>r;s.classList.toggle(cl,d),s.classList.toggle(pl,d)},{immediate:!0})},unmounted(s,n){s==null||s.classList.toggle(vs,!1);const o=pt(n,ws);o!=null&&o.value&&Ul(o.value,s)}})}}}function a4(t,s){const n=cu(t),o=pu(s,n.currentRoute,n.currentPage);return{nav:{...n,...o,downloadPDF:lr,next:rs,nextSlide:zn,openInEditor:LE,prev:as,prevSlide:Kn},configs:Ee,themeConfigs:k(()=>Ee.themeConfig)}}function i4(){return{install(t){const s=a4(Gt,Ft);t.provide(M,Pe(s))}}}const dn=Sy(NE);dn.use(vt);dn.use(Hy());dn.use(r4());dn.use(i4());l4({app:dn,router:vt});dn.mount("#app");export{wn as $,he as A,De as B,st as C,Nm as D,c4 as E,Ce as F,p4 as G,Ft as H,To as I,TE as J,vl as K,ul as L,Vn as M,ml as N,xp as O,Wv as P,Wr as Q,Hv as R,zr as S,We as T,mu as U,Zm as V,ru as W,Mt as X,u4 as Y,cs as Z,ou as _,e as a,po as a0,Gn as a1,Bs as a2,jt as a3,tr as a4,mm as a5,gm as a6,vm as a7,_m as a8,Mr as a9,Ep as aa,h4 as ab,nt as ac,Sg as ad,Bp as ae,wm as af,Yo as ag,Rm as ah,k as b,Q as c,ke as d,M as e,ft as f,F as g,E as h,S as i,Om as j,RE as k,Ee as l,Uy as m,Le as n,_ as o,cn as p,Pe as q,K as r,d4 as s,$s as t,f4 as u,y4 as v,ye as w,Z as x,ot as y,$ as z};
